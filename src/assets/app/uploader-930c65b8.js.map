{"version":3,"sources":["webpack:///./assets/scripts/modules/ajax-uploader.js","webpack:///./node_modules/dm-file-uploader/src/js/jquery.dm-uploader.js","webpack:///./node_modules/@wpackio/entrypoint/lib/index.js","webpack:///external \"jQuery\""],"names":["jQuery","document","ready","$","dmUploader","url","data","type","dataType","multiple","this","onUploadSuccess","id","name","is_multiple","button","thumb","title","find","filter","value","remove","append","show","hide","empty","live","uploader","closest","attr","parent","each","thumbnails","children","length","factory","pluginName","FileStatus","defaults","auto","queue","dnd","hookDocument","URL","method","extraData","headers","fieldName","maxFileSize","allowedTypes","extFilter","onInit","onComplete","onFallbackMode","onNewFile","onBeforeUpload","onUploadProgress","onUploadCanceled","onUploadError","onUploadComplete","onFileTypeError","onFileSizeError","onFileExtError","onDragEnter","onDragLeave","onDocumentDragEnter","onDocumentDragLeave","DmUploaderFile","file","widget","jqXHR","status","Math","random","toString","substr","prototype","upload","canUpload","queueRunning","processQueue","fd","FormData","settings","customData","call","element","exKey","exVal","activeFiles","ajax","cache","contentType","processData","forceSync","xhr","getXhr","success","onSuccess","error","errMsg","onError","complete","xhrobj","ajaxSettings","addEventListener","event","percent","position","loaded","total","totalSize","lengthComputable","ceil","cancel","abort","myStatus","DmUploader","options","extend","checkSupport","init","window","RegExp","test","navigator","userAgent","prop","queuePos","draggingOver","draggingOverDoc","input","is","on","evt","files","target","addFiles","val","initDnD","preventDefault","dataTransfer","originalEvent","push","off","releaseEvents","validateFile","size","match","ext","toLowerCase","split","pop","inArray","nFiles","i","restartQueue","findById","r","cancelAll","queueWasRunning","startAll","methods","start","reset","destroy","removeData","fn","args","arguments","plugin","apply","Array","slice","path","replace","concat","module","exports"],"mappings":"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","file":"app/uploader-930c65b8.js","sourcesContent":["import 'dm-file-uploader';\n\njQuery(document).ready(function($) {\n\n  /**\n   * 初始化文件上传组件\n   */\n  $('.js-uploader').dmUploader({\n    url            : $('.js-uploader .rs-uploader__shadow').data('url'),\n    type           : 'POST',\n    dataType       : 'json',\n    multiple       : ($(this).data('multiple') === true),\n    onUploadSuccess: function(id, data) {\n\n      var name = $(this).data('name'),\n          is_multiple = ($(this).data('multiple') === true),\n          button = '<button type=button class=\"close\" data-value=' + data.id + '>x</button>',\n          thumb = '<img src=\"' + data.thumb + '\" alt=\"Thumbnail\">';\n\n      if (!data.thumb) {\n        thumb = '<svg t=\"1540194811704\" class=\"icon\" style=\"\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2457\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"128\" height=\"128\"><defs><style type=\"text/css\"></style></defs><path d=\"M768 426.666667H341.333333a17.066667 17.066667 0 1 0 0 34.133333h426.666667a17.066667 17.066667 0 1 0 0-34.133333zM341.333333 324.266667h170.666667a17.066667 17.066667 0 1 0 0-34.133334H341.333333a17.066667 17.066667 0 1 0 0 34.133334zM768 563.2H341.333333a17.066667 17.066667 0 1 0 0 34.133333h426.666667a17.066667 17.066667 0 1 0 0-34.133333zM768 699.733333H341.333333a17.066667 17.066667 0 1 0 0 34.133334h426.666667a17.066667 17.066667 0 1 0 0-34.133334zM768 836.266667H341.333333a17.066667 17.066667 0 1 0 0 34.133333h426.666667a17.066667 17.066667 0 1 0 0-34.133333z\" p-id=\"2458\" fill=\"#666666\"></path><path d=\"M836.266667 248.9344V0H102.4v938.666667h85.333333v85.333333h733.866667V334.267733l-85.333333-85.333333z m-153.6-105.335467l153.6 153.6L863.3344 324.266667H682.666667V143.598933zM136.533333 904.533333V34.133333h665.6v180.667734L672.6656 85.333333H187.733333v819.2H136.533333z m85.333334 85.333334V119.466667h426.666666v238.933333h238.933334v631.466667H221.866667z\" p-id=\"2459\" fill=\"#666666\"></path></svg><br>' +\n            data.title;\n      }\n\n      $(this).\n          find('input:text').\n          filter(function() { return this.value === ''; }).\n          remove();\n\n      if (!is_multiple) {\n        $(this).find('.rs-uploader__text').hide();\n        $(this).find('.rs-uploader__button').hide();\n\n        $(this).\n            find('.rs-uploader__value').\n            empty().\n            append('<input type=\"hidden\" name=\"' + name + '\" value=\"' + data.id + '\">');\n\n        $(this).\n            find('.rs-uploader__preview').\n            empty().\n            show().\n            append('<div class=\"rs-uploader__thumbnail\">' + button + thumb + '</div>');\n      } else {\n\n        $(this).\n            find('.rs-uploader__value').\n            append('<input type=\"hidden\" name=\"' + name + '\" value=\"' + data.id + '\">');\n\n        $(this).\n            find('.rs-uploader__preview').\n            show().\n            append('<div class=\"rs-uploader__thumbnail\">' + button + thumb + '</div>');\n      }\n\n    },\n  });\n\n\n  /**\n   * 删除缩略图\n   */\n  $('.js-uploader button.close').live('click', function() {\n\n    var value = $(this).data('value'),\n        uploader = $(this).closest('.js-uploader'),\n        is_multiple = (uploader.data('multiple') === true);\n\n    // 移除值\n    if (!is_multiple) {\n\n      $('.rs-uploader__value input').attr('value', '');\n\n      uploader.show();\n      uploader.find('.rs-uploader__text').show();\n      uploader.find('.rs-uploader__button').show();\n\n    } else {\n\n      uploader.find('input[value=' + value + ']').remove();\n\n    }\n\n    // 移除缩略图\n    $(this).parent().remove();\n\n  });\n\n  /**\n   * 单文件上传时，如果已有文件，移除上传组件\n   */\n  $('input[name=js-input-shadow]').each(function() {\n\n    var uploader = $(this).closest('.js-uploader'),\n        is_multiple = (uploader.data('multiple') === true),\n        thumbnails = uploader.find('.rs-uploader__preview').children().length;\n\n    if (!is_multiple && thumbnails > 0) {\n      uploader.find('.rs-uploader__text').hide();\n      $(this).parent().hide();\n    }\n\n  });\n\n});\n","/*\n * dmUploader - jQuery Ajax File Uploader Widget\n * https://github.com/danielm/uploader\n *\n * Copyright Daniel Morales <daniel85mg@gmail.com>\n * Released under the MIT license.\n * https://github.com/danielm/uploader/blob/master/LICENSE.txt\n *\n * @preserve\n */ /* global define, define, window, document, FormData */(function(factory){\"use strict\";if(typeof define===\"function\"&&define.amd){// AMD. Register as an anonymous module.\ndefine([\"jquery\"],factory);}else if(typeof exports!==\"undefined\"){module.exports=factory(require(\"jquery\"));}else{// Browser globals\nfactory(window.jQuery);}})(function($){\"use strict\";var pluginName=\"dmUploader\";var FileStatus={PENDING:0,UPLOADING:1,COMPLETED:2,FAILED:3,CANCELLED:4//(by the user)\n};// These are the plugin defaults values\nvar defaults={auto:true,queue:true,dnd:true,hookDocument:true,multiple:true,url:document.URL,method:\"POST\",extraData:{},headers:{},dataType:null,fieldName:\"file\",maxFileSize:0,allowedTypes:\"*\",extFilter:null,onInit:function onInit(){},onComplete:function onComplete(){},onFallbackMode:function onFallbackMode(){},onNewFile:function onNewFile(){},//params: id, file\nonBeforeUpload:function onBeforeUpload(){},//params: id\nonUploadProgress:function onUploadProgress(){},//params: id, percent\nonUploadSuccess:function onUploadSuccess(){},//params: id, data\nonUploadCanceled:function onUploadCanceled(){},//params: id\nonUploadError:function onUploadError(){},//params: id, xhr, status, message\nonUploadComplete:function onUploadComplete(){},//params: id\nonFileTypeError:function onFileTypeError(){},//params: file\nonFileSizeError:function onFileSizeError(){},//params: file\nonFileExtError:function onFileExtError(){},//params: file\nonDragEnter:function onDragEnter(){},onDragLeave:function onDragLeave(){},onDocumentDragEnter:function onDocumentDragEnter(){},onDocumentDragLeave:function onDocumentDragLeave(){}};var DmUploaderFile=function DmUploaderFile(file,widget){this.data=file;this.widget=widget;this.jqXHR=null;this.status=FileStatus.PENDING;// The file id doesnt have to bo that special.... or not?\nthis.id=Math.random().toString(36).substr(2);};DmUploaderFile.prototype.upload=function(){var file=this;if(!file.canUpload()){if(file.widget.queueRunning&&file.status!==FileStatus.UPLOADING){file.widget.processQueue();}return false;}// Form Data\nvar fd=new FormData();fd.append(file.widget.settings.fieldName,file.data);// Append extra Form Data\nvar customData=file.widget.settings.extraData;if(typeof customData===\"function\"){customData=customData.call(file.widget.element,file.id);}$.each(customData,function(exKey,exVal){fd.append(exKey,exVal);});file.status=FileStatus.UPLOADING;file.widget.activeFiles++;file.widget.settings.onBeforeUpload.call(file.widget.element,file.id);// Ajax Submit\nfile.jqXHR=$.ajax({url:file.widget.settings.url,type:file.widget.settings.method,dataType:file.widget.settings.dataType,data:fd,headers:file.widget.settings.headers,cache:false,contentType:false,processData:false,forceSync:false,xhr:function xhr(){return file.getXhr();},success:function success(data){file.onSuccess(data);},error:function error(xhr,status,errMsg){file.onError(xhr,status,errMsg);},complete:function complete(){file.onComplete();}});return true;};DmUploaderFile.prototype.onSuccess=function(data){this.status=FileStatus.COMPLETED;this.widget.settings.onUploadSuccess.call(this.widget.element,this.id,data);};DmUploaderFile.prototype.onError=function(xhr,status,errMsg){// If the status is: cancelled (by the user) don't invoke the error callback\nif(this.status!==FileStatus.CANCELLED){this.status=FileStatus.FAILED;this.widget.settings.onUploadError.call(this.widget.element,this.id,xhr,status,errMsg);}};DmUploaderFile.prototype.onComplete=function(){this.widget.activeFiles--;if(this.status!==FileStatus.CANCELLED){this.widget.settings.onUploadComplete.call(this.widget.element,this.id);}if(this.widget.queueRunning){this.widget.processQueue();}else if(this.widget.settings.queue&&this.widget.activeFiles===0){this.widget.settings.onComplete.call(this.element);}};DmUploaderFile.prototype.getXhr=function(){var file=this;var xhrobj=$.ajaxSettings.xhr();if(xhrobj.upload){xhrobj.upload.addEventListener(\"progress\",function(event){var percent=0;var position=event.loaded||event.position;var total=event.total||event.totalSize;if(event.lengthComputable){percent=Math.ceil(position/total*100);}file.widget.settings.onUploadProgress.call(file.widget.element,file.id,percent);},false);}return xhrobj;};DmUploaderFile.prototype.cancel=function(abort){// The abort flag is to track if we are calling this function directly (using the cancel Method, by id)\n// or the call comes from the 'gobal' method aka cancelAll.\n// THis mean that we don't want to trigger the cancel event on file that isn't uploading, UNLESS directly doing it\n// ... and yes, it could be done prettier. Review (?)\nabort=typeof abort===\"undefined\"?false:abort;var myStatus=this.status;if(myStatus===FileStatus.UPLOADING||abort&&myStatus===FileStatus.PENDING){this.status=FileStatus.CANCELLED;}else{return false;}this.widget.settings.onUploadCanceled.call(this.widget.element,this.id);if(myStatus===FileStatus.UPLOADING){this.jqXHR.abort();}return true;};DmUploaderFile.prototype.canUpload=function(){return this.status===FileStatus.PENDING||this.status===FileStatus.FAILED;};var DmUploader=function DmUploader(element,options){this.element=$(element);this.settings=$.extend({},defaults,options);if(!this.checkSupport()){$.error(\"Browser not supported by jQuery.dmUploader\");this.settings.onFallbackMode.call(this.element);return false;}this.init();return this;};DmUploader.prototype.checkSupport=function(){// This one is mandatory for all modes\nif(typeof window.FormData===\"undefined\"){return false;}// Test based on: Modernizr/feature-detects/forms/fileinput.js\nvar exp=new RegExp(\"/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|\"+\"(Windows Phone (OS 7|8.0))|(XBLWP)|\"+\"(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|\"+\"(Kindle\\/(1.0|2.0|2.5|3.0))/\");if(exp.test(window.navigator.userAgent)){return false;}return!$(\"<input type=\\\"file\\\" />\").prop(\"disabled\");};DmUploader.prototype.init=function(){var widget=this;// Queue vars\nthis.queue=[];this.queuePos=-1;this.queueRunning=false;this.activeFiles=0;this.draggingOver=0;this.draggingOverDoc=0;var input=widget.element.is(\"input[type=file]\")?widget.element:widget.element.find(\"input[type=file]\");//-- Is the input our main element itself??\nif(input.length>0){input.prop(\"multiple\",this.settings.multiple);// Or does it has the input as a child\ninput.on(\"change.\"+pluginName,function(evt){var files=evt.target&&evt.target.files;if(!files||!files.length){return;}widget.addFiles(files);$(this).val(\"\");});}if(this.settings.dnd){this.initDnD();}if(input.length===0&&!this.settings.dnd){// Trigger an error because if this happens the plugin wont do anything.\n$.error(\"Markup error found by jQuery.dmUploader\");return null;}// We good to go, tell them!\nthis.settings.onInit.call(this.element);return this;};DmUploader.prototype.initDnD=function(){var widget=this;// -- Now our own Drop\nwidget.element.on(\"drop.\"+pluginName,function(evt){evt.preventDefault();if(widget.draggingOver>0){widget.draggingOver=0;widget.settings.onDragLeave.call(widget.element);}var dataTransfer=evt.originalEvent&&evt.originalEvent.dataTransfer;if(!dataTransfer||!dataTransfer.files||!dataTransfer.files.length){return;}// Take only the first file if not acepting multiple, this is kinda ugly. Needs Review ?\nvar files=[];if(widget.settings.multiple){files=dataTransfer.files;}else{files.push(dataTransfer.files[0]);}widget.addFiles(files);});//-- These two events/callbacks are onlt to maybe do some fancy visual stuff\nwidget.element.on(\"dragenter.\"+pluginName,function(evt){evt.preventDefault();if(widget.draggingOver===0){widget.settings.onDragEnter.call(widget.element);}widget.draggingOver++;});widget.element.on(\"dragleave.\"+pluginName,function(evt){evt.preventDefault();widget.draggingOver--;if(widget.draggingOver===0){widget.settings.onDragLeave.call(widget.element);}});if(!widget.settings.hookDocument){return;}// Adding some off/namepacing to prevent some weird cases when people use multiple instances\n$(document).off(\"drop.\"+pluginName).on(\"drop.\"+pluginName,function(evt){evt.preventDefault();if(widget.draggingOverDoc>0){widget.draggingOverDoc=0;widget.settings.onDocumentDragLeave.call(widget.element);}});$(document).off(\"dragenter.\"+pluginName).on(\"dragenter.\"+pluginName,function(evt){evt.preventDefault();if(widget.draggingOverDoc===0){widget.settings.onDocumentDragEnter.call(widget.element);}widget.draggingOverDoc++;});$(document).off(\"dragleave.\"+pluginName).on(\"dragleave.\"+pluginName,function(evt){evt.preventDefault();widget.draggingOverDoc--;if(widget.draggingOverDoc===0){widget.settings.onDocumentDragLeave.call(widget.element);}});$(document).off(\"dragover.\"+pluginName).on(\"dragover.\"+pluginName,function(evt){evt.preventDefault();});};DmUploader.prototype.releaseEvents=function(){// Leave everyone ALONE ;_;\nthis.element.off(\".\"+pluginName);this.element.find(\"input[type=file]\").off(\".\"+pluginName);if(this.settings.hookDocument){$(document).off(\".\"+pluginName);}};DmUploader.prototype.validateFile=function(file){// Check file size\nif(this.settings.maxFileSize>0&&file.size>this.settings.maxFileSize){this.settings.onFileSizeError.call(this.element,file);return false;}// Check file type\nif(this.settings.allowedTypes!==\"*\"&&!file.type.match(this.settings.allowedTypes)){this.settings.onFileTypeError.call(this.element,file);return false;}// Check file extension\nif(this.settings.extFilter!==null){var ext=file.name.toLowerCase().split(\".\").pop();if($.inArray(ext,this.settings.extFilter)<0){this.settings.onFileExtError.call(this.element,file);return false;}}return new DmUploaderFile(file,this);};DmUploader.prototype.addFiles=function(files){var nFiles=0;for(var i=0;i<files.length;i++){var file=this.validateFile(files[i]);if(!file){continue;}// If the callback returns false file will not be processed. This may allow some customization\nvar can_continue=this.settings.onNewFile.call(this.element,file.id,file.data);if(can_continue===false){continue;}// If we are using automatic uploading, and not a file queue: go for the upload\nif(this.settings.auto&&!this.settings.queue){file.upload();}this.queue.push(file);nFiles++;}// No files were added\nif(nFiles===0){return this;}// Are we auto-uploading files?\nif(this.settings.auto&&this.settings.queue&&!this.queueRunning){this.processQueue();}return this;};DmUploader.prototype.processQueue=function(){this.queuePos++;if(this.queuePos>=this.queue.length){if(this.activeFiles===0){this.settings.onComplete.call(this.element);}// Wait until new files are droped\nthis.queuePos=this.queue.length-1;this.queueRunning=false;return false;}this.queueRunning=true;// Start next file\nreturn this.queue[this.queuePos].upload();};DmUploader.prototype.restartQueue=function(){this.queuePos=-1;this.queueRunning=false;this.processQueue();};DmUploader.prototype.findById=function(id){var r=false;for(var i=0;i<this.queue.length;i++){if(this.queue[i].id===id){r=this.queue[i];break;}}return r;};DmUploader.prototype.cancelAll=function(){var queueWasRunning=this.queueRunning;this.queueRunning=false;// cancel 'em all\nfor(var i=0;i<this.queue.length;i++){this.queue[i].cancel();}if(queueWasRunning){this.settings.onComplete.call(this.element);}};DmUploader.prototype.startAll=function(){if(this.settings.queue){// Resume queue\nthis.restartQueue();}else{// or upload them all\nfor(var i=0;i<this.queue.length;i++){this.queue[i].upload();}}};// Public API methods\nDmUploader.prototype.methods={start:function start(id){if(this.queueRunning){// Do not allow to manually upload Files when a queue is running\nreturn false;}var file=false;if(typeof id!==\"undefined\"){file=this.findById(id);if(!file){// File not found in stack\n$.error(\"File not found in jQuery.dmUploader\");return false;}}// Trying to Start an upload by ID\nif(file){if(file.status===FileStatus.CANCELLED){file.status=FileStatus.PENDING;}return file.upload();}// With no id provided...\nthis.startAll();return true;},cancel:function cancel(id){var file=false;if(typeof id!==\"undefined\"){file=this.findById(id);if(!file){// File not found in stack\n$.error(\"File not found in jQuery.dmUploader\");return false;}}if(file){return file.cancel(true);}// With no id provided...\nthis.cancelAll();return true;},reset:function reset(){this.cancelAll();this.queue=[];this.queuePos=-1;this.activeFiles=0;return true;},destroy:function destroy(){this.cancelAll();this.releaseEvents();this.element.removeData(pluginName);}};$.fn.dmUploader=function(options){var args=arguments;if(typeof options===\"string\"){this.each(function(){var plugin=$.data(this,pluginName);if(plugin instanceof DmUploader){if(typeof plugin.methods[options]===\"function\"){plugin.methods[options].apply(plugin,Array.prototype.slice.call(args,1));}else{$.error(\"Method \"+options+\" does not exist in jQuery.dmUploader\");}}else{$.error(\"Unknown plugin data found by jQuery.dmUploader\");}});}else{return this.each(function(){if(!$.data(this,pluginName)){$.data(this,pluginName,new DmUploader(this,options));}});}};});","\"use strict\";/* eslint-disable @typescript-eslint/camelcase */ /* eslint-disable no-underscore-dangle */ // eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n/* global __webpack_public_path__ */ // eslint-disable-next-line spaced-comment\n///<reference types=\"webpack-env\" />\n// We expect __webpack_public_path__ to be present, thanks to webpack\n// We are not using DOM in the typescript library, so let's just hack our way\n// through window\n// tslint:disable-next-line:no-any\n// We would override __webpack_public_path__ only if __WPACKIO__ webpack plugin is set\nif(__WPACKIO__){var path=(__WPACKIO__.appName+__WPACKIO__.outputPath).replace(/[^a-zA-Z0-9_-]/g,'');// eslint-disable-next-line no-global-assign\n__webpack_public_path__=window[\"__wpackIo\".concat(path)];}","module.exports = jQuery;"],"sourceRoot":""}