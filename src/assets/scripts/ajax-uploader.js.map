{"version":3,"sources":["webpack:///webpack/bootstrap 33d23a42f308a30baff3","webpack:///external \"jQuery\"","webpack:///./scripts/modules/ajax-uploader.js","webpack:///../node_modules/dm-file-uploader/src/js/jquery.dm-uploader.js","webpack:///./styles/ajax-uploader.scss?23f1"],"names":[],"mappings":"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AACrC;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB,EAAE;AAC/C,+BAA+B,sBAAsB,EAAE;AACvD,4CAA4C,mCAAmC,EAAE;AACjF,4BAA4B,mBAAmB,EAAE;AACjD,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA+B;;AAE/B;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;;AAEA;AACA,6BAA6B;;AAE7B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,kBAAkB,kBAAkB;AACpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,uBAAuB;AAC1C;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,qBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,CAAC,G;;;;;;;ACtpBD,yC","file":"scripts/ajax-uploader.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/app/themes/sage/assets/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 142);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 33d23a42f308a30baff3","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 1\n// module chunks = 1 2 3 4 5 6 7","import 'dm-file-uploader';\n\njQuery(document).ready(function($) {\n\n  /**\n   * 初始化文件上传组件\n   */\n  $('.js-uploader').dmUploader({\n    url            : $('.js-uploader .c-uploader__shadow').data('url'),\n    type           : 'POST',\n    dataType       : 'json',\n    multiple       : ($(this).data('multiple') === true),\n    onUploadSuccess: function(id, data) {\n\n      var name = $(this).data('name'),\n          is_multiple = ($(this).data('multiple') === true),\n          button = '<button type=button class=\"close\" data-value=' + data.id + '>x</button>',\n          thumb = '<img src=\"' + data.thumb + '\" alt=\"Thumbnail\">';\n\n      if (!data.thumb) {\n        thumb = '<svg t=\"1540194811704\" class=\"icon\" style=\"\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2457\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"128\" height=\"128\"><defs><style type=\"text/css\"></style></defs><path d=\"M768 426.666667H341.333333a17.066667 17.066667 0 1 0 0 34.133333h426.666667a17.066667 17.066667 0 1 0 0-34.133333zM341.333333 324.266667h170.666667a17.066667 17.066667 0 1 0 0-34.133334H341.333333a17.066667 17.066667 0 1 0 0 34.133334zM768 563.2H341.333333a17.066667 17.066667 0 1 0 0 34.133333h426.666667a17.066667 17.066667 0 1 0 0-34.133333zM768 699.733333H341.333333a17.066667 17.066667 0 1 0 0 34.133334h426.666667a17.066667 17.066667 0 1 0 0-34.133334zM768 836.266667H341.333333a17.066667 17.066667 0 1 0 0 34.133333h426.666667a17.066667 17.066667 0 1 0 0-34.133333z\" p-id=\"2458\" fill=\"#666666\"></path><path d=\"M836.266667 248.9344V0H102.4v938.666667h85.333333v85.333333h733.866667V334.267733l-85.333333-85.333333z m-153.6-105.335467l153.6 153.6L863.3344 324.266667H682.666667V143.598933zM136.533333 904.533333V34.133333h665.6v180.667734L672.6656 85.333333H187.733333v819.2H136.533333z m85.333334 85.333334V119.466667h426.666666v238.933333h238.933334v631.466667H221.866667z\" p-id=\"2459\" fill=\"#666666\"></path></svg><br>' +\n            data.title;\n      }\n\n      $(this).\n          find('input:text').\n          filter(function() { return this.value === ''; }).\n          remove();\n\n      if (!is_multiple) {\n        $(this).find('.c-uploader__text').hide();\n        $(this).find('.c-uploader__button').hide();\n\n        $(this).\n            find('.c-uploader__value').\n            empty().\n            append('<input type=\"hidden\" name=\"' + name + '\" value=\"' + data.id + '\">');\n\n        $(this).\n            find('.c-uploader__preview').\n            empty().\n            show().\n            append('<div class=\"c-uploader__thumbnail\">' + button + thumb + '</div>');\n      } else {\n\n        $(this).\n            find('.c-uploader__value').\n            append('<input type=\"hidden\" name=\"' + name + '\" value=\"' + data.id + '\">');\n\n        $(this).\n            find('.c-uploader__preview').\n            show().\n            append('<div class=\"c-uploader__thumbnail\">' + button + thumb + '</div>');\n      }\n\n    },\n  });\n\n  /**\n   * 删除缩略图\n   */\n  $('.js-uploader button.close').live('click', function() {\n\n    var value = $(this).data('value'),\n        uploader = $(this).closest('.js-uploader'),\n        is_multiple = (uploader.data('multiple') === true);\n\n    // 移除值\n    if (!is_multiple) {\n\n      $('.c-uploader__value input').attr('value', '');\n\n      uploader.show();\n      uploader.find('.c-uploader__text').show();\n      uploader.find('.c-uploader__button').show();\n\n    } else {\n\n      uploader.find('input[value=' + value + ']').remove();\n\n    }\n\n    // 移除缩略图\n    $(this).parent().remove();\n\n  });\n\n  /**\n   * 单文件上传时，如果已有文件，移除上传组件\n   */\n  $('input[name=js-input-shadow]').each(function() {\n\n    var uploader = $(this).closest('.js-uploader'),\n        is_multiple = (uploader.data('multiple') === true),\n        thumbnails = uploader.find('.c-uploader__preview').children().length;\n\n    if (!is_multiple && thumbnails > 0) {\n      uploader.find('.c-uploader__text').hide();\n      $(this).parent().hide();\n    }\n\n  });\n\n});\n\n\n// WEBPACK FOOTER //\n// ./scripts/modules/ajax-uploader.js","/*\n * dmUploader - jQuery Ajax File Uploader Widget\n * https://github.com/danielm/uploader\n *\n * Copyright Daniel Morales <daniel85mg@gmail.com>\n * Released under the MIT license.\n * https://github.com/danielm/uploader/blob/master/LICENSE.txt\n *\n * @preserve\n */\n\n/* global define, define, window, document, FormData */\n\n(function(factory) {\n  \"use strict\";\n  if (typeof define === \"function\" && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([\"jquery\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    module.exports = factory(require(\"jquery\"));\n  } else {\n    // Browser globals\n    factory(window.jQuery);\n  }\n}(function($) {\n  \"use strict\";\n\n  var pluginName = \"dmUploader\";\n\n  var FileStatus = {\n    PENDING: 0,\n    UPLOADING: 1,\n    COMPLETED: 2,\n    FAILED: 3,\n    CANCELLED: 4 //(by the user)\n  };\n\n  // These are the plugin defaults values\n  var defaults = {\n    auto: true,\n    queue: true,\n    dnd: true,\n    hookDocument: true,\n    multiple: true,\n    url: document.URL,\n    method: \"POST\",\n    extraData: {},\n    headers: {},\n    dataType: null,\n    fieldName: \"file\",\n    maxFileSize: 0,\n    allowedTypes: \"*\",\n    extFilter: null,\n    onInit: function(){},\n    onComplete: function(){},\n    onFallbackMode: function() {},\n    onNewFile: function(){},        //params: id, file\n    onBeforeUpload: function(){},   //params: id\n    onUploadProgress: function(){}, //params: id, percent\n    onUploadSuccess: function(){},  //params: id, data\n    onUploadCanceled: function(){}, //params: id\n    onUploadError: function(){},    //params: id, xhr, status, message\n    onUploadComplete: function(){}, //params: id\n    onFileTypeError: function(){},  //params: file\n    onFileSizeError: function(){},  //params: file\n    onFileExtError: function(){},   //params: file\n    onDragEnter: function(){},\n    onDragLeave: function(){},\n    onDocumentDragEnter: function(){},\n    onDocumentDragLeave: function(){}\n  };\n  \n  var DmUploaderFile = function(file, widget)\n  {\n    this.data = file;\n\n    this.widget = widget;\n\n    this.jqXHR = null;\n\n    this.status = FileStatus.PENDING;\n\n    // The file id doesnt have to bo that special.... or not?\n    this.id = Math.random().toString(36).substr(2);\n  };\n\n  DmUploaderFile.prototype.upload = function()\n  {\n    var file = this;\n\n    if (!file.canUpload()) {\n\n      if (file.widget.queueRunning && file.status !== FileStatus.UPLOADING) {\n        file.widget.processQueue();\n      }\n\n      return false;\n    }\n\n    // Form Data\n    var fd = new FormData();\n    fd.append(file.widget.settings.fieldName, file.data);\n\n    // Append extra Form Data\n    var customData = file.widget.settings.extraData;\n    if (typeof(customData) === \"function\") {\n      customData = customData.call(file.widget.element, file.id);\n    }\n\n    $.each(customData, function(exKey, exVal) {\n      fd.append(exKey, exVal);\n    });\n\n    file.status = FileStatus.UPLOADING;\n    file.widget.activeFiles++;\n\n    file.widget.settings.onBeforeUpload.call(file.widget.element, file.id);\n\n    // Ajax Submit\n    file.jqXHR = $.ajax({\n      url: file.widget.settings.url,\n      type: file.widget.settings.method,\n      dataType: file.widget.settings.dataType,\n      data: fd,\n      headers: file.widget.settings.headers,\n      cache: false,\n      contentType: false,\n      processData: false,\n      forceSync: false,\n      xhr: function() { return file.getXhr(); },\n      success: function(data) { file.onSuccess(data); },\n      error: function(xhr, status, errMsg) { file.onError(xhr, status, errMsg); },\n      complete: function() { file.onComplete(); },\n    });\n\n    return true;\n  };\n\n  DmUploaderFile.prototype.onSuccess = function(data)\n  {\n    this.status = FileStatus.COMPLETED;\n    this.widget.settings.onUploadSuccess.call(this.widget.element, this.id, data);\n  };\n\n  DmUploaderFile.prototype.onError = function(xhr, status, errMsg)\n  {\n    // If the status is: cancelled (by the user) don't invoke the error callback\n    if (this.status !== FileStatus.CANCELLED) {\n      this.status = FileStatus.FAILED;\n      this.widget.settings.onUploadError.call(this.widget.element, this.id, xhr, status, errMsg);\n    }\n  };\n\n  DmUploaderFile.prototype.onComplete = function()\n  {\n    this.widget.activeFiles--;\n\n    if (this.status !== FileStatus.CANCELLED) {\n      this.widget.settings.onUploadComplete.call(this.widget.element, this.id);\n    }\n\n    if (this.widget.queueRunning) {\n      this.widget.processQueue();\n    } else if (this.widget.settings.queue && this.widget.activeFiles === 0) {\n      this.widget.settings.onComplete.call(this.element);\n    }\n  };\n\n  DmUploaderFile.prototype.getXhr = function()\n  {\n    var file = this;\n    var xhrobj = $.ajaxSettings.xhr();\n\n    if (xhrobj.upload) {\n      xhrobj.upload.addEventListener(\"progress\", function(event) {\n        var percent = 0;\n        var position = event.loaded || event.position;\n        var total = event.total || event.totalSize;\n\n        if (event.lengthComputable) {\n          percent = Math.ceil(position / total * 100);\n        }\n        file.widget.settings.onUploadProgress.call(file.widget.element, file.id, percent);\n      }, false);\n    }\n\n    return xhrobj;\n  };\n\n  DmUploaderFile.prototype.cancel = function(abort)\n  {\n    // The abort flag is to track if we are calling this function directly (using the cancel Method, by id)\n    // or the call comes from the 'gobal' method aka cancelAll.\n    // THis mean that we don't want to trigger the cancel event on file that isn't uploading, UNLESS directly doing it\n    // ... and yes, it could be done prettier. Review (?)\n    abort = (typeof abort === \"undefined\" ? false : abort);\n\n    var myStatus = this.status;\n\n    if (myStatus === FileStatus.UPLOADING || (abort && myStatus === FileStatus.PENDING)) {\n      this.status = FileStatus.CANCELLED;\n    } else {\n      return false;\n    }\n\n    this.widget.settings.onUploadCanceled.call(this.widget.element, this.id);\n\n    if (myStatus === FileStatus.UPLOADING) {\n      this.jqXHR.abort();\n    }\n\n    return true;\n  };\n\n  DmUploaderFile.prototype.canUpload = function()\n  {\n    return (\n      this.status === FileStatus.PENDING ||\n      this.status === FileStatus.FAILED\n    );\n  };\n\n  var DmUploader = function(element, options)\n  {\n    this.element = $(element);\n    this.settings = $.extend({}, defaults, options);\n\n    if (!this.checkSupport()) {\n      $.error(\"Browser not supported by jQuery.dmUploader\");\n\n      this.settings.onFallbackMode.call(this.element);\n\n      return false;\n    }\n\n    this.init();\n\n    return this;\n  };\n\n  DmUploader.prototype.checkSupport = function()\n  {\n    // This one is mandatory for all modes\n    if (typeof window.FormData === \"undefined\") {\n      return false;\n    }\n\n    // Test based on: Modernizr/feature-detects/forms/fileinput.js\n    var exp = new RegExp(\n      \"/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|\"+\n      \"(Windows Phone (OS 7|8.0))|(XBLWP)|\"+\n      \"(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|\"+\n      \"(Kindle\\/(1.0|2.0|2.5|3.0))/\");\n\n    if (exp.test(window.navigator.userAgent)) {\n      return false;\n    }\n\n    return !$(\"<input type=\\\"file\\\" />\").prop(\"disabled\");\n  };\n\n  DmUploader.prototype.init = function()\n  {\n    var widget = this;\n\n    // Queue vars\n    this.queue = [];\n    this.queuePos = -1;\n    this.queueRunning = false;\n    this.activeFiles = 0;\n    this.draggingOver = 0;\n    this.draggingOverDoc = 0;\n\n    var input = widget.element.is(\"input[type=file]\") ?\n      widget.element : widget.element.find(\"input[type=file]\");\n\n    //-- Is the input our main element itself??\n    if (input.length > 0) {\n      input.prop(\"multiple\", this.settings.multiple);\n\n      // Or does it has the input as a child\n      input.on(\"change.\" + pluginName, function(evt) {\n        var files = evt.target && evt.target.files;\n\n        if (!files || !files.length){\n          return;\n        }\n\n        widget.addFiles(files);\n\n        $(this).val(\"\");\n      });\n    }\n\n    if (this.settings.dnd) {\n      this.initDnD();\n    }\n\n    if (input.length === 0 && !this.settings.dnd) {\n      // Trigger an error because if this happens the plugin wont do anything.\n      $.error(\"Markup error found by jQuery.dmUploader\");\n\n      return null;\n    }\n\n    // We good to go, tell them!\n    this.settings.onInit.call(this.element);\n\n    return this;\n  };\n\n  DmUploader.prototype.initDnD = function()\n  {\n    var widget = this;\n\n    // -- Now our own Drop\n    widget.element.on(\"drop.\" + pluginName, function (evt) {\n      evt.preventDefault();\n\n      if (widget.draggingOver > 0){\n        widget.draggingOver = 0;\n        widget.settings.onDragLeave.call(widget.element);\n      }\n\n      var dataTransfer = evt.originalEvent && evt.originalEvent.dataTransfer;\n      if (!dataTransfer || !dataTransfer.files || !dataTransfer.files.length) {\n        return;\n      }\n\n      // Take only the first file if not acepting multiple, this is kinda ugly. Needs Review ?\n      var files = [];\n\n      if (widget.settings.multiple) {\n        files = dataTransfer.files;\n      } else {\n        files.push(dataTransfer.files[0]);\n      }\n\n      widget.addFiles(files);\n    });\n\n    //-- These two events/callbacks are onlt to maybe do some fancy visual stuff\n    widget.element.on(\"dragenter.\" + pluginName, function(evt) {\n      evt.preventDefault();\n\n      if (widget.draggingOver === 0){\n        widget.settings.onDragEnter.call(widget.element);\n      }\n\n      widget.draggingOver++;\n    });\n\n    widget.element.on(\"dragleave.\" + pluginName, function(evt) {\n      evt.preventDefault();\n\n      widget.draggingOver--;\n\n      if (widget.draggingOver === 0){\n        widget.settings.onDragLeave.call(widget.element);\n      }\n    });\n\n    if (!widget.settings.hookDocument) {\n      return;\n    }\n\n    // Adding some off/namepacing to prevent some weird cases when people use multiple instances\n    $(document).off(\"drop.\" + pluginName).on(\"drop.\" + pluginName, function(evt) {\n      evt.preventDefault();\n\n      if (widget.draggingOverDoc > 0){\n        widget.draggingOverDoc = 0;\n        widget.settings.onDocumentDragLeave.call(widget.element);\n      }\n    });\n\n    $(document).off(\"dragenter.\" + pluginName).on(\"dragenter.\" + pluginName, function(evt) {\n      evt.preventDefault();\n\n      if (widget.draggingOverDoc === 0){\n        widget.settings.onDocumentDragEnter.call(widget.element);\n      }\n\n      widget.draggingOverDoc++;\n    });\n\n    $(document).off(\"dragleave.\" + pluginName).on(\"dragleave.\" + pluginName, function(evt) {\n      evt.preventDefault();\n\n      widget.draggingOverDoc--;\n\n      if (widget.draggingOverDoc === 0){\n        widget.settings.onDocumentDragLeave.call(widget.element);\n      }\n    });\n\n    $(document).off(\"dragover.\" + pluginName).on(\"dragover.\" + pluginName, function(evt) {\n      evt.preventDefault();\n    });\n  };\n\n  DmUploader.prototype.releaseEvents = function() {\n    // Leave everyone ALONE ;_;\n\n    this.element.off(\".\" + pluginName);\n    this.element.find(\"input[type=file]\").off(\".\" + pluginName);\n\n    if (this.settings.hookDocument) {\n      $(document).off(\".\" + pluginName);\n    }\n  };\n\n  DmUploader.prototype.validateFile = function(file)\n  {\n    // Check file size\n    if ((this.settings.maxFileSize > 0) &&\n        (file.size > this.settings.maxFileSize)) {\n\n      this.settings.onFileSizeError.call(this.element, file);\n\n      return false;\n    }\n\n    // Check file type\n    if ((this.settings.allowedTypes !== \"*\") &&\n        !file.type.match(this.settings.allowedTypes)){\n\n      this.settings.onFileTypeError.call(this.element, file);\n\n      return false;\n    }\n\n    // Check file extension\n    if (this.settings.extFilter !== null) {\n      var ext = file.name.toLowerCase().split(\".\").pop();\n\n      if ($.inArray(ext, this.settings.extFilter) < 0) {\n        this.settings.onFileExtError.call(this.element, file);\n\n        return false;\n      }\n    }\n\n    return new DmUploaderFile(file, this);\n  };\n\n  DmUploader.prototype.addFiles = function(files)\n  {\n    var nFiles = 0;\n\n    for (var i= 0; i < files.length; i++)\n    {\n      var file = this.validateFile(files[i]);\n\n      if (!file){\n        continue;\n      }\n\n      // If the callback returns false file will not be processed. This may allow some customization\n      var can_continue = this.settings.onNewFile.call(this.element, file.id, file.data);\n      if (can_continue === false) {\n        continue;\n      }\n\n      // If we are using automatic uploading, and not a file queue: go for the upload\n      if (this.settings.auto && !this.settings.queue) {\n        file.upload();\n      }\n\n      this.queue.push(file);\n      \n      nFiles++;\n    }\n\n    // No files were added\n    if (nFiles === 0) {\n      return this;\n    }\n\n    // Are we auto-uploading files?\n    if (this.settings.auto && this.settings.queue && !this.queueRunning) {\n      this.processQueue();\n    }\n\n    return this;\n  };\n\n  DmUploader.prototype.processQueue = function()\n  {\n    this.queuePos++;\n\n    if (this.queuePos >= this.queue.length) {\n      if (this.activeFiles === 0) {\n        this.settings.onComplete.call(this.element);\n      }\n\n      // Wait until new files are droped\n      this.queuePos = (this.queue.length - 1);\n\n      this.queueRunning = false;\n\n      return false;\n    }\n\n    this.queueRunning = true;\n\n    // Start next file\n    return this.queue[this.queuePos].upload();\n  };\n\n  DmUploader.prototype.restartQueue = function()\n  {\n    this.queuePos = -1;\n    this.queueRunning = false;\n\n    this.processQueue();\n  };\n\n  DmUploader.prototype.findById = function(id)\n  {\n    var r = false;\n\n    for (var i = 0; i < this.queue.length; i++) {\n      if (this.queue[i].id === id) {\n        r = this.queue[i];\n        break;\n      }\n    }\n\n    return r;\n  };\n\n  DmUploader.prototype.cancelAll =  function()\n  {\n    var queueWasRunning = this.queueRunning;\n    this.queueRunning = false;\n\n    // cancel 'em all\n    for (var i = 0; i < this.queue.length; i++) {\n      this.queue[i].cancel();\n    }\n\n    if (queueWasRunning) {\n      this.settings.onComplete.call(this.element);\n    }\n  };\n\n  DmUploader.prototype.startAll = function()\n  {\n    if (this.settings.queue) {\n      // Resume queue\n      this.restartQueue();\n    } else {\n      // or upload them all\n      for (var i = 0; i < this.queue.length; i++) {\n        this.queue[i].upload();\n      }\n    }\n  };\n\n  // Public API methods\n  DmUploader.prototype.methods = {\n    start: function(id) {\n      if (this.queueRunning){\n        // Do not allow to manually upload Files when a queue is running\n        return false;\n      }\n\n      var file = false;\n\n      if (typeof id !== \"undefined\") {\n        file = this.findById(id);\n\n        if (!file) {\n          // File not found in stack\n          $.error(\"File not found in jQuery.dmUploader\");\n\n          return false;\n        }\n      }\n      \n      // Trying to Start an upload by ID\n      if (file) {\n        if (file.status === FileStatus.CANCELLED) {\n          file.status = FileStatus.PENDING;\n        }\n        return file.upload();\n      }\n\n      // With no id provided...\n\n      this.startAll();\n\n      return true;\n    },\n    cancel: function(id) {\n      var file = false;\n      if (typeof id !== \"undefined\") {\n        file = this.findById(id);\n\n        if (!file) {\n          // File not found in stack\n          $.error(\"File not found in jQuery.dmUploader\");\n\n          return false;\n        }\n      }\n\n      if (file) {\n        return file.cancel(true);\n      }\n\n      // With no id provided...\n      \n      this.cancelAll();\n\n      return true;\n    },\n    reset: function() {\n\n      this.cancelAll();\n\n      this.queue = [];\n      this.queuePos = -1;\n      this.activeFiles = 0;\n\n      return true;\n    },\n    destroy: function() {\n      this.cancelAll();\n\n      this.releaseEvents();\n\n      this.element.removeData(pluginName);\n    }\n  };\n\n  $.fn.dmUploader = function(options) {\n    var args = arguments;\n\n    if (typeof options === \"string\") {\n      this.each(function() {\n        var plugin = $.data(this, pluginName);\n\n        if (plugin instanceof DmUploader) {\n          if (typeof plugin.methods[options] === \"function\") {\n            plugin.methods[options].apply(plugin, Array.prototype.slice.call(args, 1));\n          } else {\n            $.error(\"Method \" +  options + \" does not exist in jQuery.dmUploader\");\n          }\n        } else {\n          $.error(\"Unknown plugin data found by jQuery.dmUploader\");\n        }\n      });\n    } else {\n      return this.each(function () {\n        if (!$.data(this, pluginName)) {\n          $.data(this, pluginName, new DmUploader(this, options));\n        }\n      });\n    }\n  };\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/dm-file-uploader/src/js/jquery.dm-uploader.js\n// module id = 144\n// module chunks = 4","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./styles/ajax-uploader.scss\n// module id = 145\n// module chunks = 4"],"sourceRoot":""}