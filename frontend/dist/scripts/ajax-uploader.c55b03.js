/*! For license information please see ajax-uploader.c55b03.js.LICENSE.txt */
(()=>{var e={6462:(e,t,n)=>{var r,i,s;!function(a){"use strict";i=[n(5311)],r=function(e){var t="dmUploader",n={PENDING:0,UPLOADING:1,COMPLETED:2,FAILED:3,CANCELLED:4},r={auto:!0,queue:!0,dnd:!0,hookDocument:!0,multiple:!0,url:document.URL,method:"POST",extraData:{},headers:{},dataType:null,fieldName:"file",maxFileSize:0,allowedTypes:"*",extFilter:null,onInit:function(){},onComplete:function(){},onFallbackMode:function(){},onNewFile:function(){},onBeforeUpload:function(){},onUploadProgress:function(){},onUploadSuccess:function(){},onUploadCanceled:function(){},onUploadError:function(){},onUploadComplete:function(){},onFileTypeError:function(){},onFileSizeError:function(){},onFileExtError:function(){},onDragEnter:function(){},onDragLeave:function(){},onDocumentDragEnter:function(){},onDocumentDragLeave:function(){}},i=function(e,t){this.data=e,this.widget=t,this.jqXHR=null,this.status=n.PENDING,this.id=Math.random().toString(36).substr(2)};i.prototype.upload=function(){var t=this;if(!t.canUpload())return t.widget.queueRunning&&t.status!==n.UPLOADING&&t.widget.processQueue(),!1;var r=new FormData;r.append(t.widget.settings.fieldName,t.data);var i=t.widget.settings.extraData;return"function"==typeof i&&(i=i.call(t.widget.element,t.id)),e.each(i,(function(e,t){r.append(e,t)})),t.status=n.UPLOADING,t.widget.activeFiles++,t.widget.settings.onBeforeUpload.call(t.widget.element,t.id),t.jqXHR=e.ajax({url:t.widget.settings.url,type:t.widget.settings.method,dataType:t.widget.settings.dataType,data:r,headers:t.widget.settings.headers,cache:!1,contentType:!1,processData:!1,forceSync:!1,xhr:function(){return t.getXhr()},success:function(e){t.onSuccess(e)},error:function(e,n,r){t.onError(e,n,r)},complete:function(){t.onComplete()}}),!0},i.prototype.onSuccess=function(e){this.status=n.COMPLETED,this.widget.settings.onUploadSuccess.call(this.widget.element,this.id,e)},i.prototype.onError=function(e,t,r){this.status!==n.CANCELLED&&(this.status=n.FAILED,this.widget.settings.onUploadError.call(this.widget.element,this.id,e,t,r))},i.prototype.onComplete=function(){this.widget.activeFiles--,this.status!==n.CANCELLED&&this.widget.settings.onUploadComplete.call(this.widget.element,this.id),this.widget.queueRunning?this.widget.processQueue():this.widget.settings.queue&&0===this.widget.activeFiles&&this.widget.settings.onComplete.call(this.element)},i.prototype.getXhr=function(){var t=this,n=e.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",(function(e){var n=0,r=e.loaded||e.position,i=e.total||e.totalSize;e.lengthComputable&&(n=Math.ceil(r/i*100)),t.widget.settings.onUploadProgress.call(t.widget.element,t.id,n)}),!1),n},i.prototype.cancel=function(e){e=void 0!==e&&e;var t=this.status;return!!(t===n.UPLOADING||e&&t===n.PENDING)&&(this.status=n.CANCELLED,this.widget.settings.onUploadCanceled.call(this.widget.element,this.id),t===n.UPLOADING&&this.jqXHR.abort(),!0)},i.prototype.canUpload=function(){return this.status===n.PENDING||this.status===n.FAILED};var s=function(t,n){return this.element=e(t),this.settings=e.extend({},r,n),this.checkSupport()?(this.init(),this):(e.error("Browser not supported by jQuery.dmUploader"),this.settings.onFallbackMode.call(this.element),!1)};s.prototype.checkSupport=function(){return void 0!==window.FormData&&(!new RegExp("/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1.0|2.0|2.5|3.0))/").test(window.navigator.userAgent)&&!e('<input type="file" />').prop("disabled"))},s.prototype.init=function(){var n=this;this.queue=[],this.queuePos=-1,this.queueRunning=!1,this.activeFiles=0,this.draggingOver=0,this.draggingOverDoc=0;var r=n.element.is("input[type=file]")?n.element:n.element.find("input[type=file]");return r.length>0&&(r.prop("multiple",this.settings.multiple),r.on("change."+t,(function(t){var r=t.target&&t.target.files;r&&r.length&&(n.addFiles(r),e(this).val(""))}))),this.settings.dnd&&this.initDnD(),0!==r.length||this.settings.dnd?(this.settings.onInit.call(this.element),this):(e.error("Markup error found by jQuery.dmUploader"),null)},s.prototype.initDnD=function(){var n=this;n.element.on("drop."+t,(function(e){e.preventDefault(),n.draggingOver>0&&(n.draggingOver=0,n.settings.onDragLeave.call(n.element));var t=e.originalEvent&&e.originalEvent.dataTransfer;if(t&&t.files&&t.files.length){var r=[];n.settings.multiple?r=t.files:r.push(t.files[0]),n.addFiles(r)}})),n.element.on("dragenter."+t,(function(e){e.preventDefault(),0===n.draggingOver&&n.settings.onDragEnter.call(n.element),n.draggingOver++})),n.element.on("dragleave."+t,(function(e){e.preventDefault(),n.draggingOver--,0===n.draggingOver&&n.settings.onDragLeave.call(n.element)})),n.settings.hookDocument&&(e(document).off("drop."+t).on("drop."+t,(function(e){e.preventDefault(),n.draggingOverDoc>0&&(n.draggingOverDoc=0,n.settings.onDocumentDragLeave.call(n.element))})),e(document).off("dragenter."+t).on("dragenter."+t,(function(e){e.preventDefault(),0===n.draggingOverDoc&&n.settings.onDocumentDragEnter.call(n.element),n.draggingOverDoc++})),e(document).off("dragleave."+t).on("dragleave."+t,(function(e){e.preventDefault(),n.draggingOverDoc--,0===n.draggingOverDoc&&n.settings.onDocumentDragLeave.call(n.element)})),e(document).off("dragover."+t).on("dragover."+t,(function(e){e.preventDefault()})))},s.prototype.releaseEvents=function(){this.element.off("."+t),this.element.find("input[type=file]").off("."+t),this.settings.hookDocument&&e(document).off("."+t)},s.prototype.validateFile=function(t){if(this.settings.maxFileSize>0&&t.size>this.settings.maxFileSize)return this.settings.onFileSizeError.call(this.element,t),!1;if("*"!==this.settings.allowedTypes&&!t.type.match(this.settings.allowedTypes))return this.settings.onFileTypeError.call(this.element,t),!1;if(null!==this.settings.extFilter){var n=t.name.toLowerCase().split(".").pop();if(e.inArray(n,this.settings.extFilter)<0)return this.settings.onFileExtError.call(this.element,t),!1}return new i(t,this)},s.prototype.addFiles=function(e){for(var t=0,n=0;n<e.length;n++){var r=this.validateFile(e[n]);if(r)!1!==this.settings.onNewFile.call(this.element,r.id,r.data)&&(this.settings.auto&&!this.settings.queue&&r.upload(),this.queue.push(r),t++)}return 0===t||this.settings.auto&&this.settings.queue&&!this.queueRunning&&this.processQueue(),this},s.prototype.processQueue=function(){return this.queuePos++,this.queuePos>=this.queue.length?(0===this.activeFiles&&this.settings.onComplete.call(this.element),this.queuePos=this.queue.length-1,this.queueRunning=!1,!1):(this.queueRunning=!0,this.queue[this.queuePos].upload())},s.prototype.restartQueue=function(){this.queuePos=-1,this.queueRunning=!1,this.processQueue()},s.prototype.findById=function(e){for(var t=!1,n=0;n<this.queue.length;n++)if(this.queue[n].id===e){t=this.queue[n];break}return t},s.prototype.cancelAll=function(){var e=this.queueRunning;this.queueRunning=!1;for(var t=0;t<this.queue.length;t++)this.queue[t].cancel();e&&this.settings.onComplete.call(this.element)},s.prototype.startAll=function(){if(this.settings.queue)this.restartQueue();else for(var e=0;e<this.queue.length;e++)this.queue[e].upload()},s.prototype.methods={start:function(t){if(this.queueRunning)return!1;var r=!1;return void 0===t||(r=this.findById(t))?r?(r.status===n.CANCELLED&&(r.status=n.PENDING),r.upload()):(this.startAll(),!0):(e.error("File not found in jQuery.dmUploader"),!1)},cancel:function(t){var n=!1;return void 0===t||(n=this.findById(t))?n?n.cancel(!0):(this.cancelAll(),!0):(e.error("File not found in jQuery.dmUploader"),!1)},reset:function(){return this.cancelAll(),this.queue=[],this.queuePos=-1,this.activeFiles=0,!0},destroy:function(){this.cancelAll(),this.releaseEvents(),this.element.removeData(t)}},e.fn.dmUploader=function(n){var r=arguments;if("string"!=typeof n)return this.each((function(){e.data(this,t)||e.data(this,t,new s(this,n))}));this.each((function(){var i=e.data(this,t);i instanceof s?"function"==typeof i.methods[n]?i.methods[n].apply(i,Array.prototype.slice.call(r,1)):e.error("Method "+n+" does not exist in jQuery.dmUploader"):e.error("Unknown plugin data found by jQuery.dmUploader")}))}},void 0===(s="function"==typeof r?r.apply(t,i):r)||(e.exports=s)}()},1088:function(e,t){!function(e){"use strict";function t(e){var n,r,i=new Error(e);return n=i,r=t.prototype,Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r,i}function n(e,n,r){var i=n.slice(0,r).split(/\n/),s=i.length,a=i[s-1].length+1;throw t(e+=" at line "+s+" col "+a+":\n\n  "+n.split(/\n/)[s-1]+"\n  "+Array(a).join(" ")+"^")}t.prototype=Object.create(Error.prototype,{name:{value:"Squirrelly Error",enumerable:!1}});var r=new Function("return this")().Promise,i=!1;try{i=new Function("return (async function(){}).constructor")()}catch(e){if(!(e instanceof SyntaxError))throw e}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e,t,n){for(var r in t)s(t,r)&&(null==t[r]||"object"!=typeof t[r]||"storage"!==r&&"prefixes"!==r||n?e[r]=t[r]:e[r]=a({},t[r]));return e}var o=/^async +/,l=/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})*}|(?!\${)[^\\`])*`/g,u=/'(?:\\[\s\w"'\\`]|[^\n\r'\\])*?'/g,c=/"(?:\\[\s\w"'\\`]|[^\n\r"\\])*?"/g,p=/[.*+\-?^${}()|[\]\\]/g;function d(e){return p.test(e)?e.replace(p,"\\$&"):e}function f(e,r){r.rmWhitespace&&(e=e.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),l.lastIndex=0,u.lastIndex=0,c.lastIndex=0;var i=r.prefixes,s=[i.h,i.b,i.i,i.r,i.c,i.e].reduce((function(e,t){return e&&t?e+"|"+d(t):t?d(t):e}),""),a=new RegExp("([|()]|=>)|('|\"|`|\\/\\*)|\\s*((\\/)?(-|_)?"+d(r.tags[1])+")","g"),p=new RegExp("([^]*?)"+d(r.tags[0])+"(-|_)?\\s*("+s+")?\\s*","g"),f=0,h=!1;function g(t,i){var s,d={f:[]},g=0,m="c";function v(t){var i=e.slice(f,t),s=i.trim();if("f"===m)"safe"===s?d.raw=!0:r.async&&o.test(s)?(s=s.replace(o,""),d.f.push([s,"",!0])):d.f.push([s,""]);else if("fp"===m)d.f[d.f.length-1][1]+=s;else if("err"===m){if(s){var a=i.search(/\S/);n("invalid syntax",e,f+a)}}else d[m]=s;f=t+1}for("h"===i||"b"===i||"c"===i?m="n":"r"===i&&(d.raw=!0,i="i"),a.lastIndex=f;null!==(s=a.exec(e));){var y=s[1],w=s[2],x=s[3],_=s[4],b=s[5],F=s.index;if(y)"("===y?(0===g&&("n"===m?(v(F),m="p"):"f"===m&&(v(F),m="fp")),g++):")"===y?0==--g&&"c"!==m&&(v(F),m="err"):0===g&&"|"===y?(v(F),m="f"):"=>"===y&&(v(F),f+=1,m="res");else if(w)if("/*"===w){var D=e.indexOf("*/",a.lastIndex);-1===D&&n("unclosed comment",e,s.index),a.lastIndex=D+2}else"'"===w?(u.lastIndex=s.index,u.exec(e)?a.lastIndex=u.lastIndex:n("unclosed string",e,s.index)):'"'===w?(c.lastIndex=s.index,c.exec(e)?a.lastIndex=c.lastIndex:n("unclosed string",e,s.index)):"`"===w&&(l.lastIndex=s.index,l.exec(e)?a.lastIndex=l.lastIndex:n("unclosed string",e,s.index));else if(x)return v(F),f=F+s[0].length,p.lastIndex=f,h=b,_&&"h"===i&&(i="s"),d.t=i,d}return n("unclosed tag",e,t),d}var m=function s(a,l){a.b=[],a.d=[];var u,c=!1,d=[];function m(e,t){e&&(e=function(e,t,n,r){var i,s;return"string"==typeof t.autoTrim?i=s=t.autoTrim:Array.isArray(t.autoTrim)&&(i=t.autoTrim[1],s=t.autoTrim[0]),(n||!1===n)&&(i=n),(r||!1===r)&&(s=r),"slurp"===i&&"slurp"===s?e.trim():("_"===i||"slurp"===i?e=String.prototype.trimLeft?e.trimLeft():e.replace(/^[\s\uFEFF\xA0]+/,""):"-"!==i&&"nl"!==i||(e=e.replace(/^(?:\n|\r|\r\n)/,"")),"_"===s||"slurp"===s?e=String.prototype.trimRight?e.trimRight():e.replace(/[\s\uFEFF\xA0]+$/,""):"-"!==s&&"nl"!==s||(e=e.replace(/(?:\n|\r|\r\n)$/,"")),e)}(e,r,h,t))&&(e=e.replace(/\\|'/g,"\\$&").replace(/\r\n|\n|\r/g,"\\n"),d.push(e))}for(;null!==(u=p.exec(e));){var v,y=u[1],w=u[2],x=u[3]||"";for(var _ in i)if(i[_]===x){v=_;break}m(y,w),f=u.index+u[0].length,v||n("unrecognized tag type: "+x,e,f);var b=g(u.index,v),F=b.t;if("h"===F){var D=b.n||"";r.async&&o.test(D)&&(b.a=!0,b.n=D.replace(o,"")),b=s(b),d.push(b)}else if("c"===F){if(a.n===b.n)return c?(c.d=d,a.b.push(c)):a.d=d,a;n("Helper start and end don't match",e,u.index+u[0].length)}else if("b"===F){c?(c.d=d,a.b.push(c)):a.d=d;var E=b.n||"";r.async&&o.test(E)&&(b.a=!0,b.n=E.replace(o,"")),c=b,d=[]}else if("s"===F){var S=b.n||"";r.async&&o.test(S)&&(b.a=!0,b.n=S.replace(o,"")),d.push(b)}else d.push(b)}if(!l)throw t('unclosed helper "'+a.n+'"');return m(e.slice(f,e.length),!1),a.d=d,a}({f:[]},!0);if(r.plugins)for(var v=0;v<r.plugins.length;v++){var y=r.plugins[v];y.processAST&&(m.d=y.processAST(m.d,r))}return m.d}function h(e,t){var n=f(e,t),r="var tR='';"+(t.useWith?"with("+t.varName+"||{}){":"")+w(n,t)+"if(cb){cb(null,tR)} return tR"+(t.useWith?"}":"");if(t.plugins)for(var i=0;i<t.plugins.length;i++){var s=t.plugins[i];s.processFnString&&(r=s.processFnString(r,t))}return r}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n][0],i=t[n][1];e=(t[n][2]?"await ":"")+"c.l('F','"+r+"')("+e,i&&(e+=","+i),e+=")"}return e}function m(e,t,n,r,i,s){var a="{exec:"+(i?"async ":"")+y(n,t,e)+",params:["+r+"]";return s&&(a+=",name:'"+s+"'"),i&&(a+=",async:true"),a+"}"}function v(e,t){for(var n="[",r=0;r<e.length;r++){var i=e[r];n+=m(t,i.res||"",i.d,i.p||"",i.a,i.n),r<e.length&&(n+=",")}return n+"]"}function y(e,t,n){return"function("+t+"){var tR='';"+w(e,n)+"return tR}"}function w(e,t){for(var n=0,r=e.length,i="";n<r;n++){var s=e[n];if("string"==typeof s)i+="tR+='"+s+"';";else{var a=s.t,o=s.c||"",l=s.f,u=s.n||"",c=s.p||"",p=s.res||"",d=s.b,f=!!s.a;if("i"===a){t.defaultFilter&&(o="c.l('F','"+t.defaultFilter+"')("+o+")");var h=g(o,l);!s.raw&&t.autoEscape&&(h="c.l('F','e')("+h+")"),i+="tR+="+h+";"}else if("h"===a)if(t.storage.nativeHelpers.get(u))i+=t.storage.nativeHelpers.get(u)(s,t);else{var y=(f?"await ":"")+"c.l('H','"+u+"')("+m(t,p,s.d,c,f);y+=d?","+v(d,t):",[]",i+="tR+="+g(y+=",c)",l)+";"}else"s"===a?i+="tR+="+g((f?"await ":"")+"c.l('H','"+u+"')({params:["+c+"]},[],c)",l)+";":"e"===a&&(i+=o+"\n")}}return i}var x=function(){function e(e){this.cache=e}return e.prototype.define=function(e,t){this.cache[e]=t},e.prototype.get=function(e){return this.cache[e]},e.prototype.remove=function(e){delete this.cache[e]},e.prototype.reset=function(){this.cache={}},e.prototype.load=function(e){a(this.cache,e,!0)},e}();function _(e,n,r,i){if(n&&n.length>0)throw t((i?"Native":"")+"Helper '"+e+"' doesn't accept blocks");if(r&&r.length>0)throw t((i?"Native":"")+"Helper '"+e+"' doesn't accept filters")}var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function F(e){return b[e]}var D=new x({}),E=new x({each:function(e,t){var n="",r=e.params[0];if(_("each",t,!1),e.async)return new Promise((function(t){!function e(t,n,r,i,s){r(t[n],n).then((function(a){i+=a,n===t.length-1?s(i):e(t,n+1,r,i,s)}))}(r,0,e.exec,n,t)}));for(var i=0;i<r.length;i++)n+=e.exec(r[i],i);return n},foreach:function(e,t){var n=e.params[0];if(_("foreach",t,!1),e.async)return new Promise((function(t){!function e(t,n,r,i,s,a){i(n[r],t[n[r]]).then((function(o){s+=o,r===n.length-1?a(s):e(t,n,r+1,i,s,a)}))}(n,Object.keys(n),0,e.exec,"",t)}));var r="";for(var i in n)s(n,i)&&(r+=e.exec(i,n[i]));return r},include:function(e,n,r){_("include",n,!1);var i=r.storage.templates.get(e.params[0]);if(!i)throw t('Could not fetch template "'+e.params[0]+'"');return i(e.params[1],r)},extends:function(e,n,r){var i=e.params[1]||{};i.content=e.exec();for(var s=0;s<n.length;s++){var a=n[s];i[a.name]=a.exec()}var o=r.storage.templates.get(e.params[0]);if(!o)throw t('Could not fetch template "'+e.params[0]+'"');return o(i,r)},useScope:function(e,t){return _("useScope",t,!1),e.exec(e.params[0])}}),S=new x({if:function(e,t){_("if",!1,e.f,!0);var n="if("+e.p+"){"+w(e.d,t)+"}";if(e.b)for(var r=0;r<e.b.length;r++){var i=e.b[r];"else"===i.n?n+="else{"+w(i.d,t)+"}":"elif"===i.n&&(n+="else if("+i.p+"){"+w(i.d,t)+"}")}return n},try:function(e,n){if(_("try",!1,e.f,!0),!e.b||1!==e.b.length||"catch"!==e.b[0].n)throw t("native helper 'try' only accepts 1 block, 'catch'");var r="try{"+w(e.d,n)+"}",i=e.b[0];return r+"catch"+(i.res?"("+i.res+")":"")+"{"+w(i.d,n)+"}"},block:function(e,t){return _("block",e.b,e.f,!0),"if(!"+t.varName+"["+e.p+"]){tR+=("+y(e.d,"",t)+")()}else{tR+="+t.varName+"["+e.p+"]}"}}),j=new x({e:function(e){var t=String(e);return/[&<>"']/.test(t)?t.replace(/[&<>"']/g,F):t}}),q={varName:"it",autoTrim:[!1,"nl"],autoEscape:!0,defaultFilter:!1,tags:["{{","}}"],l:function(e,n){if("H"===e){var r=this.storage.helpers.get(n);if(r)return r;throw t("Can't find helper '"+n+"'")}if("F"===e){var i=this.storage.filters.get(n);if(i)return i;throw t("Can't find filter '"+n+"'")}},async:!1,storage:{helpers:E,nativeHelpers:S,filters:j,templates:D},prefixes:{h:"@",b:"#",i:"",r:"*",c:"/",e:"!"},cache:!1,plugins:[],useWith:!1};function O(e,t){var n={};return a(n,q),t&&a(n,t),e&&a(n,e),n.l.bind(n),n}function P(e,n){var r=O(n||{}),s=Function;if(r.async){if(!i)throw t("This environment doesn't support async/await");s=i}try{return new s(r.varName,"c","cb",h(e,r))}catch(n){throw n instanceof SyntaxError?t("Bad template syntax\n\n"+n.message+"\n"+Array(n.message.length+1).join("=")+"\n"+h(e,r)):n}}function U(e,t){var n;return t.cache&&t.name&&t.storage.templates.get(t.name)?t.storage.templates.get(t.name):(n="function"==typeof e?e:P(e,t),t.cache&&t.name&&t.storage.templates.define(t.name,n),n)}q.l.bind(q),e.compile=P,e.compileScope=w,e.compileScopeIntoFunction=y,e.compileToString=h,e.defaultConfig=q,e.filters=j,e.getConfig=O,e.helpers=E,e.nativeHelpers=S,e.parse=f,e.render=function(e,n,i,s){var a=O(i||{});if(!a.async)return U(e,a)(n,a);if(!s){if("function"==typeof r)return new r((function(t,r){try{t(U(e,a)(n,a))}catch(e){r(e)}}));throw t("Please provide a callback function, this env doesn't support Promises")}try{U(e,a)(n,a,s)}catch(e){return s(e)}},e.templates=D,Object.defineProperty(e,"__esModule",{value:!0})}(t)},5311:e=>{"use strict";e.exports=jQuery}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(6462);var e,t,r,i=n(1088),s=n(5311);r='<div class="rs-uploader__thumbnail"><button type="button" class="rs-uploader__close" data-value={{it.id}}>'+(t='<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="12" height="12"><path d="M49.6 158.4l104-108.8 358.4 352 356.8-352 105.6 105.6-352 356.8 352 355.2-102.4 107.2L512 620.8 155.2 974.4l-105.6-105.6L406.4 512z" p-id="3640" fill="#ffffff"></path></svg>')+'</button><a target=_blank href="{{it.url}}" class="rs-uploader__preview-image"><img src="{{it.thumb}}" alt="Thumbnail"></a><div class="rs-uploader__preview-name"><a target=_blank href="{{it.url}}" class="rs-uploader__preview-file">{{it.title}}</a></div></div>',(e=s).fn.wprsAjaxUploader=function(){var t=this.data("settings"),n=this,s={url:n.find(".rs-uploader__shadow").data("url"),type:"POST",dataType:"json",maxFileSize:1e6*wenpriseFormSettings.upload_max_filesize,auto:!0,queue:!1,extFilter:n.data("extfilter"),multiple:!0===n.data("multiple"),onBeforeUpload:function(){n.find(".js-uploader-message").empty()},onDragEnter:function(){n.addClass("active")},onDragLeave:function(){n.removeClass("active")},onUploadSuccess:function(t,s){if(!0===s.success){var a=n.data("name"),o=!0===n.data("multiple"),l=i.render(r,s.data),u='<input type="hidden" name="'+a+'" value="'+s.data.id+'">';n.find("input:text").filter((function(){return""===this.value})).remove(),o?(n.find(".rs-uploader__value").append(u),n.find(".rs-uploader__preview").show().append(l)):(n.find(".rs-uploader__text").hide(),n.find(".rs-uploader__button").hide(),n.find(".rs-uploader__value").empty().append(u),n.find(".rs-uploader__preview").empty().show().append(l))}else n.find(".js-uploader-message").html(s.data);e(document.body).trigger("wprs-ajax-uploader-success",s)},onUploadError:function(t,r,i,s){n.find(".js-uploader-message").html(wenpriseFormSettings.error),e(document.body).trigger("wprs-ajax-uploader-error")},onUploadComplete:function(e){n.find(".js-progress").remove()},onUploadCanceled:function(e){n.find(".js-uploader-message").html(wenpriseFormSettings.canceled)},onUploadProgress:function(t,r){n.find(".js-uploader-message").html(e('<div class="js-progress">').css("width",r+"%"))},onFileTypeError:function(e){n.find(".js-uploader-message").html(wenpriseFormSettings.file_type_error)},onFileSizeError:function(e){n.find(".js-uploader-message").html(wenpriseFormSettings.file_size_error)},onFileExtError:function(e){n.find(".js-uploader-message").html(wenpriseFormSettings.file_ext_error)}},a=e.extend({},s,t);n.dmUploader(a),e("body").on("click",".rs-uploader__close",(function(){var t=e(this).data("value"),n=e(this).closest(".js-uploader");!0===n.data("multiple")?n.find("input[value="+t+"]").remove():(n.find(".rs-uploader__value input").attr("value",""),n.show(),n.find(".rs-uploader__text").show(),n.find(".rs-uploader__button").show()),e(this).parent().remove()})),e("input[name=js-input-shadow]").each((function(){var t=e(this).closest(".js-uploader"),n=!0===t.data("multiple"),r=t.find(".rs-uploader__preview").children().length;!n&&r>0&&(t.find(".rs-uploader__text").hide(),e(this).parent().hide())}))},e(".rs-wp-uploader__button").on("click",(function(n){n.preventDefault();var r,s=e(this).next().attr("id"),a=e(this).closest(".rs-wp-uploader"),o=a.data("name"),l=!0===a.data("multiple");r||((r=wp.media.frames.file_frame=wp.media({title:wenpriseFormSettings.choose_image,button:{text:wenpriseFormSettings.insert_image},multiple:l})).on("select",(function(){var n=e("#"+s).parent(),a=r.state().get("selection").toJSON(),u='<div class="rs-uploader__thumbnail"><button type="button" class="rs-uploader__close rs-wp-uploader__close" data-value={{it.id}}>'+t+'</button><img src="{{it.url}}" alt="Thumbnail"></div>';a.forEach((function(e){var t=i.render(u,e),r=n.find(".rs-uploader__preview"),s=n.find(".rs-uploader__value");n.find("input:text").remove(),l?(s.append('<input type="hidden" name="'+o+'" value="'+e.id+'">'),r.append(t).show()):(s.html('<input type="hidden" name="'+o+'" value="'+e.id+'">'),r.html(t).show())}))})),e(".rs-form--wp-uploader").on("click","button.rs-wp-uploader__close",(function(t){var n=e(this).data("value");e("body").find(".rs-wp-uploader__field").find("input[value="+n+"]").remove(),e(this).parent().remove()}))),r.open()})),e.each(e(".rs-form--uploader"),(function(t,n){e(this).find(".js-uploader").wprsAjaxUploader()}))})()})();