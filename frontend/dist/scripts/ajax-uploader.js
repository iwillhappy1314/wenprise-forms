/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./assets/scripts/modules/ajax-uploader.js":
/*!*************************************************!*\
  !*** ./assets/scripts/modules/ajax-uploader.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var dm_file_uploader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dm-file-uploader */ \"./node_modules/.pnpm/dm-file-uploader@1.0.2/node_modules/dm-file-uploader/src/js/jquery.dm-uploader.js\");\n/* harmony import */ var dm_file_uploader__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(dm_file_uploader__WEBPACK_IMPORTED_MODULE_0__);\n/* provided dependency */ var jQuery = __webpack_require__(/*! jquery */ \"jquery\");\n\n(function ($) {\n  var close_icon = '<svg viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\"><path d=\"M49.6 158.4l104-108.8 358.4 352 356.8-352 105.6 105.6-352 356.8 352 355.2-102.4 107.2L512 620.8 155.2 974.4l-105.6-105.6L406.4 512z\" p-id=\"3640\" fill=\"#ffffff\"></path></svg>',\n    file_icon = '<svg style=\"\" viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\" width=\"64\" height=\"64\"><defs><style type=\"text/css\"></style></defs><path d=\"M768 426.666667H341.333333a17.066667 17.066667 0 1 0 0 34.133333h426.666667a17.066667 17.066667 0 1 0 0-34.133333zM341.333333 324.266667h170.666667a17.066667 17.066667 0 1 0 0-34.133334H341.333333a17.066667 17.066667 0 1 0 0 34.133334zM768 563.2H341.333333a17.066667 17.066667 0 1 0 0 34.133333h426.666667a17.066667 17.066667 0 1 0 0-34.133333zM768 699.733333H341.333333a17.066667 17.066667 0 1 0 0 34.133334h426.666667a17.066667 17.066667 0 1 0 0-34.133334zM768 836.266667H341.333333a17.066667 17.066667 0 1 0 0 34.133333h426.666667a17.066667 17.066667 0 1 0 0-34.133333z\" p-id=\"2458\" fill=\"#666666\"></path><path d=\"M836.266667 248.9344V0H102.4v938.666667h85.333333v85.333333h733.866667V334.267733l-85.333333-85.333333z m-153.6-105.335467l153.6 153.6L863.3344 324.266667H682.666667V143.598933zM136.533333 904.533333V34.133333h665.6v180.667734L672.6656 85.333333H187.733333v819.2H136.533333z m85.333334 85.333334V119.466667h426.666666v238.933333h238.933334v631.466667H221.866667z\" p-id=\"2459\" fill=\"#666666\"></path></svg>';\n  $.fn.wprsAjaxUploader = function () {\n    var options = this.data('settings'),\n      el = this,\n      defaults = {\n        url: el.find('.rs-uploader__shadow').data('url'),\n        type: 'POST',\n        dataType: 'json',\n        maxFileSize: wenpriseFormSettings.upload_max_filesize * 1000000,\n        auto: true,\n        queue: false,\n        extFilter: el.data('extfilter'),\n        multiple: el.data('multiple') === true,\n        onBeforeUpload: function onBeforeUpload() {\n          el.find('.js-uploader-message').empty();\n        },\n        onDragEnter: function onDragEnter() {\n          el.addClass('active');\n        },\n        onDragLeave: function onDragLeave() {\n          el.removeClass('active');\n        },\n        onUploadSuccess: function onUploadSuccess(id, responsive) {\n          if (responsive.success === true) {\n            var name = el.data('name'),\n              is_multiple = el.data('multiple') === true,\n              button = '<button type=\"button\" class=\"rs-uploader__close\" data-value=' + responsive.data.id + '>' + close_icon + '</button>',\n              thumb = '<a target=_blank href=\"' + responsive.data.url + '\" class=\"rs-uploader__preview-image\"><img src=\"' + responsive.data.thumb + '\" alt=\"Thumbnail\"></a>' + '<div class=\"rs-uploader__preview-name\">' + responsive.data.title + '</div>';\n            if (!responsive.data.thumb) {\n              thumb = '<div class=\"rs-uploader__preview-image\">' + file_icon + '</div>' + '<div class=\"rs-uploader__preview-name\">' + responsive.data.title + '</div>';\n            }\n            el.find('input:text').filter(function () {\n              return this.value === '';\n            }).remove();\n            if (!is_multiple) {\n              el.find('.rs-uploader__text').hide();\n              el.find('.rs-uploader__button').hide();\n              el.find('.rs-uploader__value').empty().append('<input type=\"hidden\" name=\"' + name + '\" value=\"' + responsive.data.id + '\">');\n              el.find('.rs-uploader__preview').empty().show().append('<div class=\"rs-uploader__thumbnail\">' + button + thumb + '</div>');\n            } else {\n              el.find('.rs-uploader__value').append('<input type=\"hidden\" name=\"' + name + '\" value=\"' + responsive.data.id + '\">');\n              el.find('.rs-uploader__preview').show().append('<div class=\"rs-uploader__thumbnail\">' + button + thumb + '</div>');\n            }\n          } else {\n            el.find('.js-uploader-message').html(responsive.data);\n          }\n          $(document.body).trigger('wprs-ajax-uploader-success');\n        },\n        onUploadError: function onUploadError(id, xhr, status, errorThrown) {\n          el.find('.js-uploader-message').html(wenpriseFormSettings.error);\n          $(document.body).trigger('wprs-ajax-uploader-error');\n        },\n        onUploadComplete: function onUploadComplete(id) {\n          el.find('.js-progress').remove();\n        },\n        onUploadCanceled: function onUploadCanceled(id) {\n          el.find('.js-uploader-message').html(wenpriseFormSettings.canceled);\n        },\n        onUploadProgress: function onUploadProgress(id, percent) {\n          el.find('.js-uploader-message').html($('<div class=\"js-progress\">').css('width', percent + '%'));\n        },\n        onFileTypeError: function onFileTypeError(file) {\n          el.find('.js-uploader-message').html(wenpriseFormSettings.file_type_error);\n        },\n        onFileSizeError: function onFileSizeError(file) {\n          el.find('.js-uploader-message').html(wenpriseFormSettings.file_size_error);\n        },\n        onFileExtError: function onFileExtError(file) {\n          el.find('.js-uploader-message').html(wenpriseFormSettings.file_ext_error);\n        }\n      };\n    var settings = $.extend({}, defaults, options);\n\n    /**\n     * 初始化文件上传组件\n     */\n    el.dmUploader(settings);\n\n    /**\n     * 删除缩略图\n     */\n    $('body').on('click', '.rs-uploader__close', function () {\n      var value = $(this).data('value'),\n        uploader = $(this).closest('.js-uploader'),\n        is_multiple = uploader.data('multiple') === true;\n\n      // 移除值\n      if (!is_multiple) {\n        uploader.find('.rs-uploader__value input').attr('value', '');\n        uploader.show();\n        uploader.find('.rs-uploader__text').show();\n        uploader.find('.rs-uploader__button').show();\n      } else {\n        uploader.find('input[value=' + value + ']').remove();\n      }\n\n      // 移除缩略图\n      $(this).parent().remove();\n    });\n\n    /**\n     * 单文件上传时，如果已有文件，移除上传组件\n     */\n    $('input[name=js-input-shadow]').each(function () {\n      var uploader = $(this).closest('.js-uploader'),\n        is_multiple = uploader.data('multiple') === true,\n        thumbnails = uploader.find('.rs-uploader__preview').children().length;\n      if (!is_multiple && thumbnails > 0) {\n        uploader.find('.rs-uploader__text').hide();\n        $(this).parent().hide();\n      }\n    });\n  };\n\n  /**\n   * WordPress Uploader\n   */\n  $('.rs-wp-uploader__button').on('click', function (e) {\n    e.preventDefault();\n    var wprs_wp_media_uploader,\n      wprs_wp_media_target_input = $(this).next().attr('id'),\n      uploader = $(this).closest('.rs-wp-uploader'),\n      name = uploader.data('name'),\n      is_multiple = uploader.data('multiple') === true;\n    if (wprs_wp_media_uploader) {\n      wprs_wp_media_uploader.open();\n      return;\n    }\n    wprs_wp_media_uploader = wp.media.frames.file_frame = wp.media({\n      title: wenpriseFormSettings.choose_image,\n      button: {\n        text: wenpriseFormSettings.insert_image\n      },\n      multiple: is_multiple\n    });\n    wprs_wp_media_uploader.on('select', function () {\n      var target_input = $('#' + wprs_wp_media_target_input).parent(),\n        attachments = wprs_wp_media_uploader.state().get('selection').toJSON();\n      attachments.forEach(function (attachment) {\n        var button = '<button type=\"button\" class=\"rs-uploader__close rs-wp-uploader__close\" data-value=' + attachment.id + '>' + close_icon + '</button>',\n          thumb = '<div class=\"rs-uploader__thumbnail\">' + button + '<img src=\"' + attachment.url + '\" alt=\"Thumbnail\"></div>',\n          el_preview = target_input.find('.rs-uploader__preview'),\n          el_value = target_input.find('.rs-uploader__value');\n        target_input.find('input:text').remove();\n        if (is_multiple) {\n          el_value.append('<input type=\"hidden\" name=\"' + name + '\" value=\"' + attachment.id + '\">');\n          el_preview.append(thumb).show();\n        } else {\n          el_value.html('<input type=\"hidden\" name=\"' + name + '\" value=\"' + attachment.id + '\">');\n          el_preview.html(thumb).show();\n        }\n      });\n    });\n\n    /**\n     * 删除缩略图\n     */\n    $('.rs-form--wp-uploader').on('click', 'button.rs-wp-uploader__close', function (el) {\n      var value = $(this).data('value'),\n        wp_uploader = $('body').find('.rs-wp-uploader__field');\n\n      // 移除值\n      wp_uploader.find('input[value=' + value + ']').remove();\n\n      // 移除缩略图\n      $(this).parent().remove();\n    });\n    wprs_wp_media_uploader.open();\n  });\n  $.each($('.rs-form--uploader'), function (index, el) {\n    $(this).find('.js-uploader').wprsAjaxUploader();\n  });\n})(jQuery);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixDQUFDRyxJQUFJLENBQUMsQ0FBQztFQUMvQixDQUFDLENBQUM7RUFFRmhGLENBQUMsQ0FBQ3VFLElBQUksQ0FBQ3ZFLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFLFVBQVNrRyxLQUFLLEVBQUUzRixFQUFFLEVBQUU7SUFDbERQLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQ1UsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDTixnQkFBZ0IsQ0FBQyxDQUFDO0VBQ2pELENBQUMsQ0FBQztBQUVKLENBQUMsRUFBRStGLE1BQU0sQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlbnByaXNlLWZyb250ZW5kLXRvb2wvLi9hc3NldHMvc2NyaXB0cy9tb2R1bGVzL2FqYXgtdXBsb2FkZXIuanM/MGIxZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ2RtLWZpbGUtdXBsb2FkZXInO1xuXG4oZnVuY3Rpb24oJCkge1xuICB2YXIgY2xvc2VfaWNvbiA9ICc8c3ZnIHZpZXdCb3g9XCIwIDAgMTAyNCAxMDI0XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTJcIiBoZWlnaHQ9XCIxMlwiPjxwYXRoIGQ9XCJNNDkuNiAxNTguNGwxMDQtMTA4LjggMzU4LjQgMzUyIDM1Ni44LTM1MiAxMDUuNiAxMDUuNi0zNTIgMzU2LjggMzUyIDM1NS4yLTEwMi40IDEwNy4yTDUxMiA2MjAuOCAxNTUuMiA5NzQuNGwtMTA1LjYtMTA1LjZMNDA2LjQgNTEyelwiIHAtaWQ9XCIzNjQwXCIgZmlsbD1cIiNmZmZmZmZcIj48L3BhdGg+PC9zdmc+JyxcblxuICAgICAgZmlsZV9pY29uICA9ICc8c3ZnIHN0eWxlPVwiXCIgdmlld0JveD1cIjAgMCAxMDI0IDEwMjRcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCI2NFwiIGhlaWdodD1cIjY0XCI+PGRlZnM+PHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPjwvc3R5bGU+PC9kZWZzPjxwYXRoIGQ9XCJNNzY4IDQyNi42NjY2NjdIMzQxLjMzMzMzM2ExNy4wNjY2NjcgMTcuMDY2NjY3IDAgMSAwIDAgMzQuMTMzMzMzaDQyNi42NjY2NjdhMTcuMDY2NjY3IDE3LjA2NjY2NyAwIDEgMCAwLTM0LjEzMzMzM3pNMzQxLjMzMzMzMyAzMjQuMjY2NjY3aDE3MC42NjY2NjdhMTcuMDY2NjY3IDE3LjA2NjY2NyAwIDEgMCAwLTM0LjEzMzMzNEgzNDEuMzMzMzMzYTE3LjA2NjY2NyAxNy4wNjY2NjcgMCAxIDAgMCAzNC4xMzMzMzR6TTc2OCA1NjMuMkgzNDEuMzMzMzMzYTE3LjA2NjY2NyAxNy4wNjY2NjcgMCAxIDAgMCAzNC4xMzMzMzNoNDI2LjY2NjY2N2ExNy4wNjY2NjcgMTcuMDY2NjY3IDAgMSAwIDAtMzQuMTMzMzMzek03NjggNjk5LjczMzMzM0gzNDEuMzMzMzMzYTE3LjA2NjY2NyAxNy4wNjY2NjcgMCAxIDAgMCAzNC4xMzMzMzRoNDI2LjY2NjY2N2ExNy4wNjY2NjcgMTcuMDY2NjY3IDAgMSAwIDAtMzQuMTMzMzM0ek03NjggODM2LjI2NjY2N0gzNDEuMzMzMzMzYTE3LjA2NjY2NyAxNy4wNjY2NjcgMCAxIDAgMCAzNC4xMzMzMzNoNDI2LjY2NjY2N2ExNy4wNjY2NjcgMTcuMDY2NjY3IDAgMSAwIDAtMzQuMTMzMzMzelwiIHAtaWQ9XCIyNDU4XCIgZmlsbD1cIiM2NjY2NjZcIj48L3BhdGg+PHBhdGggZD1cIk04MzYuMjY2NjY3IDI0OC45MzQ0VjBIMTAyLjR2OTM4LjY2NjY2N2g4NS4zMzMzMzN2ODUuMzMzMzMzaDczMy44NjY2NjdWMzM0LjI2NzczM2wtODUuMzMzMzMzLTg1LjMzMzMzM3ogbS0xNTMuNi0xMDUuMzM1NDY3bDE1My42IDE1My42TDg2My4zMzQ0IDMyNC4yNjY2NjdINjgyLjY2NjY2N1YxNDMuNTk4OTMzek0xMzYuNTMzMzMzIDkwNC41MzMzMzNWMzQuMTMzMzMzaDY2NS42djE4MC42Njc3MzRMNjcyLjY2NTYgODUuMzMzMzMzSDE4Ny43MzMzMzN2ODE5LjJIMTM2LjUzMzMzM3ogbTg1LjMzMzMzNCA4NS4zMzMzMzRWMTE5LjQ2NjY2N2g0MjYuNjY2NjY2djIzOC45MzMzMzNoMjM4LjkzMzMzNHY2MzEuNDY2NjY3SDIyMS44NjY2Njd6XCIgcC1pZD1cIjI0NTlcIiBmaWxsPVwiIzY2NjY2NlwiPjwvcGF0aD48L3N2Zz4nO1xuXG4gICQuZm4ud3Byc0FqYXhVcGxvYWRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvcHRpb25zICA9IHRoaXMuZGF0YSgnc2V0dGluZ3MnKSxcbiAgICAgICAgZWwgICAgICAgPSB0aGlzLFxuXG4gICAgICAgIGRlZmF1bHRzID0ge1xuICAgICAgICAgIHVybCAgICAgICAgICAgICA6IGVsLmZpbmQoJy5ycy11cGxvYWRlcl9fc2hhZG93JykuZGF0YSgndXJsJyksXG4gICAgICAgICAgdHlwZSAgICAgICAgICAgIDogJ1BPU1QnLFxuICAgICAgICAgIGRhdGFUeXBlICAgICAgICA6ICdqc29uJyxcbiAgICAgICAgICBtYXhGaWxlU2l6ZSAgICAgOiB3ZW5wcmlzZUZvcm1TZXR0aW5ncy51cGxvYWRfbWF4X2ZpbGVzaXplICogMTAwMDAwMCxcbiAgICAgICAgICBhdXRvICAgICAgICAgICAgOiB0cnVlLFxuICAgICAgICAgIHF1ZXVlICAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICAgIGV4dEZpbHRlciAgICAgICA6IGVsLmRhdGEoJ2V4dGZpbHRlcicpLFxuICAgICAgICAgIG11bHRpcGxlICAgICAgICA6IChlbC5kYXRhKCdtdWx0aXBsZScpID09PSB0cnVlKSxcbiAgICAgICAgICBvbkJlZm9yZVVwbG9hZCAgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGVsLmZpbmQoJy5qcy11cGxvYWRlci1tZXNzYWdlJykuZW1wdHkoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRHJhZ0VudGVyICAgICA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZWwuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25EcmFnTGVhdmUgICAgIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBlbC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblVwbG9hZFN1Y2Nlc3MgOiBmdW5jdGlvbihpZCwgcmVzcG9uc2l2ZSkge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNpdmUuc3VjY2VzcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICB2YXIgbmFtZSAgICAgICAgPSBlbC5kYXRhKCduYW1lJyksXG4gICAgICAgICAgICAgICAgICBpc19tdWx0aXBsZSA9IChlbC5kYXRhKCdtdWx0aXBsZScpID09PSB0cnVlKSxcbiAgICAgICAgICAgICAgICAgIGJ1dHRvbiAgICAgID0gJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwicnMtdXBsb2FkZXJfX2Nsb3NlXCIgZGF0YS12YWx1ZT0nICsgcmVzcG9uc2l2ZS5kYXRhLmlkICsgJz4nICsgY2xvc2VfaWNvbiArICc8L2J1dHRvbj4nLFxuICAgICAgICAgICAgICAgICAgdGh1bWIgICAgICAgPSAnPGEgdGFyZ2V0PV9ibGFuayBocmVmPVwiJyArIHJlc3BvbnNpdmUuZGF0YS51cmwgKyAnXCIgY2xhc3M9XCJycy11cGxvYWRlcl9fcHJldmlldy1pbWFnZVwiPjxpbWcgc3JjPVwiJyArIHJlc3BvbnNpdmUuZGF0YS50aHVtYiArICdcIiBhbHQ9XCJUaHVtYm5haWxcIj48L2E+JyArICc8ZGl2IGNsYXNzPVwicnMtdXBsb2FkZXJfX3ByZXZpZXctbmFtZVwiPicgKyByZXNwb25zaXZlLmRhdGEudGl0bGUgKyAnPC9kaXY+JztcblxuICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNpdmUuZGF0YS50aHVtYikge1xuICAgICAgICAgICAgICAgIHRodW1iID0gJzxkaXYgY2xhc3M9XCJycy11cGxvYWRlcl9fcHJldmlldy1pbWFnZVwiPicgKyBmaWxlX2ljb24gKyAnPC9kaXY+JyArICc8ZGl2IGNsYXNzPVwicnMtdXBsb2FkZXJfX3ByZXZpZXctbmFtZVwiPicgKyByZXNwb25zaXZlLmRhdGEudGl0bGUgKyAnPC9kaXY+JztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGVsLmZpbmQoJ2lucHV0OnRleHQnKS5maWx0ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPT09ICcnO1xuICAgICAgICAgICAgICB9KS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICBpZiAoIWlzX211bHRpcGxlKSB7XG4gICAgICAgICAgICAgICAgZWwuZmluZCgnLnJzLXVwbG9hZGVyX190ZXh0JykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIGVsLmZpbmQoJy5ycy11cGxvYWRlcl9fYnV0dG9uJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIGVsLmZpbmQoJy5ycy11cGxvYWRlcl9fdmFsdWUnKS5lbXB0eSgpLmFwcGVuZCgnPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiJyArIG5hbWUgKyAnXCIgdmFsdWU9XCInICsgcmVzcG9uc2l2ZS5kYXRhLmlkICsgJ1wiPicpO1xuICAgICAgICAgICAgICAgIGVsLmZpbmQoJy5ycy11cGxvYWRlcl9fcHJldmlldycpLmVtcHR5KCkuc2hvdygpLmFwcGVuZCgnPGRpdiBjbGFzcz1cInJzLXVwbG9hZGVyX190aHVtYm5haWxcIj4nICsgYnV0dG9uICsgdGh1bWIgKyAnPC9kaXY+Jyk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWwuZmluZCgnLnJzLXVwbG9hZGVyX192YWx1ZScpLmFwcGVuZCgnPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiJyArIG5hbWUgKyAnXCIgdmFsdWU9XCInICsgcmVzcG9uc2l2ZS5kYXRhLmlkICsgJ1wiPicpO1xuICAgICAgICAgICAgICAgIGVsLmZpbmQoJy5ycy11cGxvYWRlcl9fcHJldmlldycpLnNob3coKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJycy11cGxvYWRlcl9fdGh1bWJuYWlsXCI+JyArIGJ1dHRvbiArIHRodW1iICsgJzwvZGl2PicpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBlbC5maW5kKCcuanMtdXBsb2FkZXItbWVzc2FnZScpLmh0bWwocmVzcG9uc2l2ZS5kYXRhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJCggZG9jdW1lbnQuYm9keSApLnRyaWdnZXIoICd3cHJzLWFqYXgtdXBsb2FkZXItc3VjY2VzcycgKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uVXBsb2FkRXJyb3IgICA6IGZ1bmN0aW9uKGlkLCB4aHIsIHN0YXR1cywgZXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgIGVsLmZpbmQoJy5qcy11cGxvYWRlci1tZXNzYWdlJykuaHRtbCh3ZW5wcmlzZUZvcm1TZXR0aW5ncy5lcnJvcik7XG5cbiAgICAgICAgICAgICQoIGRvY3VtZW50LmJvZHkgKS50cmlnZ2VyKCAnd3Bycy1hamF4LXVwbG9hZGVyLWVycm9yJyApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25VcGxvYWRDb21wbGV0ZTogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgIGVsLmZpbmQoJy5qcy1wcm9ncmVzcycpLnJlbW92ZSgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25VcGxvYWRDYW5jZWxlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgIGVsLmZpbmQoJy5qcy11cGxvYWRlci1tZXNzYWdlJykuaHRtbCh3ZW5wcmlzZUZvcm1TZXR0aW5ncy5jYW5jZWxlZCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblVwbG9hZFByb2dyZXNzOiBmdW5jdGlvbihpZCwgcGVyY2VudCkge1xuICAgICAgICAgICAgZWwuZmluZCgnLmpzLXVwbG9hZGVyLW1lc3NhZ2UnKS5odG1sKCQoJzxkaXYgY2xhc3M9XCJqcy1wcm9ncmVzc1wiPicpLmNzcygnd2lkdGgnLCBwZXJjZW50ICsgJyUnKSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkZpbGVUeXBlRXJyb3IgOiBmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgICBlbC5maW5kKCcuanMtdXBsb2FkZXItbWVzc2FnZScpLmh0bWwod2VucHJpc2VGb3JtU2V0dGluZ3MuZmlsZV90eXBlX2Vycm9yKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uRmlsZVNpemVFcnJvciA6IGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICAgIGVsLmZpbmQoJy5qcy11cGxvYWRlci1tZXNzYWdlJykuaHRtbCh3ZW5wcmlzZUZvcm1TZXR0aW5ncy5maWxlX3NpemVfZXJyb3IpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25GaWxlRXh0RXJyb3IgIDogZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICAgICAgZWwuZmluZCgnLmpzLXVwbG9hZGVyLW1lc3NhZ2UnKS5odG1sKHdlbnByaXNlRm9ybVNldHRpbmdzLmZpbGVfZXh0X2Vycm9yKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuXG4gICAgdmFyIHNldHRpbmdzID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIOWIneWni+WMluaWh+S7tuS4iuS8oOe7hOS7tlxuICAgICAqL1xuICAgIGVsLmRtVXBsb2FkZXIoc2V0dGluZ3MpO1xuXG4gICAgLyoqXG4gICAgICog5Yig6Zmk57yp55Wl5Zu+XG4gICAgICovXG4gICAgJCgnYm9keScpLm9uKCdjbGljaycsICcucnMtdXBsb2FkZXJfX2Nsb3NlJywgZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciB2YWx1ZSAgICAgICA9ICQodGhpcykuZGF0YSgndmFsdWUnKSxcbiAgICAgICAgICB1cGxvYWRlciAgICA9ICQodGhpcykuY2xvc2VzdCgnLmpzLXVwbG9hZGVyJyksXG4gICAgICAgICAgaXNfbXVsdGlwbGUgPSAodXBsb2FkZXIuZGF0YSgnbXVsdGlwbGUnKSA9PT0gdHJ1ZSk7XG5cbiAgICAgIC8vIOenu+mZpOWAvFxuICAgICAgaWYgKCFpc19tdWx0aXBsZSkge1xuICAgICAgICB1cGxvYWRlci5maW5kKCcucnMtdXBsb2FkZXJfX3ZhbHVlIGlucHV0JykuYXR0cigndmFsdWUnLCAnJyk7XG5cbiAgICAgICAgdXBsb2FkZXIuc2hvdygpO1xuICAgICAgICB1cGxvYWRlci5maW5kKCcucnMtdXBsb2FkZXJfX3RleHQnKS5zaG93KCk7XG4gICAgICAgIHVwbG9hZGVyLmZpbmQoJy5ycy11cGxvYWRlcl9fYnV0dG9uJykuc2hvdygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXBsb2FkZXIuZmluZCgnaW5wdXRbdmFsdWU9JyArIHZhbHVlICsgJ10nKS5yZW1vdmUoKTtcbiAgICAgIH1cblxuICAgICAgLy8g56e76Zmk57yp55Wl5Zu+XG4gICAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZSgpO1xuXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiDljZXmlofku7bkuIrkvKDml7bvvIzlpoLmnpzlt7LmnInmlofku7bvvIznp7vpmaTkuIrkvKDnu4Tku7ZcbiAgICAgKi9cbiAgICAkKCdpbnB1dFtuYW1lPWpzLWlucHV0LXNoYWRvd10nKS5lYWNoKGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgdXBsb2FkZXIgICAgPSAkKHRoaXMpLmNsb3Nlc3QoJy5qcy11cGxvYWRlcicpLFxuICAgICAgICAgIGlzX211bHRpcGxlID0gKHVwbG9hZGVyLmRhdGEoJ211bHRpcGxlJykgPT09IHRydWUpLFxuICAgICAgICAgIHRodW1ibmFpbHMgID0gdXBsb2FkZXIuZmluZCgnLnJzLXVwbG9hZGVyX19wcmV2aWV3JykuY2hpbGRyZW4oKS5sZW5ndGg7XG5cbiAgICAgIGlmICghaXNfbXVsdGlwbGUgJiYgdGh1bWJuYWlscyA+IDApIHtcbiAgICAgICAgdXBsb2FkZXIuZmluZCgnLnJzLXVwbG9hZGVyX190ZXh0JykuaGlkZSgpO1xuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmhpZGUoKTtcbiAgICAgIH1cblxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXb3JkUHJlc3MgVXBsb2FkZXJcbiAgICovXG4gICQoJy5ycy13cC11cGxvYWRlcl9fYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIHZhciB3cHJzX3dwX21lZGlhX3VwbG9hZGVyLFxuICAgICAgICB3cHJzX3dwX21lZGlhX3RhcmdldF9pbnB1dCA9ICQodGhpcykubmV4dCgpLmF0dHIoJ2lkJyksXG4gICAgICAgIHVwbG9hZGVyICAgICAgICAgICAgICAgICAgID0gJCh0aGlzKS5jbG9zZXN0KCcucnMtd3AtdXBsb2FkZXInKSxcbiAgICAgICAgbmFtZSAgICAgICAgICAgICAgICAgICAgICAgPSB1cGxvYWRlci5kYXRhKCduYW1lJyksXG4gICAgICAgIGlzX211bHRpcGxlICAgICAgICAgICAgICAgID0gKHVwbG9hZGVyLmRhdGEoJ211bHRpcGxlJykgPT09IHRydWUpO1xuXG4gICAgaWYgKHdwcnNfd3BfbWVkaWFfdXBsb2FkZXIpIHtcbiAgICAgIHdwcnNfd3BfbWVkaWFfdXBsb2FkZXIub3BlbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHdwcnNfd3BfbWVkaWFfdXBsb2FkZXIgPSB3cC5tZWRpYS5mcmFtZXMuZmlsZV9mcmFtZSA9IHdwLm1lZGlhKHtcbiAgICAgIHRpdGxlICAgOiB3ZW5wcmlzZUZvcm1TZXR0aW5ncy5jaG9vc2VfaW1hZ2UsXG4gICAgICBidXR0b24gIDoge1xuICAgICAgICB0ZXh0OiB3ZW5wcmlzZUZvcm1TZXR0aW5ncy5pbnNlcnRfaW1hZ2UsXG4gICAgICB9LFxuICAgICAgbXVsdGlwbGU6IGlzX211bHRpcGxlLFxuICAgIH0pO1xuXG4gICAgd3Byc193cF9tZWRpYV91cGxvYWRlci5vbignc2VsZWN0JywgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdGFyZ2V0X2lucHV0ID0gJCgnIycgKyB3cHJzX3dwX21lZGlhX3RhcmdldF9pbnB1dCkucGFyZW50KCksXG4gICAgICAgICAgYXR0YWNobWVudHMgID0gd3Byc193cF9tZWRpYV91cGxvYWRlci5zdGF0ZSgpLmdldCgnc2VsZWN0aW9uJykudG9KU09OKCk7XG5cbiAgICAgIGF0dGFjaG1lbnRzLmZvckVhY2goZnVuY3Rpb24oYXR0YWNobWVudCkge1xuICAgICAgICB2YXIgYnV0dG9uICAgICA9ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInJzLXVwbG9hZGVyX19jbG9zZSBycy13cC11cGxvYWRlcl9fY2xvc2VcIiBkYXRhLXZhbHVlPScgKyBhdHRhY2htZW50LmlkICsgJz4nICsgY2xvc2VfaWNvbiArICc8L2J1dHRvbj4nLFxuICAgICAgICAgICAgdGh1bWIgICAgICA9ICc8ZGl2IGNsYXNzPVwicnMtdXBsb2FkZXJfX3RodW1ibmFpbFwiPicgKyBidXR0b24gKyAnPGltZyBzcmM9XCInICsgYXR0YWNobWVudC51cmwgKyAnXCIgYWx0PVwiVGh1bWJuYWlsXCI+PC9kaXY+JyxcbiAgICAgICAgICAgIGVsX3ByZXZpZXcgPSB0YXJnZXRfaW5wdXQuZmluZCgnLnJzLXVwbG9hZGVyX19wcmV2aWV3JyksXG4gICAgICAgICAgICBlbF92YWx1ZSAgID0gdGFyZ2V0X2lucHV0LmZpbmQoJy5ycy11cGxvYWRlcl9fdmFsdWUnKTtcblxuICAgICAgICB0YXJnZXRfaW5wdXQuZmluZCgnaW5wdXQ6dGV4dCcpLnJlbW92ZSgpO1xuXG4gICAgICAgIGlmIChpc19tdWx0aXBsZSkge1xuICAgICAgICAgIGVsX3ZhbHVlLmFwcGVuZCgnPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiJyArIG5hbWUgKyAnXCIgdmFsdWU9XCInICsgYXR0YWNobWVudC5pZCArICdcIj4nKTtcblxuICAgICAgICAgIGVsX3ByZXZpZXcuYXBwZW5kKHRodW1iKS5zaG93KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxfdmFsdWUuaHRtbCgnPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiJyArIG5hbWUgKyAnXCIgdmFsdWU9XCInICsgYXR0YWNobWVudC5pZCArICdcIj4nKTtcblxuICAgICAgICAgIGVsX3ByZXZpZXcuaHRtbCh0aHVtYikuc2hvdygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIOWIoOmZpOe8qeeVpeWbvlxuICAgICAqL1xuICAgICQoJy5ycy1mb3JtLS13cC11cGxvYWRlcicpLm9uKCdjbGljaycsICdidXR0b24ucnMtd3AtdXBsb2FkZXJfX2Nsb3NlJywgZnVuY3Rpb24oZWwpIHtcbiAgICAgIHZhciB2YWx1ZSAgICAgICA9ICQodGhpcykuZGF0YSgndmFsdWUnKSxcbiAgICAgICAgICB3cF91cGxvYWRlciA9ICQoJ2JvZHknKS5maW5kKCcucnMtd3AtdXBsb2FkZXJfX2ZpZWxkJyk7XG5cbiAgICAgIC8vIOenu+mZpOWAvFxuICAgICAgd3BfdXBsb2FkZXIuZmluZCgnaW5wdXRbdmFsdWU9JyArIHZhbHVlICsgJ10nKS5yZW1vdmUoKTtcblxuICAgICAgLy8g56e76Zmk57yp55Wl5Zu+XG4gICAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZSgpO1xuICAgIH0pO1xuXG4gICAgd3Byc193cF9tZWRpYV91cGxvYWRlci5vcGVuKCk7XG4gIH0pO1xuXG4gICQuZWFjaCgkKCcucnMtZm9ybS0tdXBsb2FkZXInKSwgZnVuY3Rpb24oaW5kZXgsIGVsKSB7XG4gICAgJCh0aGlzKS5maW5kKCcuanMtdXBsb2FkZXInKS53cHJzQWpheFVwbG9hZGVyKCk7XG4gIH0pO1xuXG59KShqUXVlcnkpOyJdLCJuYW1lcyI6WyIkIiwiY2xvc2VfaWNvbiIsImZpbGVfaWNvbiIsImZuIiwid3Byc0FqYXhVcGxvYWRlciIsIm9wdGlvbnMiLCJkYXRhIiwiZWwiLCJkZWZhdWx0cyIsInVybCIsImZpbmQiLCJ0eXBlIiwiZGF0YVR5cGUiLCJtYXhGaWxlU2l6ZSIsIndlbnByaXNlRm9ybVNldHRpbmdzIiwidXBsb2FkX21heF9maWxlc2l6ZSIsImF1dG8iLCJxdWV1ZSIsImV4dEZpbHRlciIsIm11bHRpcGxlIiwib25CZWZvcmVVcGxvYWQiLCJlbXB0eSIsIm9uRHJhZ0VudGVyIiwiYWRkQ2xhc3MiLCJvbkRyYWdMZWF2ZSIsInJlbW92ZUNsYXNzIiwib25VcGxvYWRTdWNjZXNzIiwiaWQiLCJyZXNwb25zaXZlIiwic3VjY2VzcyIsIm5hbWUiLCJpc19tdWx0aXBsZSIsImJ1dHRvbiIsInRodW1iIiwidGl0bGUiLCJmaWx0ZXIiLCJ2YWx1ZSIsInJlbW92ZSIsImhpZGUiLCJhcHBlbmQiLCJzaG93IiwiaHRtbCIsImRvY3VtZW50IiwiYm9keSIsInRyaWdnZXIiLCJvblVwbG9hZEVycm9yIiwieGhyIiwic3RhdHVzIiwiZXJyb3JUaHJvd24iLCJlcnJvciIsIm9uVXBsb2FkQ29tcGxldGUiLCJvblVwbG9hZENhbmNlbGVkIiwiY2FuY2VsZWQiLCJvblVwbG9hZFByb2dyZXNzIiwicGVyY2VudCIsImNzcyIsIm9uRmlsZVR5cGVFcnJvciIsImZpbGUiLCJmaWxlX3R5cGVfZXJyb3IiLCJvbkZpbGVTaXplRXJyb3IiLCJmaWxlX3NpemVfZXJyb3IiLCJvbkZpbGVFeHRFcnJvciIsImZpbGVfZXh0X2Vycm9yIiwic2V0dGluZ3MiLCJleHRlbmQiLCJkbVVwbG9hZGVyIiwib24iLCJ1cGxvYWRlciIsImNsb3Nlc3QiLCJhdHRyIiwicGFyZW50IiwiZWFjaCIsInRodW1ibmFpbHMiLCJjaGlsZHJlbiIsImxlbmd0aCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIndwcnNfd3BfbWVkaWFfdXBsb2FkZXIiLCJ3cHJzX3dwX21lZGlhX3RhcmdldF9pbnB1dCIsIm5leHQiLCJvcGVuIiwid3AiLCJtZWRpYSIsImZyYW1lcyIsImZpbGVfZnJhbWUiLCJjaG9vc2VfaW1hZ2UiLCJ0ZXh0IiwiaW5zZXJ0X2ltYWdlIiwidGFyZ2V0X2lucHV0IiwiYXR0YWNobWVudHMiLCJzdGF0ZSIsImdldCIsInRvSlNPTiIsImZvckVhY2giLCJhdHRhY2htZW50IiwiZWxfcHJldmlldyIsImVsX3ZhbHVlIiwid3BfdXBsb2FkZXIiLCJpbmRleCIsImpRdWVyeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./assets/scripts/modules/ajax-uploader.js\n");

/***/ }),

/***/ "./node_modules/.pnpm/dm-file-uploader@1.0.2/node_modules/dm-file-uploader/src/js/jquery.dm-uploader.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/dm-file-uploader@1.0.2/node_modules/dm-file-uploader/src/js/jquery.dm-uploader.js ***!
  \**************************************************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\n * dmUploader - jQuery Ajax File Uploader Widget\n * https://github.com/danielm/uploader\n *\n * Copyright Daniel Morales <daniel85mg@gmail.com>\n * Released under the MIT license.\n * https://github.com/danielm/uploader/blob/master/LICENSE.txt\n *\n * @preserve\n */\n\n/* global define, define, window, document, FormData */\n\n(function(factory) {\n  \"use strict\";\n  if (true) {\n    // AMD. Register as an anonymous module.\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ \"jquery\")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(function($) {\n  \"use strict\";\n\n  var pluginName = \"dmUploader\";\n\n  var FileStatus = {\n    PENDING: 0,\n    UPLOADING: 1,\n    COMPLETED: 2,\n    FAILED: 3,\n    CANCELLED: 4 //(by the user)\n  };\n\n  // These are the plugin defaults values\n  var defaults = {\n    auto: true,\n    queue: true,\n    dnd: true,\n    hookDocument: true,\n    multiple: true,\n    url: document.URL,\n    method: \"POST\",\n    extraData: {},\n    headers: {},\n    dataType: null,\n    fieldName: \"file\",\n    maxFileSize: 0,\n    allowedTypes: \"*\",\n    extFilter: null,\n    onInit: function(){},\n    onComplete: function(){},\n    onFallbackMode: function() {},\n    onNewFile: function(){},        //params: id, file\n    onBeforeUpload: function(){},   //params: id\n    onUploadProgress: function(){}, //params: id, percent\n    onUploadSuccess: function(){},  //params: id, data\n    onUploadCanceled: function(){}, //params: id\n    onUploadError: function(){},    //params: id, xhr, status, message\n    onUploadComplete: function(){}, //params: id\n    onFileTypeError: function(){},  //params: file\n    onFileSizeError: function(){},  //params: file\n    onFileExtError: function(){},   //params: file\n    onDragEnter: function(){},\n    onDragLeave: function(){},\n    onDocumentDragEnter: function(){},\n    onDocumentDragLeave: function(){}\n  };\n  \n  var DmUploaderFile = function(file, widget)\n  {\n    this.data = file;\n\n    this.widget = widget;\n\n    this.jqXHR = null;\n\n    this.status = FileStatus.PENDING;\n\n    // The file id doesnt have to bo that special.... or not?\n    this.id = Math.random().toString(36).substr(2);\n  };\n\n  DmUploaderFile.prototype.upload = function()\n  {\n    var file = this;\n\n    if (!file.canUpload()) {\n\n      if (file.widget.queueRunning && file.status !== FileStatus.UPLOADING) {\n        file.widget.processQueue();\n      }\n\n      return false;\n    }\n\n    // Form Data\n    var fd = new FormData();\n    fd.append(file.widget.settings.fieldName, file.data);\n\n    // Append extra Form Data\n    var customData = file.widget.settings.extraData;\n    if (typeof(customData) === \"function\") {\n      customData = customData.call(file.widget.element, file.id);\n    }\n\n    $.each(customData, function(exKey, exVal) {\n      fd.append(exKey, exVal);\n    });\n\n    file.status = FileStatus.UPLOADING;\n    file.widget.activeFiles++;\n\n    file.widget.settings.onBeforeUpload.call(file.widget.element, file.id);\n\n    // Ajax Submit\n    file.jqXHR = $.ajax({\n      url: file.widget.settings.url,\n      type: file.widget.settings.method,\n      dataType: file.widget.settings.dataType,\n      data: fd,\n      headers: file.widget.settings.headers,\n      cache: false,\n      contentType: false,\n      processData: false,\n      forceSync: false,\n      xhr: function() { return file.getXhr(); },\n      success: function(data) { file.onSuccess(data); },\n      error: function(xhr, status, errMsg) { file.onError(xhr, status, errMsg); },\n      complete: function() { file.onComplete(); },\n    });\n\n    return true;\n  };\n\n  DmUploaderFile.prototype.onSuccess = function(data)\n  {\n    this.status = FileStatus.COMPLETED;\n    this.widget.settings.onUploadSuccess.call(this.widget.element, this.id, data);\n  };\n\n  DmUploaderFile.prototype.onError = function(xhr, status, errMsg)\n  {\n    // If the status is: cancelled (by the user) don't invoke the error callback\n    if (this.status !== FileStatus.CANCELLED) {\n      this.status = FileStatus.FAILED;\n      this.widget.settings.onUploadError.call(this.widget.element, this.id, xhr, status, errMsg);\n    }\n  };\n\n  DmUploaderFile.prototype.onComplete = function()\n  {\n    this.widget.activeFiles--;\n\n    if (this.status !== FileStatus.CANCELLED) {\n      this.widget.settings.onUploadComplete.call(this.widget.element, this.id);\n    }\n\n    if (this.widget.queueRunning) {\n      this.widget.processQueue();\n    } else if (this.widget.settings.queue && this.widget.activeFiles === 0) {\n      this.widget.settings.onComplete.call(this.element);\n    }\n  };\n\n  DmUploaderFile.prototype.getXhr = function()\n  {\n    var file = this;\n    var xhrobj = $.ajaxSettings.xhr();\n\n    if (xhrobj.upload) {\n      xhrobj.upload.addEventListener(\"progress\", function(event) {\n        var percent = 0;\n        var position = event.loaded || event.position;\n        var total = event.total || event.totalSize;\n\n        if (event.lengthComputable) {\n          percent = Math.ceil(position / total * 100);\n        }\n        file.widget.settings.onUploadProgress.call(file.widget.element, file.id, percent);\n      }, false);\n    }\n\n    return xhrobj;\n  };\n\n  DmUploaderFile.prototype.cancel = function(abort)\n  {\n    // The abort flag is to track if we are calling this function directly (using the cancel Method, by id)\n    // or the call comes from the 'gobal' method aka cancelAll.\n    // THis mean that we don't want to trigger the cancel event on file that isn't uploading, UNLESS directly doing it\n    // ... and yes, it could be done prettier. Review (?)\n    abort = (typeof abort === \"undefined\" ? false : abort);\n\n    var myStatus = this.status;\n\n    if (myStatus === FileStatus.UPLOADING || (abort && myStatus === FileStatus.PENDING)) {\n      this.status = FileStatus.CANCELLED;\n    } else {\n      return false;\n    }\n\n    this.widget.settings.onUploadCanceled.call(this.widget.element, this.id);\n\n    if (myStatus === FileStatus.UPLOADING) {\n      this.jqXHR.abort();\n    }\n\n    return true;\n  };\n\n  DmUploaderFile.prototype.canUpload = function()\n  {\n    return (\n      this.status === FileStatus.PENDING ||\n      this.status === FileStatus.FAILED\n    );\n  };\n\n  var DmUploader = function(element, options)\n  {\n    this.element = $(element);\n    this.settings = $.extend({}, defaults, options);\n\n    if (!this.checkSupport()) {\n      $.error(\"Browser not supported by jQuery.dmUploader\");\n\n      this.settings.onFallbackMode.call(this.element);\n\n      return false;\n    }\n\n    this.init();\n\n    return this;\n  };\n\n  DmUploader.prototype.checkSupport = function()\n  {\n    // This one is mandatory for all modes\n    if (typeof window.FormData === \"undefined\") {\n      return false;\n    }\n\n    // Test based on: Modernizr/feature-detects/forms/fileinput.js\n    var exp = new RegExp(\n      \"/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|\"+\n      \"(Windows Phone (OS 7|8.0))|(XBLWP)|\"+\n      \"(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|\"+\n      \"(Kindle\\/(1.0|2.0|2.5|3.0))/\");\n\n    if (exp.test(window.navigator.userAgent)) {\n      return false;\n    }\n\n    return !$(\"<input type=\\\"file\\\" />\").prop(\"disabled\");\n  };\n\n  DmUploader.prototype.init = function()\n  {\n    var widget = this;\n\n    // Queue vars\n    this.queue = [];\n    this.queuePos = -1;\n    this.queueRunning = false;\n    this.activeFiles = 0;\n    this.draggingOver = 0;\n    this.draggingOverDoc = 0;\n\n    var input = widget.element.is(\"input[type=file]\") ?\n      widget.element : widget.element.find(\"input[type=file]\");\n\n    //-- Is the input our main element itself??\n    if (input.length > 0) {\n      input.prop(\"multiple\", this.settings.multiple);\n\n      // Or does it has the input as a child\n      input.on(\"change.\" + pluginName, function(evt) {\n        var files = evt.target && evt.target.files;\n\n        if (!files || !files.length){\n          return;\n        }\n\n        widget.addFiles(files);\n\n        $(this).val(\"\");\n      });\n    }\n\n    if (this.settings.dnd) {\n      this.initDnD();\n    }\n\n    if (input.length === 0 && !this.settings.dnd) {\n      // Trigger an error because if this happens the plugin wont do anything.\n      $.error(\"Markup error found by jQuery.dmUploader\");\n\n      return null;\n    }\n\n    // We good to go, tell them!\n    this.settings.onInit.call(this.element);\n\n    return this;\n  };\n\n  DmUploader.prototype.initDnD = function()\n  {\n    var widget = this;\n\n    // -- Now our own Drop\n    widget.element.on(\"drop.\" + pluginName, function (evt) {\n      evt.preventDefault();\n\n      if (widget.draggingOver > 0){\n        widget.draggingOver = 0;\n        widget.settings.onDragLeave.call(widget.element);\n      }\n\n      var dataTransfer = evt.originalEvent && evt.originalEvent.dataTransfer;\n      if (!dataTransfer || !dataTransfer.files || !dataTransfer.files.length) {\n        return;\n      }\n\n      // Take only the first file if not acepting multiple, this is kinda ugly. Needs Review ?\n      var files = [];\n\n      if (widget.settings.multiple) {\n        files = dataTransfer.files;\n      } else {\n        files.push(dataTransfer.files[0]);\n      }\n\n      widget.addFiles(files);\n    });\n\n    //-- These two events/callbacks are onlt to maybe do some fancy visual stuff\n    widget.element.on(\"dragenter.\" + pluginName, function(evt) {\n      evt.preventDefault();\n\n      if (widget.draggingOver === 0){\n        widget.settings.onDragEnter.call(widget.element);\n      }\n\n      widget.draggingOver++;\n    });\n\n    widget.element.on(\"dragleave.\" + pluginName, function(evt) {\n      evt.preventDefault();\n\n      widget.draggingOver--;\n\n      if (widget.draggingOver === 0){\n        widget.settings.onDragLeave.call(widget.element);\n      }\n    });\n\n    if (!widget.settings.hookDocument) {\n      return;\n    }\n\n    // Adding some off/namepacing to prevent some weird cases when people use multiple instances\n    $(document).off(\"drop.\" + pluginName).on(\"drop.\" + pluginName, function(evt) {\n      evt.preventDefault();\n\n      if (widget.draggingOverDoc > 0){\n        widget.draggingOverDoc = 0;\n        widget.settings.onDocumentDragLeave.call(widget.element);\n      }\n    });\n\n    $(document).off(\"dragenter.\" + pluginName).on(\"dragenter.\" + pluginName, function(evt) {\n      evt.preventDefault();\n\n      if (widget.draggingOverDoc === 0){\n        widget.settings.onDocumentDragEnter.call(widget.element);\n      }\n\n      widget.draggingOverDoc++;\n    });\n\n    $(document).off(\"dragleave.\" + pluginName).on(\"dragleave.\" + pluginName, function(evt) {\n      evt.preventDefault();\n\n      widget.draggingOverDoc--;\n\n      if (widget.draggingOverDoc === 0){\n        widget.settings.onDocumentDragLeave.call(widget.element);\n      }\n    });\n\n    $(document).off(\"dragover.\" + pluginName).on(\"dragover.\" + pluginName, function(evt) {\n      evt.preventDefault();\n    });\n  };\n\n  DmUploader.prototype.releaseEvents = function() {\n    // Leave everyone ALONE ;_;\n\n    this.element.off(\".\" + pluginName);\n    this.element.find(\"input[type=file]\").off(\".\" + pluginName);\n\n    if (this.settings.hookDocument) {\n      $(document).off(\".\" + pluginName);\n    }\n  };\n\n  DmUploader.prototype.validateFile = function(file)\n  {\n    // Check file size\n    if ((this.settings.maxFileSize > 0) &&\n        (file.size > this.settings.maxFileSize)) {\n\n      this.settings.onFileSizeError.call(this.element, file);\n\n      return false;\n    }\n\n    // Check file type\n    if ((this.settings.allowedTypes !== \"*\") &&\n        !file.type.match(this.settings.allowedTypes)){\n\n      this.settings.onFileTypeError.call(this.element, file);\n\n      return false;\n    }\n\n    // Check file extension\n    if (this.settings.extFilter !== null) {\n      var ext = file.name.toLowerCase().split(\".\").pop();\n\n      if ($.inArray(ext, this.settings.extFilter) < 0) {\n        this.settings.onFileExtError.call(this.element, file);\n\n        return false;\n      }\n    }\n\n    return new DmUploaderFile(file, this);\n  };\n\n  DmUploader.prototype.addFiles = function(files)\n  {\n    var nFiles = 0;\n\n    for (var i= 0; i < files.length; i++)\n    {\n      var file = this.validateFile(files[i]);\n\n      if (!file){\n        continue;\n      }\n\n      // If the callback returns false file will not be processed. This may allow some customization\n      var can_continue = this.settings.onNewFile.call(this.element, file.id, file.data);\n      if (can_continue === false) {\n        continue;\n      }\n\n      // If we are using automatic uploading, and not a file queue: go for the upload\n      if (this.settings.auto && !this.settings.queue) {\n        file.upload();\n      }\n\n      this.queue.push(file);\n      \n      nFiles++;\n    }\n\n    // No files were added\n    if (nFiles === 0) {\n      return this;\n    }\n\n    // Are we auto-uploading files?\n    if (this.settings.auto && this.settings.queue && !this.queueRunning) {\n      this.processQueue();\n    }\n\n    return this;\n  };\n\n  DmUploader.prototype.processQueue = function()\n  {\n    this.queuePos++;\n\n    if (this.queuePos >= this.queue.length) {\n      if (this.activeFiles === 0) {\n        this.settings.onComplete.call(this.element);\n      }\n\n      // Wait until new files are droped\n      this.queuePos = (this.queue.length - 1);\n\n      this.queueRunning = false;\n\n      return false;\n    }\n\n    this.queueRunning = true;\n\n    // Start next file\n    return this.queue[this.queuePos].upload();\n  };\n\n  DmUploader.prototype.restartQueue = function()\n  {\n    this.queuePos = -1;\n    this.queueRunning = false;\n\n    this.processQueue();\n  };\n\n  DmUploader.prototype.findById = function(id)\n  {\n    var r = false;\n\n    for (var i = 0; i < this.queue.length; i++) {\n      if (this.queue[i].id === id) {\n        r = this.queue[i];\n        break;\n      }\n    }\n\n    return r;\n  };\n\n  DmUploader.prototype.cancelAll =  function()\n  {\n    var queueWasRunning = this.queueRunning;\n    this.queueRunning = false;\n\n    // cancel 'em all\n    for (var i = 0; i < this.queue.length; i++) {\n      this.queue[i].cancel();\n    }\n\n    if (queueWasRunning) {\n      this.settings.onComplete.call(this.element);\n    }\n  };\n\n  DmUploader.prototype.startAll = function()\n  {\n    if (this.settings.queue) {\n      // Resume queue\n      this.restartQueue();\n    } else {\n      // or upload them all\n      for (var i = 0; i < this.queue.length; i++) {\n        this.queue[i].upload();\n      }\n    }\n  };\n\n  // Public API methods\n  DmUploader.prototype.methods = {\n    start: function(id) {\n      if (this.queueRunning){\n        // Do not allow to manually upload Files when a queue is running\n        return false;\n      }\n\n      var file = false;\n\n      if (typeof id !== \"undefined\") {\n        file = this.findById(id);\n\n        if (!file) {\n          // File not found in stack\n          $.error(\"File not found in jQuery.dmUploader\");\n\n          return false;\n        }\n      }\n      \n      // Trying to Start an upload by ID\n      if (file) {\n        if (file.status === FileStatus.CANCELLED) {\n          file.status = FileStatus.PENDING;\n        }\n        return file.upload();\n      }\n\n      // With no id provided...\n\n      this.startAll();\n\n      return true;\n    },\n    cancel: function(id) {\n      var file = false;\n      if (typeof id !== \"undefined\") {\n        file = this.findById(id);\n\n        if (!file) {\n          // File not found in stack\n          $.error(\"File not found in jQuery.dmUploader\");\n\n          return false;\n        }\n      }\n\n      if (file) {\n        return file.cancel(true);\n      }\n\n      // With no id provided...\n      \n      this.cancelAll();\n\n      return true;\n    },\n    reset: function() {\n\n      this.cancelAll();\n\n      this.queue = [];\n      this.queuePos = -1;\n      this.activeFiles = 0;\n\n      return true;\n    },\n    destroy: function() {\n      this.cancelAll();\n\n      this.releaseEvents();\n\n      this.element.removeData(pluginName);\n    }\n  };\n\n  $.fn.dmUploader = function(options) {\n    var args = arguments;\n\n    if (typeof options === \"string\") {\n      this.each(function() {\n        var plugin = $.data(this, pluginName);\n\n        if (plugin instanceof DmUploader) {\n          if (typeof plugin.methods[options] === \"function\") {\n            plugin.methods[options].apply(plugin, Array.prototype.slice.call(args, 1));\n          } else {\n            $.error(\"Method \" +  options + \" does not exist in jQuery.dmUploader\");\n          }\n        } else {\n          $.error(\"Unknown plugin data found by jQuery.dmUploader\");\n        }\n      });\n    } else {\n      return this.each(function () {\n        if (!$.data(this, pluginName)) {\n          $.data(this, pluginName, new DmUploader(this, options));\n        }\n      });\n    }\n  };\n}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvLnBucG0vZG0tZmlsZS11cGxvYWRlckAxLjAuMi9ub2RlX21vZHVsZXMvZG0tZmlsZS11cGxvYWRlci9zcmMvanMvanF1ZXJ5LmRtLXVwbG9hZGVyLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxNQUFNLElBQTBDO0FBQ2hEO0FBQ0EsSUFBSSxpQ0FBTyxDQUFDLDJDQUFRLENBQUMsb0NBQUUsT0FBTztBQUFBO0FBQUE7QUFBQSxrR0FBQztBQUMvQixJQUFJLEtBQUssRUFLTjtBQUNILENBQUM7QUFDRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEIsNEJBQTRCO0FBQzVCLGlDQUFpQztBQUNqQywyQkFBMkI7QUFDM0IsZ0NBQWdDO0FBQ2hDLGtDQUFrQztBQUNsQyxpQ0FBaUM7QUFDakMsa0NBQWtDO0FBQ2xDLCtCQUErQjtBQUMvQixrQ0FBa0M7QUFDbEMsaUNBQWlDO0FBQ2pDLGlDQUFpQztBQUNqQyxnQ0FBZ0M7QUFDaEMsNkJBQTZCO0FBQzdCLDZCQUE2QjtBQUM3QixxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVCQUF1QjtBQUMvQyxnQ0FBZ0MsdUJBQXVCO0FBQ3ZELDZDQUE2QyxvQ0FBb0M7QUFDakYsNkJBQTZCLG9CQUFvQjtBQUNqRCxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7O0FBRS9CO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EsNkJBQTZCOztBQUU3QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLGtCQUFrQjtBQUNyQztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLHVCQUF1QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0IsdUJBQXVCO0FBQzNDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLHNCQUFzQix1QkFBdUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VucHJpc2UtZnJvbnRlbmQtdG9vbC8uL25vZGVfbW9kdWxlcy8ucG5wbS9kbS1maWxlLXVwbG9hZGVyQDEuMC4yL25vZGVfbW9kdWxlcy9kbS1maWxlLXVwbG9hZGVyL3NyYy9qcy9qcXVlcnkuZG0tdXBsb2FkZXIuanM/ZjRhMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogZG1VcGxvYWRlciAtIGpRdWVyeSBBamF4IEZpbGUgVXBsb2FkZXIgV2lkZ2V0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vZGFuaWVsbS91cGxvYWRlclxuICpcbiAqIENvcHlyaWdodCBEYW5pZWwgTW9yYWxlcyA8ZGFuaWVsODVtZ0BnbWFpbC5jb20+XG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZGFuaWVsbS91cGxvYWRlci9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dFxuICpcbiAqIEBwcmVzZXJ2ZVxuICovXG5cbi8qIGdsb2JhbCBkZWZpbmUsIGRlZmluZSwgd2luZG93LCBkb2N1bWVudCwgRm9ybURhdGEgKi9cblxuKGZ1bmN0aW9uKGZhY3RvcnkpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICBkZWZpbmUoW1wianF1ZXJ5XCJdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwianF1ZXJ5XCIpKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICBmYWN0b3J5KHdpbmRvdy5qUXVlcnkpO1xuICB9XG59KGZ1bmN0aW9uKCQpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIHBsdWdpbk5hbWUgPSBcImRtVXBsb2FkZXJcIjtcblxuICB2YXIgRmlsZVN0YXR1cyA9IHtcbiAgICBQRU5ESU5HOiAwLFxuICAgIFVQTE9BRElORzogMSxcbiAgICBDT01QTEVURUQ6IDIsXG4gICAgRkFJTEVEOiAzLFxuICAgIENBTkNFTExFRDogNCAvLyhieSB0aGUgdXNlcilcbiAgfTtcblxuICAvLyBUaGVzZSBhcmUgdGhlIHBsdWdpbiBkZWZhdWx0cyB2YWx1ZXNcbiAgdmFyIGRlZmF1bHRzID0ge1xuICAgIGF1dG86IHRydWUsXG4gICAgcXVldWU6IHRydWUsXG4gICAgZG5kOiB0cnVlLFxuICAgIGhvb2tEb2N1bWVudDogdHJ1ZSxcbiAgICBtdWx0aXBsZTogdHJ1ZSxcbiAgICB1cmw6IGRvY3VtZW50LlVSTCxcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIGV4dHJhRGF0YToge30sXG4gICAgaGVhZGVyczoge30sXG4gICAgZGF0YVR5cGU6IG51bGwsXG4gICAgZmllbGROYW1lOiBcImZpbGVcIixcbiAgICBtYXhGaWxlU2l6ZTogMCxcbiAgICBhbGxvd2VkVHlwZXM6IFwiKlwiLFxuICAgIGV4dEZpbHRlcjogbnVsbCxcbiAgICBvbkluaXQ6IGZ1bmN0aW9uKCl7fSxcbiAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbigpe30sXG4gICAgb25GYWxsYmFja01vZGU6IGZ1bmN0aW9uKCkge30sXG4gICAgb25OZXdGaWxlOiBmdW5jdGlvbigpe30sICAgICAgICAvL3BhcmFtczogaWQsIGZpbGVcbiAgICBvbkJlZm9yZVVwbG9hZDogZnVuY3Rpb24oKXt9LCAgIC8vcGFyYW1zOiBpZFxuICAgIG9uVXBsb2FkUHJvZ3Jlc3M6IGZ1bmN0aW9uKCl7fSwgLy9wYXJhbXM6IGlkLCBwZXJjZW50XG4gICAgb25VcGxvYWRTdWNjZXNzOiBmdW5jdGlvbigpe30sICAvL3BhcmFtczogaWQsIGRhdGFcbiAgICBvblVwbG9hZENhbmNlbGVkOiBmdW5jdGlvbigpe30sIC8vcGFyYW1zOiBpZFxuICAgIG9uVXBsb2FkRXJyb3I6IGZ1bmN0aW9uKCl7fSwgICAgLy9wYXJhbXM6IGlkLCB4aHIsIHN0YXR1cywgbWVzc2FnZVxuICAgIG9uVXBsb2FkQ29tcGxldGU6IGZ1bmN0aW9uKCl7fSwgLy9wYXJhbXM6IGlkXG4gICAgb25GaWxlVHlwZUVycm9yOiBmdW5jdGlvbigpe30sICAvL3BhcmFtczogZmlsZVxuICAgIG9uRmlsZVNpemVFcnJvcjogZnVuY3Rpb24oKXt9LCAgLy9wYXJhbXM6IGZpbGVcbiAgICBvbkZpbGVFeHRFcnJvcjogZnVuY3Rpb24oKXt9LCAgIC8vcGFyYW1zOiBmaWxlXG4gICAgb25EcmFnRW50ZXI6IGZ1bmN0aW9uKCl7fSxcbiAgICBvbkRyYWdMZWF2ZTogZnVuY3Rpb24oKXt9LFxuICAgIG9uRG9jdW1lbnREcmFnRW50ZXI6IGZ1bmN0aW9uKCl7fSxcbiAgICBvbkRvY3VtZW50RHJhZ0xlYXZlOiBmdW5jdGlvbigpe31cbiAgfTtcbiAgXG4gIHZhciBEbVVwbG9hZGVyRmlsZSA9IGZ1bmN0aW9uKGZpbGUsIHdpZGdldClcbiAge1xuICAgIHRoaXMuZGF0YSA9IGZpbGU7XG5cbiAgICB0aGlzLndpZGdldCA9IHdpZGdldDtcblxuICAgIHRoaXMuanFYSFIgPSBudWxsO1xuXG4gICAgdGhpcy5zdGF0dXMgPSBGaWxlU3RhdHVzLlBFTkRJTkc7XG5cbiAgICAvLyBUaGUgZmlsZSBpZCBkb2VzbnQgaGF2ZSB0byBibyB0aGF0IHNwZWNpYWwuLi4uIG9yIG5vdD9cbiAgICB0aGlzLmlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIpO1xuICB9O1xuXG4gIERtVXBsb2FkZXJGaWxlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbigpXG4gIHtcbiAgICB2YXIgZmlsZSA9IHRoaXM7XG5cbiAgICBpZiAoIWZpbGUuY2FuVXBsb2FkKCkpIHtcblxuICAgICAgaWYgKGZpbGUud2lkZ2V0LnF1ZXVlUnVubmluZyAmJiBmaWxlLnN0YXR1cyAhPT0gRmlsZVN0YXR1cy5VUExPQURJTkcpIHtcbiAgICAgICAgZmlsZS53aWRnZXQucHJvY2Vzc1F1ZXVlKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBGb3JtIERhdGFcbiAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcbiAgICBmZC5hcHBlbmQoZmlsZS53aWRnZXQuc2V0dGluZ3MuZmllbGROYW1lLCBmaWxlLmRhdGEpO1xuXG4gICAgLy8gQXBwZW5kIGV4dHJhIEZvcm0gRGF0YVxuICAgIHZhciBjdXN0b21EYXRhID0gZmlsZS53aWRnZXQuc2V0dGluZ3MuZXh0cmFEYXRhO1xuICAgIGlmICh0eXBlb2YoY3VzdG9tRGF0YSkgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgY3VzdG9tRGF0YSA9IGN1c3RvbURhdGEuY2FsbChmaWxlLndpZGdldC5lbGVtZW50LCBmaWxlLmlkKTtcbiAgICB9XG5cbiAgICAkLmVhY2goY3VzdG9tRGF0YSwgZnVuY3Rpb24oZXhLZXksIGV4VmFsKSB7XG4gICAgICBmZC5hcHBlbmQoZXhLZXksIGV4VmFsKTtcbiAgICB9KTtcblxuICAgIGZpbGUuc3RhdHVzID0gRmlsZVN0YXR1cy5VUExPQURJTkc7XG4gICAgZmlsZS53aWRnZXQuYWN0aXZlRmlsZXMrKztcblxuICAgIGZpbGUud2lkZ2V0LnNldHRpbmdzLm9uQmVmb3JlVXBsb2FkLmNhbGwoZmlsZS53aWRnZXQuZWxlbWVudCwgZmlsZS5pZCk7XG5cbiAgICAvLyBBamF4IFN1Ym1pdFxuICAgIGZpbGUuanFYSFIgPSAkLmFqYXgoe1xuICAgICAgdXJsOiBmaWxlLndpZGdldC5zZXR0aW5ncy51cmwsXG4gICAgICB0eXBlOiBmaWxlLndpZGdldC5zZXR0aW5ncy5tZXRob2QsXG4gICAgICBkYXRhVHlwZTogZmlsZS53aWRnZXQuc2V0dGluZ3MuZGF0YVR5cGUsXG4gICAgICBkYXRhOiBmZCxcbiAgICAgIGhlYWRlcnM6IGZpbGUud2lkZ2V0LnNldHRpbmdzLmhlYWRlcnMsXG4gICAgICBjYWNoZTogZmFsc2UsXG4gICAgICBjb250ZW50VHlwZTogZmFsc2UsXG4gICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXG4gICAgICBmb3JjZVN5bmM6IGZhbHNlLFxuICAgICAgeGhyOiBmdW5jdGlvbigpIHsgcmV0dXJuIGZpbGUuZ2V0WGhyKCk7IH0sXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7IGZpbGUub25TdWNjZXNzKGRhdGEpOyB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnJNc2cpIHsgZmlsZS5vbkVycm9yKHhociwgc3RhdHVzLCBlcnJNc2cpOyB9LFxuICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkgeyBmaWxlLm9uQ29tcGxldGUoKTsgfSxcbiAgICB9KTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIERtVXBsb2FkZXJGaWxlLnByb3RvdHlwZS5vblN1Y2Nlc3MgPSBmdW5jdGlvbihkYXRhKVxuICB7XG4gICAgdGhpcy5zdGF0dXMgPSBGaWxlU3RhdHVzLkNPTVBMRVRFRDtcbiAgICB0aGlzLndpZGdldC5zZXR0aW5ncy5vblVwbG9hZFN1Y2Nlc3MuY2FsbCh0aGlzLndpZGdldC5lbGVtZW50LCB0aGlzLmlkLCBkYXRhKTtcbiAgfTtcblxuICBEbVVwbG9hZGVyRmlsZS5wcm90b3R5cGUub25FcnJvciA9IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnJNc2cpXG4gIHtcbiAgICAvLyBJZiB0aGUgc3RhdHVzIGlzOiBjYW5jZWxsZWQgKGJ5IHRoZSB1c2VyKSBkb24ndCBpbnZva2UgdGhlIGVycm9yIGNhbGxiYWNrXG4gICAgaWYgKHRoaXMuc3RhdHVzICE9PSBGaWxlU3RhdHVzLkNBTkNFTExFRCkge1xuICAgICAgdGhpcy5zdGF0dXMgPSBGaWxlU3RhdHVzLkZBSUxFRDtcbiAgICAgIHRoaXMud2lkZ2V0LnNldHRpbmdzLm9uVXBsb2FkRXJyb3IuY2FsbCh0aGlzLndpZGdldC5lbGVtZW50LCB0aGlzLmlkLCB4aHIsIHN0YXR1cywgZXJyTXNnKTtcbiAgICB9XG4gIH07XG5cbiAgRG1VcGxvYWRlckZpbGUucHJvdG90eXBlLm9uQ29tcGxldGUgPSBmdW5jdGlvbigpXG4gIHtcbiAgICB0aGlzLndpZGdldC5hY3RpdmVGaWxlcy0tO1xuXG4gICAgaWYgKHRoaXMuc3RhdHVzICE9PSBGaWxlU3RhdHVzLkNBTkNFTExFRCkge1xuICAgICAgdGhpcy53aWRnZXQuc2V0dGluZ3Mub25VcGxvYWRDb21wbGV0ZS5jYWxsKHRoaXMud2lkZ2V0LmVsZW1lbnQsIHRoaXMuaWQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLndpZGdldC5xdWV1ZVJ1bm5pbmcpIHtcbiAgICAgIHRoaXMud2lkZ2V0LnByb2Nlc3NRdWV1ZSgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy53aWRnZXQuc2V0dGluZ3MucXVldWUgJiYgdGhpcy53aWRnZXQuYWN0aXZlRmlsZXMgPT09IDApIHtcbiAgICAgIHRoaXMud2lkZ2V0LnNldHRpbmdzLm9uQ29tcGxldGUuY2FsbCh0aGlzLmVsZW1lbnQpO1xuICAgIH1cbiAgfTtcblxuICBEbVVwbG9hZGVyRmlsZS5wcm90b3R5cGUuZ2V0WGhyID0gZnVuY3Rpb24oKVxuICB7XG4gICAgdmFyIGZpbGUgPSB0aGlzO1xuICAgIHZhciB4aHJvYmogPSAkLmFqYXhTZXR0aW5ncy54aHIoKTtcblxuICAgIGlmICh4aHJvYmoudXBsb2FkKSB7XG4gICAgICB4aHJvYmoudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICB2YXIgcGVyY2VudCA9IDA7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IGV2ZW50LmxvYWRlZCB8fCBldmVudC5wb3NpdGlvbjtcbiAgICAgICAgdmFyIHRvdGFsID0gZXZlbnQudG90YWwgfHwgZXZlbnQudG90YWxTaXplO1xuXG4gICAgICAgIGlmIChldmVudC5sZW5ndGhDb21wdXRhYmxlKSB7XG4gICAgICAgICAgcGVyY2VudCA9IE1hdGguY2VpbChwb3NpdGlvbiAvIHRvdGFsICogMTAwKTtcbiAgICAgICAgfVxuICAgICAgICBmaWxlLndpZGdldC5zZXR0aW5ncy5vblVwbG9hZFByb2dyZXNzLmNhbGwoZmlsZS53aWRnZXQuZWxlbWVudCwgZmlsZS5pZCwgcGVyY2VudCk7XG4gICAgICB9LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHhocm9iajtcbiAgfTtcblxuICBEbVVwbG9hZGVyRmlsZS5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24oYWJvcnQpXG4gIHtcbiAgICAvLyBUaGUgYWJvcnQgZmxhZyBpcyB0byB0cmFjayBpZiB3ZSBhcmUgY2FsbGluZyB0aGlzIGZ1bmN0aW9uIGRpcmVjdGx5ICh1c2luZyB0aGUgY2FuY2VsIE1ldGhvZCwgYnkgaWQpXG4gICAgLy8gb3IgdGhlIGNhbGwgY29tZXMgZnJvbSB0aGUgJ2dvYmFsJyBtZXRob2QgYWthIGNhbmNlbEFsbC5cbiAgICAvLyBUSGlzIG1lYW4gdGhhdCB3ZSBkb24ndCB3YW50IHRvIHRyaWdnZXIgdGhlIGNhbmNlbCBldmVudCBvbiBmaWxlIHRoYXQgaXNuJ3QgdXBsb2FkaW5nLCBVTkxFU1MgZGlyZWN0bHkgZG9pbmcgaXRcbiAgICAvLyAuLi4gYW5kIHllcywgaXQgY291bGQgYmUgZG9uZSBwcmV0dGllci4gUmV2aWV3ICg/KVxuICAgIGFib3J0ID0gKHR5cGVvZiBhYm9ydCA9PT0gXCJ1bmRlZmluZWRcIiA/IGZhbHNlIDogYWJvcnQpO1xuXG4gICAgdmFyIG15U3RhdHVzID0gdGhpcy5zdGF0dXM7XG5cbiAgICBpZiAobXlTdGF0dXMgPT09IEZpbGVTdGF0dXMuVVBMT0FESU5HIHx8IChhYm9ydCAmJiBteVN0YXR1cyA9PT0gRmlsZVN0YXR1cy5QRU5ESU5HKSkge1xuICAgICAgdGhpcy5zdGF0dXMgPSBGaWxlU3RhdHVzLkNBTkNFTExFRDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMud2lkZ2V0LnNldHRpbmdzLm9uVXBsb2FkQ2FuY2VsZWQuY2FsbCh0aGlzLndpZGdldC5lbGVtZW50LCB0aGlzLmlkKTtcblxuICAgIGlmIChteVN0YXR1cyA9PT0gRmlsZVN0YXR1cy5VUExPQURJTkcpIHtcbiAgICAgIHRoaXMuanFYSFIuYWJvcnQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICBEbVVwbG9hZGVyRmlsZS5wcm90b3R5cGUuY2FuVXBsb2FkID0gZnVuY3Rpb24oKVxuICB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuc3RhdHVzID09PSBGaWxlU3RhdHVzLlBFTkRJTkcgfHxcbiAgICAgIHRoaXMuc3RhdHVzID09PSBGaWxlU3RhdHVzLkZBSUxFRFxuICAgICk7XG4gIH07XG5cbiAgdmFyIERtVXBsb2FkZXIgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKVxuICB7XG4gICAgdGhpcy5lbGVtZW50ID0gJChlbGVtZW50KTtcbiAgICB0aGlzLnNldHRpbmdzID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgIGlmICghdGhpcy5jaGVja1N1cHBvcnQoKSkge1xuICAgICAgJC5lcnJvcihcIkJyb3dzZXIgbm90IHN1cHBvcnRlZCBieSBqUXVlcnkuZG1VcGxvYWRlclwiKTtcblxuICAgICAgdGhpcy5zZXR0aW5ncy5vbkZhbGxiYWNrTW9kZS5jYWxsKHRoaXMuZWxlbWVudCk7XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLmluaXQoKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIERtVXBsb2FkZXIucHJvdG90eXBlLmNoZWNrU3VwcG9ydCA9IGZ1bmN0aW9uKClcbiAge1xuICAgIC8vIFRoaXMgb25lIGlzIG1hbmRhdG9yeSBmb3IgYWxsIG1vZGVzXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cuRm9ybURhdGEgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBUZXN0IGJhc2VkIG9uOiBNb2Rlcm5penIvZmVhdHVyZS1kZXRlY3RzL2Zvcm1zL2ZpbGVpbnB1dC5qc1xuICAgIHZhciBleHAgPSBuZXcgUmVnRXhwKFxuICAgICAgXCIvKEFuZHJvaWQgKDEuMHwxLjF8MS41fDEuNnwyLjB8Mi4xKSl8XCIrXG4gICAgICBcIihXaW5kb3dzIFBob25lIChPUyA3fDguMCkpfChYQkxXUCl8XCIrXG4gICAgICBcIihadW5lV1ApfCh3KGViKT9PU0Jyb3dzZXIpfCh3ZWJPUyl8XCIrXG4gICAgICBcIihLaW5kbGVcXC8oMS4wfDIuMHwyLjV8My4wKSkvXCIpO1xuXG4gICAgaWYgKGV4cC50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAhJChcIjxpbnB1dCB0eXBlPVxcXCJmaWxlXFxcIiAvPlwiKS5wcm9wKFwiZGlzYWJsZWRcIik7XG4gIH07XG5cbiAgRG1VcGxvYWRlci5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKClcbiAge1xuICAgIHZhciB3aWRnZXQgPSB0aGlzO1xuXG4gICAgLy8gUXVldWUgdmFyc1xuICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICB0aGlzLnF1ZXVlUG9zID0gLTE7XG4gICAgdGhpcy5xdWV1ZVJ1bm5pbmcgPSBmYWxzZTtcbiAgICB0aGlzLmFjdGl2ZUZpbGVzID0gMDtcbiAgICB0aGlzLmRyYWdnaW5nT3ZlciA9IDA7XG4gICAgdGhpcy5kcmFnZ2luZ092ZXJEb2MgPSAwO1xuXG4gICAgdmFyIGlucHV0ID0gd2lkZ2V0LmVsZW1lbnQuaXMoXCJpbnB1dFt0eXBlPWZpbGVdXCIpID9cbiAgICAgIHdpZGdldC5lbGVtZW50IDogd2lkZ2V0LmVsZW1lbnQuZmluZChcImlucHV0W3R5cGU9ZmlsZV1cIik7XG5cbiAgICAvLy0tIElzIHRoZSBpbnB1dCBvdXIgbWFpbiBlbGVtZW50IGl0c2VsZj8/XG4gICAgaWYgKGlucHV0Lmxlbmd0aCA+IDApIHtcbiAgICAgIGlucHV0LnByb3AoXCJtdWx0aXBsZVwiLCB0aGlzLnNldHRpbmdzLm11bHRpcGxlKTtcblxuICAgICAgLy8gT3IgZG9lcyBpdCBoYXMgdGhlIGlucHV0IGFzIGEgY2hpbGRcbiAgICAgIGlucHV0Lm9uKFwiY2hhbmdlLlwiICsgcGx1Z2luTmFtZSwgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIHZhciBmaWxlcyA9IGV2dC50YXJnZXQgJiYgZXZ0LnRhcmdldC5maWxlcztcblxuICAgICAgICBpZiAoIWZpbGVzIHx8ICFmaWxlcy5sZW5ndGgpe1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHdpZGdldC5hZGRGaWxlcyhmaWxlcyk7XG5cbiAgICAgICAgJCh0aGlzKS52YWwoXCJcIik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zZXR0aW5ncy5kbmQpIHtcbiAgICAgIHRoaXMuaW5pdERuRCgpO1xuICAgIH1cblxuICAgIGlmIChpbnB1dC5sZW5ndGggPT09IDAgJiYgIXRoaXMuc2V0dGluZ3MuZG5kKSB7XG4gICAgICAvLyBUcmlnZ2VyIGFuIGVycm9yIGJlY2F1c2UgaWYgdGhpcyBoYXBwZW5zIHRoZSBwbHVnaW4gd29udCBkbyBhbnl0aGluZy5cbiAgICAgICQuZXJyb3IoXCJNYXJrdXAgZXJyb3IgZm91bmQgYnkgalF1ZXJ5LmRtVXBsb2FkZXJcIik7XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIFdlIGdvb2QgdG8gZ28sIHRlbGwgdGhlbSFcbiAgICB0aGlzLnNldHRpbmdzLm9uSW5pdC5jYWxsKHRoaXMuZWxlbWVudCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBEbVVwbG9hZGVyLnByb3RvdHlwZS5pbml0RG5EID0gZnVuY3Rpb24oKVxuICB7XG4gICAgdmFyIHdpZGdldCA9IHRoaXM7XG5cbiAgICAvLyAtLSBOb3cgb3VyIG93biBEcm9wXG4gICAgd2lkZ2V0LmVsZW1lbnQub24oXCJkcm9wLlwiICsgcGx1Z2luTmFtZSwgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGlmICh3aWRnZXQuZHJhZ2dpbmdPdmVyID4gMCl7XG4gICAgICAgIHdpZGdldC5kcmFnZ2luZ092ZXIgPSAwO1xuICAgICAgICB3aWRnZXQuc2V0dGluZ3Mub25EcmFnTGVhdmUuY2FsbCh3aWRnZXQuZWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkYXRhVHJhbnNmZXIgPSBldnQub3JpZ2luYWxFdmVudCAmJiBldnQub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXI7XG4gICAgICBpZiAoIWRhdGFUcmFuc2ZlciB8fCAhZGF0YVRyYW5zZmVyLmZpbGVzIHx8ICFkYXRhVHJhbnNmZXIuZmlsZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVGFrZSBvbmx5IHRoZSBmaXJzdCBmaWxlIGlmIG5vdCBhY2VwdGluZyBtdWx0aXBsZSwgdGhpcyBpcyBraW5kYSB1Z2x5LiBOZWVkcyBSZXZpZXcgP1xuICAgICAgdmFyIGZpbGVzID0gW107XG5cbiAgICAgIGlmICh3aWRnZXQuc2V0dGluZ3MubXVsdGlwbGUpIHtcbiAgICAgICAgZmlsZXMgPSBkYXRhVHJhbnNmZXIuZmlsZXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmaWxlcy5wdXNoKGRhdGFUcmFuc2Zlci5maWxlc1swXSk7XG4gICAgICB9XG5cbiAgICAgIHdpZGdldC5hZGRGaWxlcyhmaWxlcyk7XG4gICAgfSk7XG5cbiAgICAvLy0tIFRoZXNlIHR3byBldmVudHMvY2FsbGJhY2tzIGFyZSBvbmx0IHRvIG1heWJlIGRvIHNvbWUgZmFuY3kgdmlzdWFsIHN0dWZmXG4gICAgd2lkZ2V0LmVsZW1lbnQub24oXCJkcmFnZW50ZXIuXCIgKyBwbHVnaW5OYW1lLCBmdW5jdGlvbihldnQpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBpZiAod2lkZ2V0LmRyYWdnaW5nT3ZlciA9PT0gMCl7XG4gICAgICAgIHdpZGdldC5zZXR0aW5ncy5vbkRyYWdFbnRlci5jYWxsKHdpZGdldC5lbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgd2lkZ2V0LmRyYWdnaW5nT3ZlcisrO1xuICAgIH0pO1xuXG4gICAgd2lkZ2V0LmVsZW1lbnQub24oXCJkcmFnbGVhdmUuXCIgKyBwbHVnaW5OYW1lLCBmdW5jdGlvbihldnQpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICB3aWRnZXQuZHJhZ2dpbmdPdmVyLS07XG5cbiAgICAgIGlmICh3aWRnZXQuZHJhZ2dpbmdPdmVyID09PSAwKXtcbiAgICAgICAgd2lkZ2V0LnNldHRpbmdzLm9uRHJhZ0xlYXZlLmNhbGwod2lkZ2V0LmVsZW1lbnQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKCF3aWRnZXQuc2V0dGluZ3MuaG9va0RvY3VtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQWRkaW5nIHNvbWUgb2ZmL25hbWVwYWNpbmcgdG8gcHJldmVudCBzb21lIHdlaXJkIGNhc2VzIHdoZW4gcGVvcGxlIHVzZSBtdWx0aXBsZSBpbnN0YW5jZXNcbiAgICAkKGRvY3VtZW50KS5vZmYoXCJkcm9wLlwiICsgcGx1Z2luTmFtZSkub24oXCJkcm9wLlwiICsgcGx1Z2luTmFtZSwgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgaWYgKHdpZGdldC5kcmFnZ2luZ092ZXJEb2MgPiAwKXtcbiAgICAgICAgd2lkZ2V0LmRyYWdnaW5nT3ZlckRvYyA9IDA7XG4gICAgICAgIHdpZGdldC5zZXR0aW5ncy5vbkRvY3VtZW50RHJhZ0xlYXZlLmNhbGwod2lkZ2V0LmVsZW1lbnQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkub2ZmKFwiZHJhZ2VudGVyLlwiICsgcGx1Z2luTmFtZSkub24oXCJkcmFnZW50ZXIuXCIgKyBwbHVnaW5OYW1lLCBmdW5jdGlvbihldnQpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBpZiAod2lkZ2V0LmRyYWdnaW5nT3ZlckRvYyA9PT0gMCl7XG4gICAgICAgIHdpZGdldC5zZXR0aW5ncy5vbkRvY3VtZW50RHJhZ0VudGVyLmNhbGwod2lkZ2V0LmVsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICB3aWRnZXQuZHJhZ2dpbmdPdmVyRG9jKys7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vZmYoXCJkcmFnbGVhdmUuXCIgKyBwbHVnaW5OYW1lKS5vbihcImRyYWdsZWF2ZS5cIiArIHBsdWdpbk5hbWUsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIHdpZGdldC5kcmFnZ2luZ092ZXJEb2MtLTtcblxuICAgICAgaWYgKHdpZGdldC5kcmFnZ2luZ092ZXJEb2MgPT09IDApe1xuICAgICAgICB3aWRnZXQuc2V0dGluZ3Mub25Eb2N1bWVudERyYWdMZWF2ZS5jYWxsKHdpZGdldC5lbGVtZW50KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9mZihcImRyYWdvdmVyLlwiICsgcGx1Z2luTmFtZSkub24oXCJkcmFnb3Zlci5cIiArIHBsdWdpbk5hbWUsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gIH07XG5cbiAgRG1VcGxvYWRlci5wcm90b3R5cGUucmVsZWFzZUV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIExlYXZlIGV2ZXJ5b25lIEFMT05FIDtfO1xuXG4gICAgdGhpcy5lbGVtZW50Lm9mZihcIi5cIiArIHBsdWdpbk5hbWUpO1xuICAgIHRoaXMuZWxlbWVudC5maW5kKFwiaW5wdXRbdHlwZT1maWxlXVwiKS5vZmYoXCIuXCIgKyBwbHVnaW5OYW1lKTtcblxuICAgIGlmICh0aGlzLnNldHRpbmdzLmhvb2tEb2N1bWVudCkge1xuICAgICAgJChkb2N1bWVudCkub2ZmKFwiLlwiICsgcGx1Z2luTmFtZSk7XG4gICAgfVxuICB9O1xuXG4gIERtVXBsb2FkZXIucHJvdG90eXBlLnZhbGlkYXRlRmlsZSA9IGZ1bmN0aW9uKGZpbGUpXG4gIHtcbiAgICAvLyBDaGVjayBmaWxlIHNpemVcbiAgICBpZiAoKHRoaXMuc2V0dGluZ3MubWF4RmlsZVNpemUgPiAwKSAmJlxuICAgICAgICAoZmlsZS5zaXplID4gdGhpcy5zZXR0aW5ncy5tYXhGaWxlU2l6ZSkpIHtcblxuICAgICAgdGhpcy5zZXR0aW5ncy5vbkZpbGVTaXplRXJyb3IuY2FsbCh0aGlzLmVsZW1lbnQsIGZpbGUpO1xuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZmlsZSB0eXBlXG4gICAgaWYgKCh0aGlzLnNldHRpbmdzLmFsbG93ZWRUeXBlcyAhPT0gXCIqXCIpICYmXG4gICAgICAgICFmaWxlLnR5cGUubWF0Y2godGhpcy5zZXR0aW5ncy5hbGxvd2VkVHlwZXMpKXtcblxuICAgICAgdGhpcy5zZXR0aW5ncy5vbkZpbGVUeXBlRXJyb3IuY2FsbCh0aGlzLmVsZW1lbnQsIGZpbGUpO1xuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZmlsZSBleHRlbnNpb25cbiAgICBpZiAodGhpcy5zZXR0aW5ncy5leHRGaWx0ZXIgIT09IG51bGwpIHtcbiAgICAgIHZhciBleHQgPSBmaWxlLm5hbWUudG9Mb3dlckNhc2UoKS5zcGxpdChcIi5cIikucG9wKCk7XG5cbiAgICAgIGlmICgkLmluQXJyYXkoZXh0LCB0aGlzLnNldHRpbmdzLmV4dEZpbHRlcikgPCAwKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Mub25GaWxlRXh0RXJyb3IuY2FsbCh0aGlzLmVsZW1lbnQsIGZpbGUpO1xuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IERtVXBsb2FkZXJGaWxlKGZpbGUsIHRoaXMpO1xuICB9O1xuXG4gIERtVXBsb2FkZXIucHJvdG90eXBlLmFkZEZpbGVzID0gZnVuY3Rpb24oZmlsZXMpXG4gIHtcbiAgICB2YXIgbkZpbGVzID0gMDtcblxuICAgIGZvciAodmFyIGk9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICB2YXIgZmlsZSA9IHRoaXMudmFsaWRhdGVGaWxlKGZpbGVzW2ldKTtcblxuICAgICAgaWYgKCFmaWxlKXtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBjYWxsYmFjayByZXR1cm5zIGZhbHNlIGZpbGUgd2lsbCBub3QgYmUgcHJvY2Vzc2VkLiBUaGlzIG1heSBhbGxvdyBzb21lIGN1c3RvbWl6YXRpb25cbiAgICAgIHZhciBjYW5fY29udGludWUgPSB0aGlzLnNldHRpbmdzLm9uTmV3RmlsZS5jYWxsKHRoaXMuZWxlbWVudCwgZmlsZS5pZCwgZmlsZS5kYXRhKTtcbiAgICAgIGlmIChjYW5fY29udGludWUgPT09IGZhbHNlKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB3ZSBhcmUgdXNpbmcgYXV0b21hdGljIHVwbG9hZGluZywgYW5kIG5vdCBhIGZpbGUgcXVldWU6IGdvIGZvciB0aGUgdXBsb2FkXG4gICAgICBpZiAodGhpcy5zZXR0aW5ncy5hdXRvICYmICF0aGlzLnNldHRpbmdzLnF1ZXVlKSB7XG4gICAgICAgIGZpbGUudXBsb2FkKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucXVldWUucHVzaChmaWxlKTtcbiAgICAgIFxuICAgICAgbkZpbGVzKys7XG4gICAgfVxuXG4gICAgLy8gTm8gZmlsZXMgd2VyZSBhZGRlZFxuICAgIGlmIChuRmlsZXMgPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFyZSB3ZSBhdXRvLXVwbG9hZGluZyBmaWxlcz9cbiAgICBpZiAodGhpcy5zZXR0aW5ncy5hdXRvICYmIHRoaXMuc2V0dGluZ3MucXVldWUgJiYgIXRoaXMucXVldWVSdW5uaW5nKSB7XG4gICAgICB0aGlzLnByb2Nlc3NRdWV1ZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIERtVXBsb2FkZXIucHJvdG90eXBlLnByb2Nlc3NRdWV1ZSA9IGZ1bmN0aW9uKClcbiAge1xuICAgIHRoaXMucXVldWVQb3MrKztcblxuICAgIGlmICh0aGlzLnF1ZXVlUG9zID49IHRoaXMucXVldWUubGVuZ3RoKSB7XG4gICAgICBpZiAodGhpcy5hY3RpdmVGaWxlcyA9PT0gMCkge1xuICAgICAgICB0aGlzLnNldHRpbmdzLm9uQ29tcGxldGUuY2FsbCh0aGlzLmVsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICAvLyBXYWl0IHVudGlsIG5ldyBmaWxlcyBhcmUgZHJvcGVkXG4gICAgICB0aGlzLnF1ZXVlUG9zID0gKHRoaXMucXVldWUubGVuZ3RoIC0gMSk7XG5cbiAgICAgIHRoaXMucXVldWVSdW5uaW5nID0gZmFsc2U7XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLnF1ZXVlUnVubmluZyA9IHRydWU7XG5cbiAgICAvLyBTdGFydCBuZXh0IGZpbGVcbiAgICByZXR1cm4gdGhpcy5xdWV1ZVt0aGlzLnF1ZXVlUG9zXS51cGxvYWQoKTtcbiAgfTtcblxuICBEbVVwbG9hZGVyLnByb3RvdHlwZS5yZXN0YXJ0UXVldWUgPSBmdW5jdGlvbigpXG4gIHtcbiAgICB0aGlzLnF1ZXVlUG9zID0gLTE7XG4gICAgdGhpcy5xdWV1ZVJ1bm5pbmcgPSBmYWxzZTtcblxuICAgIHRoaXMucHJvY2Vzc1F1ZXVlKCk7XG4gIH07XG5cbiAgRG1VcGxvYWRlci5wcm90b3R5cGUuZmluZEJ5SWQgPSBmdW5jdGlvbihpZClcbiAge1xuICAgIHZhciByID0gZmFsc2U7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLnF1ZXVlW2ldLmlkID09PSBpZCkge1xuICAgICAgICByID0gdGhpcy5xdWV1ZVtpXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHI7XG4gIH07XG5cbiAgRG1VcGxvYWRlci5wcm90b3R5cGUuY2FuY2VsQWxsID0gIGZ1bmN0aW9uKClcbiAge1xuICAgIHZhciBxdWV1ZVdhc1J1bm5pbmcgPSB0aGlzLnF1ZXVlUnVubmluZztcbiAgICB0aGlzLnF1ZXVlUnVubmluZyA9IGZhbHNlO1xuXG4gICAgLy8gY2FuY2VsICdlbSBhbGxcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMucXVldWVbaV0uY2FuY2VsKCk7XG4gICAgfVxuXG4gICAgaWYgKHF1ZXVlV2FzUnVubmluZykge1xuICAgICAgdGhpcy5zZXR0aW5ncy5vbkNvbXBsZXRlLmNhbGwodGhpcy5lbGVtZW50KTtcbiAgICB9XG4gIH07XG5cbiAgRG1VcGxvYWRlci5wcm90b3R5cGUuc3RhcnRBbGwgPSBmdW5jdGlvbigpXG4gIHtcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5xdWV1ZSkge1xuICAgICAgLy8gUmVzdW1lIHF1ZXVlXG4gICAgICB0aGlzLnJlc3RhcnRRdWV1ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBvciB1cGxvYWQgdGhlbSBhbGxcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5xdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnF1ZXVlW2ldLnVwbG9hZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBQdWJsaWMgQVBJIG1ldGhvZHNcbiAgRG1VcGxvYWRlci5wcm90b3R5cGUubWV0aG9kcyA9IHtcbiAgICBzdGFydDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIGlmICh0aGlzLnF1ZXVlUnVubmluZyl7XG4gICAgICAgIC8vIERvIG5vdCBhbGxvdyB0byBtYW51YWxseSB1cGxvYWQgRmlsZXMgd2hlbiBhIHF1ZXVlIGlzIHJ1bm5pbmdcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2YXIgZmlsZSA9IGZhbHNlO1xuXG4gICAgICBpZiAodHlwZW9mIGlkICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGZpbGUgPSB0aGlzLmZpbmRCeUlkKGlkKTtcblxuICAgICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgICAvLyBGaWxlIG5vdCBmb3VuZCBpbiBzdGFja1xuICAgICAgICAgICQuZXJyb3IoXCJGaWxlIG5vdCBmb3VuZCBpbiBqUXVlcnkuZG1VcGxvYWRlclwiKTtcblxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBUcnlpbmcgdG8gU3RhcnQgYW4gdXBsb2FkIGJ5IElEXG4gICAgICBpZiAoZmlsZSkge1xuICAgICAgICBpZiAoZmlsZS5zdGF0dXMgPT09IEZpbGVTdGF0dXMuQ0FOQ0VMTEVEKSB7XG4gICAgICAgICAgZmlsZS5zdGF0dXMgPSBGaWxlU3RhdHVzLlBFTkRJTkc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZpbGUudXBsb2FkKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdpdGggbm8gaWQgcHJvdmlkZWQuLi5cblxuICAgICAgdGhpcy5zdGFydEFsbCgpO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGNhbmNlbDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBmaWxlID0gZmFsc2U7XG4gICAgICBpZiAodHlwZW9mIGlkICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGZpbGUgPSB0aGlzLmZpbmRCeUlkKGlkKTtcblxuICAgICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgICAvLyBGaWxlIG5vdCBmb3VuZCBpbiBzdGFja1xuICAgICAgICAgICQuZXJyb3IoXCJGaWxlIG5vdCBmb3VuZCBpbiBqUXVlcnkuZG1VcGxvYWRlclwiKTtcblxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmlsZSkge1xuICAgICAgICByZXR1cm4gZmlsZS5jYW5jZWwodHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdpdGggbm8gaWQgcHJvdmlkZWQuLi5cbiAgICAgIFxuICAgICAgdGhpcy5jYW5jZWxBbGwoKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICByZXNldDogZnVuY3Rpb24oKSB7XG5cbiAgICAgIHRoaXMuY2FuY2VsQWxsKCk7XG5cbiAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICAgIHRoaXMucXVldWVQb3MgPSAtMTtcbiAgICAgIHRoaXMuYWN0aXZlRmlsZXMgPSAwO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5jYW5jZWxBbGwoKTtcblxuICAgICAgdGhpcy5yZWxlYXNlRXZlbnRzKCk7XG5cbiAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVEYXRhKHBsdWdpbk5hbWUpO1xuICAgIH1cbiAgfTtcblxuICAkLmZuLmRtVXBsb2FkZXIgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHBsdWdpbiA9ICQuZGF0YSh0aGlzLCBwbHVnaW5OYW1lKTtcblxuICAgICAgICBpZiAocGx1Z2luIGluc3RhbmNlb2YgRG1VcGxvYWRlcikge1xuICAgICAgICAgIGlmICh0eXBlb2YgcGx1Z2luLm1ldGhvZHNbb3B0aW9uc10gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgcGx1Z2luLm1ldGhvZHNbb3B0aW9uc10uYXBwbHkocGx1Z2luLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzLCAxKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQuZXJyb3IoXCJNZXRob2QgXCIgKyAgb3B0aW9ucyArIFwiIGRvZXMgbm90IGV4aXN0IGluIGpRdWVyeS5kbVVwbG9hZGVyXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkLmVycm9yKFwiVW5rbm93biBwbHVnaW4gZGF0YSBmb3VuZCBieSBqUXVlcnkuZG1VcGxvYWRlclwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoISQuZGF0YSh0aGlzLCBwbHVnaW5OYW1lKSkge1xuICAgICAgICAgICQuZGF0YSh0aGlzLCBwbHVnaW5OYW1lLCBuZXcgRG1VcGxvYWRlcih0aGlzLCBvcHRpb25zKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/.pnpm/dm-file-uploader@1.0.2/node_modules/dm-file-uploader/src/js/jquery.dm-uploader.js\n");

/***/ }),

/***/ "jquery":
/*!*************************!*\
  !*** external "jQuery" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = jQuery;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./assets/scripts/modules/ajax-uploader.js");
/******/ 	
/******/ })()
;