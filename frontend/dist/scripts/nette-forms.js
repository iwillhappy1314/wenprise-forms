/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./assets/scripts/modules/nette-forms.js":
/*!***********************************************!*\
  !*** ./assets/scripts/modules/nette-forms.js ***!
  \***********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("/* provided dependency */ var jQuery = __webpack_require__(/*! jquery */ \"jquery\");\nvar __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n/**\n * NetteForms - simple form validation.\n *\n * This file is part of the Nette Framework (https://nette.org)\n * Copyright (c) 2004 David Grudl (https://davidgrudl.com)\n */\n\n(function (global, factory) {\n  if (!global.JSON) {\n    return;\n  }\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n      return factory(global);\n    }).call(exports, __webpack_require__, exports, module),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else { var init; }\n})(typeof window !== 'undefined' ? window : this, function (window) {\n  'use strict';\n\n  var Nette = {};\n  Nette.formErrors = [];\n  Nette.version = '2.4';\n\n  /**\n   * Attaches a handler to an event for the element.\n   */\n  Nette.addEvent = function (element, on, callback) {\n    if (element.addEventListener) {\n      element.addEventListener(on, callback);\n    } else if (on === 'DOMContentLoaded') {\n      element.attachEvent('onreadystatechange', function () {\n        if (element.readyState === 'complete') {\n          callback.call(this);\n        }\n      });\n    } else {\n      element.attachEvent('on' + on, getHandler(callback));\n    }\n  };\n  function getHandler(callback) {\n    return function (e) {\n      return callback.call(this, e);\n    };\n  }\n\n  /**\n   * Returns the value of form element.\n   */\n  Nette.getValue = function (elem) {\n    var i;\n    if (!elem) {\n      return null;\n    } else if (!elem.tagName) {\n      // RadioNodeList, HTMLCollection, array\n      return elem[0] ? Nette.getValue(elem[0]) : null;\n    } else if (elem.type === 'radio') {\n      var elements = elem.form.elements; // prevents problem with name 'item' or 'namedItem'\n      for (i = 0; i < elements.length; i++) {\n        if (elements[i].name === elem.name && elements[i].checked) {\n          return elements[i].value;\n        }\n      }\n      return null;\n    } else if (elem.type === 'file') {\n      return elem.files || elem.value;\n    } else if (elem.tagName.toLowerCase() === 'select') {\n      var index = elem.selectedIndex,\n        options = elem.options,\n        values = [];\n      if (elem.type === 'select-one') {\n        return index < 0 ? null : options[index].value;\n      }\n      for (i = 0; i < options.length; i++) {\n        if (options[i].selected) {\n          values.push(options[i].value);\n        }\n      }\n      return values;\n    } else if (elem.name && elem.name.match(/\\[\\]$/)) {\n      // multiple elements []\n      var elements = elem.form.elements[elem.name].tagName ? [elem] : elem.form.elements[elem.name],\n        values = [];\n      for (i = 0; i < elements.length; i++) {\n        if (elements[i].type !== 'checkbox' || elements[i].checked) {\n          values.push(elements[i].value);\n        }\n      }\n      return values;\n    } else if (elem.type === 'checkbox') {\n      return elem.checked;\n    } else if (elem.tagName.toLowerCase() === 'textarea') {\n      return elem.value.replace('\\r', '');\n    } else {\n      return elem.value.replace('\\r', '').replace(/^\\s+|\\s+$/g, '');\n    }\n  };\n\n  /**\n   * Returns the effective value of form element.\n   */\n  Nette.getEffectiveValue = function (elem) {\n    var val = Nette.getValue(elem);\n    if (elem.getAttribute) {\n      if (val === elem.getAttribute('data-nette-empty-value')) {\n        val = '';\n      }\n    }\n    return val;\n  };\n\n  /**\n   * Validates form element against given rules.\n   */\n  Nette.validateControl = function (elem, rules, onlyCheck, value, emptyOptional) {\n    elem = elem.tagName ? elem : elem[0]; // RadioNodeList\n    rules = rules || Nette.parseJSON(elem.getAttribute('data-nette-rules'));\n    value = value === undefined ? {\n      value: Nette.getEffectiveValue(elem)\n    } : value;\n    for (var id = 0, len = rules.length; id < len; id++) {\n      var rule = rules[id],\n        op = rule.op.match(/(~)?([^?]+)/),\n        curElem = rule.control ? elem.form.elements.namedItem(rule.control) : elem;\n      rule.neg = op[1];\n      rule.op = op[2];\n      rule.condition = !!rule.rules;\n      if (!curElem) {\n        continue;\n      } else if (rule.op === 'optional') {\n        emptyOptional = !Nette.validateRule(elem, ':filled', null, value);\n        continue;\n      } else if (emptyOptional && !rule.condition && rule.op !== ':filled') {\n        continue;\n      }\n      curElem = curElem.tagName ? curElem : curElem[0]; // RadioNodeList\n      var curValue = elem === curElem ? value : {\n          value: Nette.getEffectiveValue(curElem)\n        },\n        success = Nette.validateRule(curElem, rule.op, rule.arg, curValue);\n      if (success === null) {\n        continue;\n      } else if (rule.neg) {\n        success = !success;\n      }\n      if (rule.condition && success) {\n        if (!Nette.validateControl(elem, rule.rules, onlyCheck, value, rule.op === ':blank' ? false : emptyOptional)) {\n          return false;\n        }\n      } else if (!rule.condition && !success) {\n        if (Nette.isDisabled(curElem)) {\n          continue;\n        }\n        if (!onlyCheck) {\n          var arr = Nette.isArray(rule.arg) ? rule.arg : [rule.arg],\n            message = rule.msg.replace(/%(value|\\d+)/g, function (foo, m) {\n              return Nette.getValue(m === 'value' ? curElem : elem.form.elements.namedItem(arr[m].control));\n            });\n          Nette.addError(curElem, message);\n        }\n        return false;\n      }\n    }\n    if (elem.type === 'number' && !elem.validity.valid) {\n      if (!onlyCheck) {\n        Nette.addError(elem, 'Please enter a valid value.');\n      }\n      return false;\n    }\n    return true;\n  };\n\n  /**\n   * Validates whole form.\n   */\n  Nette.validateForm = function (sender, onlyCheck) {\n    var form = sender.form || sender,\n      scope = false;\n    Nette.formErrors = [];\n    if (form['nette-submittedBy'] && form['nette-submittedBy'].getAttribute('formnovalidate') !== null) {\n      var scopeArr = Nette.parseJSON(form['nette-submittedBy'].getAttribute('data-nette-validation-scope'));\n      if (scopeArr.length) {\n        scope = new RegExp('^(' + scopeArr.join('-|') + '-)');\n      } else {\n        Nette.showFormErrors(form, []);\n        return true;\n      }\n    }\n    var radios = {},\n      i,\n      elem;\n    for (i = 0; i < form.elements.length; i++) {\n      elem = form.elements[i];\n      if (elem.tagName && !(elem.tagName.toLowerCase() in {\n        input: 1,\n        select: 1,\n        textarea: 1,\n        button: 1\n      })) {\n        continue;\n      } else if (elem.type === 'radio') {\n        if (radios[elem.name]) {\n          continue;\n        }\n        radios[elem.name] = true;\n      }\n      if (scope && !elem.name.replace(/]\\[|\\[|]|$/g, '-').match(scope) || Nette.isDisabled(elem)) {\n        continue;\n      }\n      if (!Nette.validateControl(elem, null, onlyCheck) && !Nette.formErrors.length) {\n        return false;\n      }\n    }\n    var success = !Nette.formErrors.length;\n    Nette.showFormErrors(form, Nette.formErrors);\n    return success;\n  };\n\n  /**\n   * Check if input is disabled.\n   */\n  Nette.isDisabled = function (elem) {\n    if (elem.type === 'radio') {\n      for (var i = 0, elements = elem.form.elements; i < elements.length; i++) {\n        if (elements[i].name === elem.name && !elements[i].disabled) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return elem.disabled;\n  };\n\n  /**\n   * Adds error message to the queue.\n   */\n  Nette.addError = function (elem, message) {\n    Nette.formErrors.push({\n      element: elem,\n      message: message\n    });\n  };\n\n  /**\n   * Display error messages.\n   */\n  Nette.showFormErrors = function (form, errors) {\n    var messages = [],\n      focusElem;\n    for (var i = 0; i < errors.length; i++) {\n      var elem = errors[i].element,\n        message = errors[i].message;\n      if (!Nette.inArray(messages, message)) {\n        messages.push(message);\n        if (!focusElem && elem.focus) {\n          focusElem = elem;\n        }\n      }\n    }\n    if (messages.length) {\n      alert(messages.join('\\n'));\n      if (focusElem) {\n        focusElem.focus();\n      }\n    }\n  };\n\n  /**\n   * Expand rule argument.\n   */\n  Nette.expandRuleArgument = function (form, arg) {\n    if (arg && arg.control) {\n      var control = form.elements.namedItem(arg.control),\n        value = {\n          value: Nette.getEffectiveValue(control)\n        };\n      Nette.validateControl(control, null, true, value);\n      arg = value.value;\n    }\n    return arg;\n  };\n\n  /**\n   * Validates single rule.\n   */\n  Nette.validateRule = function (elem, op, arg, value) {\n    value = value === undefined ? {\n      value: Nette.getEffectiveValue(elem)\n    } : value;\n    if (op.charAt(0) === ':') {\n      op = op.substr(1);\n    }\n    op = op.replace('::', '_');\n    op = op.replace(/\\\\/g, '');\n    var arr = Nette.isArray(arg) ? arg.slice(0) : [arg];\n    for (var i = 0, len = arr.length; i < len; i++) {\n      arr[i] = Nette.expandRuleArgument(elem.form, arr[i]);\n    }\n    return Nette.validators[op] ? Nette.validators[op](elem, Nette.isArray(arg) ? arr : arr[0], value.value, value) : null;\n  };\n  Nette.validators = {\n    filled: function filled(elem, arg, val) {\n      if (elem.type === 'number' && elem.validity.badInput) {\n        return true;\n      }\n      return val !== '' && val !== false && val !== null && (!Nette.isArray(val) || !!val.length) && (!window.FileList || !(val instanceof window.FileList) || val.length);\n    },\n    blank: function blank(elem, arg, val) {\n      return !Nette.validators.filled(elem, arg, val);\n    },\n    valid: function valid(elem, arg, val) {\n      return Nette.validateControl(elem, null, true);\n    },\n    equal: function equal(elem, arg, val) {\n      if (arg === undefined) {\n        return null;\n      }\n      function toString(val) {\n        if (typeof val === 'number' || typeof val === 'string') {\n          return '' + val;\n        } else {\n          return val === true ? '1' : '';\n        }\n      }\n      val = Nette.isArray(val) ? val : [val];\n      arg = Nette.isArray(arg) ? arg : [arg];\n      loop: for (var i1 = 0, len1 = val.length; i1 < len1; i1++) {\n        for (var i2 = 0, len2 = arg.length; i2 < len2; i2++) {\n          if (toString(val[i1]) === toString(arg[i2])) {\n            continue loop;\n          }\n        }\n        return false;\n      }\n      return true;\n    },\n    notEqual: function notEqual(elem, arg, val) {\n      return arg === undefined ? null : !Nette.validators.equal(elem, arg, val);\n    },\n    minLength: function minLength(elem, arg, val) {\n      if (elem.type === 'number') {\n        if (elem.validity.tooShort) {\n          return false;\n        } else if (elem.validity.badInput) {\n          return null;\n        }\n      }\n      return val.length >= arg;\n    },\n    maxLength: function maxLength(elem, arg, val) {\n      if (elem.type === 'number') {\n        if (elem.validity.tooLong) {\n          return false;\n        } else if (elem.validity.badInput) {\n          return null;\n        }\n      }\n      return val.length <= arg;\n    },\n    length: function length(elem, arg, val) {\n      if (elem.type === 'number') {\n        if (elem.validity.tooShort || elem.validity.tooLong) {\n          return false;\n        } else if (elem.validity.badInput) {\n          return null;\n        }\n      }\n      arg = Nette.isArray(arg) ? arg : [arg, arg];\n      return (arg[0] === null || val.length >= arg[0]) && (arg[1] === null || val.length <= arg[1]);\n    },\n    email: function email(elem, arg, val) {\n      return /^(\"([ !#-[\\]-~]|\\\\[ -~])+\"|[-a-z0-9!#$%&'*+\\/=?^_`{|}~]+(\\.[-a-z0-9!#$%&'*+\\/=?^_`{|}~]+)*)@([0-9a-z\\u00C0-\\u02FF\\u0370-\\u1EFF]([-0-9a-z\\u00C0-\\u02FF\\u0370-\\u1EFF]{0,61}[0-9a-z\\u00C0-\\u02FF\\u0370-\\u1EFF])?\\.)+[a-z\\u00C0-\\u02FF\\u0370-\\u1EFF]([-0-9a-z\\u00C0-\\u02FF\\u0370-\\u1EFF]{0,17}[a-z\\u00C0-\\u02FF\\u0370-\\u1EFF])?$/i.test(val);\n    },\n    url: function url(elem, arg, val, value) {\n      if (!/^[a-z\\d+.-]+:/.test(val)) {\n        val = 'http://' + val;\n      }\n      if (/^https?:\\/\\/((([-_0-9a-z\\u00C0-\\u02FF\\u0370-\\u1EFF]+\\.)*[0-9a-z\\u00C0-\\u02FF\\u0370-\\u1EFF]([-0-9a-z\\u00C0-\\u02FF\\u0370-\\u1EFF]{0,61}[0-9a-z\\u00C0-\\u02FF\\u0370-\\u1EFF])?\\.)?[a-z\\u00C0-\\u02FF\\u0370-\\u1EFF]([-0-9a-z\\u00C0-\\u02FF\\u0370-\\u1EFF]{0,17}[a-z\\u00C0-\\u02FF\\u0370-\\u1EFF])?|\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}|\\[[0-9a-f:]{3,39}\\])(:\\d{1,5})?(\\/\\S*)?$/i.test(val)) {\n        value.value = val;\n        return true;\n      }\n      return false;\n    },\n    regexp: function regexp(elem, arg, val) {\n      var parts = typeof arg === 'string' ? arg.match(/^\\/(.*)\\/([imu]*)$/) : false;\n      try {\n        return parts && new RegExp(parts[1], parts[2].replace('u', '')).test(val);\n      } catch (e) {}\n    },\n    pattern: function pattern(elem, arg, val) {\n      try {\n        return typeof arg === 'string' ? new RegExp('^(?:' + arg + ')$').test(val) : null;\n      } catch (e) {}\n    },\n    integer: function integer(elem, arg, val) {\n      if (elem.type === 'number' && elem.validity.badInput) {\n        return false;\n      }\n      return /^-?[0-9]+$/.test(val);\n    },\n    'float': function float(elem, arg, val, value) {\n      if (elem.type === 'number' && elem.validity.badInput) {\n        return false;\n      }\n      val = val.replace(' ', '').replace(',', '.');\n      if (/^-?[0-9]*[.,]?[0-9]+$/.test(val)) {\n        value.value = val;\n        return true;\n      }\n      return false;\n    },\n    min: function min(elem, arg, val) {\n      if (elem.type === 'number') {\n        if (elem.validity.rangeUnderflow) {\n          return false;\n        } else if (elem.validity.badInput) {\n          return null;\n        }\n      }\n      return arg === null || parseFloat(val) >= arg;\n    },\n    max: function max(elem, arg, val) {\n      if (elem.type === 'number') {\n        if (elem.validity.rangeOverflow) {\n          return false;\n        } else if (elem.validity.badInput) {\n          return null;\n        }\n      }\n      return arg === null || parseFloat(val) <= arg;\n    },\n    range: function range(elem, arg, val) {\n      if (elem.type === 'number') {\n        if (elem.validity.rangeUnderflow || elem.validity.rangeOverflow) {\n          return false;\n        } else if (elem.validity.badInput) {\n          return null;\n        }\n      }\n      return Nette.isArray(arg) ? (arg[0] === null || parseFloat(val) >= arg[0]) && (arg[1] === null || parseFloat(val) <= arg[1]) : null;\n    },\n    submitted: function submitted(elem, arg, val) {\n      return elem.form['nette-submittedBy'] === elem;\n    },\n    fileSize: function fileSize(elem, arg, val) {\n      if (window.FileList) {\n        for (var i = 0; i < val.length; i++) {\n          if (val[i].size > arg) {\n            return false;\n          }\n        }\n      }\n      return true;\n    },\n    image: function image(elem, arg, val) {\n      if (window.FileList && val instanceof window.FileList) {\n        for (var i = 0; i < val.length; i++) {\n          var type = val[i].type;\n          if (type && type !== 'image/gif' && type !== 'image/png' && type !== 'image/jpeg') {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n  };\n\n  /**\n   * Process all toggles in form.\n   */\n  Nette.toggleForm = function (form, elem) {\n    var i;\n    Nette.toggles = {};\n    for (i = 0; i < form.elements.length; i++) {\n      if (form.elements[i].tagName.toLowerCase() in {\n        input: 1,\n        select: 1,\n        textarea: 1,\n        button: 1\n      }) {\n        Nette.toggleControl(form.elements[i], null, null, !elem);\n      }\n    }\n    for (i in Nette.toggles) {\n      Nette.toggle(i, Nette.toggles[i], elem);\n    }\n  };\n\n  /**\n   * Process toggles on form element.\n   */\n  Nette.toggleControl = function (elem, rules, success, firsttime, value) {\n    rules = rules || Nette.parseJSON(elem.getAttribute('data-nette-rules'));\n    value = value === undefined ? {\n      value: Nette.getEffectiveValue(elem)\n    } : value;\n    var has = false,\n      handled = [],\n      handler = function handler() {\n        Nette.toggleForm(elem.form, elem);\n      },\n      curSuccess;\n    for (var id = 0, len = rules.length; id < len; id++) {\n      var rule = rules[id],\n        op = rule.op.match(/(~)?([^?]+)/),\n        curElem = rule.control ? elem.form.elements.namedItem(rule.control) : elem;\n      if (!curElem) {\n        continue;\n      }\n      curSuccess = success;\n      if (success !== false) {\n        rule.neg = op[1];\n        rule.op = op[2];\n        var curValue = elem === curElem ? value : {\n          value: Nette.getEffectiveValue(curElem)\n        };\n        curSuccess = Nette.validateRule(curElem, rule.op, rule.arg, curValue);\n        if (curSuccess === null) {\n          continue;\n        } else if (rule.neg) {\n          curSuccess = !curSuccess;\n        }\n        if (!rule.rules) {\n          success = curSuccess;\n        }\n      }\n      if (rule.rules && Nette.toggleControl(elem, rule.rules, curSuccess, firsttime, value) || rule.toggle) {\n        has = true;\n        if (firsttime) {\n          var oldIE = !document.addEventListener,\n            // IE < 9\n            name = curElem.tagName ? curElem.name : curElem[0].name,\n            els = curElem.tagName ? curElem.form.elements : curElem;\n          for (var i = 0; i < els.length; i++) {\n            if (els[i].name === name && !Nette.inArray(handled, els[i])) {\n              Nette.addEvent(els[i], oldIE && els[i].type in {\n                checkbox: 1,\n                radio: 1\n              } ? 'click' : 'change', handler);\n              handled.push(els[i]);\n            }\n          }\n        }\n        for (var id2 in rule.toggle || []) {\n          if (Object.prototype.hasOwnProperty.call(rule.toggle, id2)) {\n            Nette.toggles[id2] = Nette.toggles[id2] || (rule.toggle[id2] ? curSuccess : !curSuccess);\n          }\n        }\n      }\n    }\n    return has;\n  };\n  Nette.parseJSON = function (s) {\n    return (s || '').substr(0, 3) === '{op' ? eval('[' + s + ']') // backward compatibility with Nette 2.0.x\n    : JSON.parse(s || '[]');\n  };\n\n  /**\n   * Displays or hides HTML element.\n   */\n  Nette.toggle = function (id, visible, srcElement) {\n    var elem = document.getElementById(id);\n    if (elem) {\n      elem.style.display = visible ? '' : 'none';\n    }\n  };\n\n  /**\n   * Setup handlers.\n   */\n  Nette.initForm = function (form) {\n    Nette.toggleForm(form);\n    if (form.noValidate) {\n      return;\n    }\n    form.noValidate = true;\n    Nette.addEvent(form, 'submit', function (e) {\n      if (!Nette.validateForm(form)) {\n        if (e && e.stopPropagation) {\n          e.stopPropagation();\n          e.preventDefault();\n        } else if (window.event) {\n          event.cancelBubble = true;\n          event.returnValue = false;\n        }\n      }\n    });\n  };\n\n  /**\n   * @private\n   */\n  Nette.initOnLoad = function () {\n    Nette.addEvent(document, 'DOMContentLoaded', function () {\n      for (var i = 0; i < document.forms.length; i++) {\n        var form = document.forms[i];\n        for (var j = 0; j < form.elements.length; j++) {\n          if (form.elements[j].getAttribute('data-nette-rules')) {\n            Nette.initForm(form);\n            break;\n          }\n        }\n      }\n      Nette.addEvent(document.body, 'click', function (e) {\n        var target = e.target || e.srcElement;\n        while (target) {\n          if (target.form && target.type in {\n            submit: 1,\n            image: 1\n          }) {\n            target.form['nette-submittedBy'] = target;\n            break;\n          }\n          target = target.parentNode;\n        }\n      });\n    });\n  };\n\n  /**\n   * Determines whether the argument is an array.\n   */\n  Nette.isArray = function (arg) {\n    return Object.prototype.toString.call(arg) === '[object Array]';\n  };\n\n  /**\n   * Search for a specified value within an array.\n   */\n  Nette.inArray = function (arr, val) {\n    if ([].indexOf) {\n      return arr.indexOf(val) > -1;\n    } else {\n      for (var i = 0; i < arr.length; i++) {\n        if (arr[i] === val) {\n          return true;\n        }\n      }\n      return false;\n    }\n  };\n\n  /**\n   * Converts string to web safe characters [a-z0-9-] text.\n   */\n  Nette.webalize = function (s) {\n    s = s.toLowerCase();\n    var res = '',\n      i,\n      ch;\n    for (i = 0; i < s.length; i++) {\n      ch = Nette.webalizeTable[s.charAt(i)];\n      res += ch ? ch : s.charAt(i);\n    }\n    return res.replace(/[^a-z0-9]+/g, '-').replace(/^-|-$/g, '');\n  };\n  Nette.webalizeTable = {\n    á: 'a',\n    ä: 'a',\n    č: 'c',\n    ď: 'd',\n    é: 'e',\n    ě: 'e',\n    í: 'i',\n    ľ: 'l',\n    ň: 'n',\n    ó: 'o',\n    ô: 'o',\n    ř: 'r',\n    š: 's',\n    ť: 't',\n    ú: 'u',\n    ů: 'u',\n    ý: 'y',\n    ž: 'z'\n  };\n\n  // 输入时显示错误信息\n  jQuery(document).ready(function ($) {\n    // 显示错误信息\n    function showErrors(errors, focus) {\n      errors.forEach(function (error) {\n        if (error.message) {\n          $(error.element).parents('.rs-control-input').addClass('rs-has-error').find('.rs-error-msg').remove();\n          $(error.element).parents('.rs-control-input').append($('<span class=rs-error-msg>').text(error.message));\n        }\n        if (focus && error.element.focus) {\n          error.element.focus();\n          focus = false;\n        }\n      });\n    }\n\n    // 移除错误信息\n    function removeErrors(elem) {\n      if ($(elem).is('form')) {\n        $('.rs-has-error', elem).removeClass('rs-has-error');\n        $('.rs-error-msg', elem).remove();\n      } else {\n        $(elem).parent().removeClass('rs-has-error').find('.rs-error-msg').remove();\n      }\n    }\n\n    // 显示表单错误信息\n    Nette.showFormErrors = function (form, errors) {\n      removeErrors(form);\n      showErrors(errors, true);\n    };\n    var input = $(':input');\n    input.keypress(function () {\n      removeErrors(this);\n    });\n    input.blur(function () {\n      Nette.formErrors = [];\n      Nette.validateControl(this);\n      showErrors(Nette.formErrors);\n    });\n  });\n  return Nette;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hc3NldHMvc2NyaXB0cy9tb2R1bGVzL25ldHRlLWZvcm1zLmpzLmpzIiwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3dlbnByaXNlLWZyb250ZW5kLXRvb2wvLi9hc3NldHMvc2NyaXB0cy9tb2R1bGVzL25ldHRlLWZvcm1zLmpzPzdmZWMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH0sIF90eXBlb2Yob2JqKTsgfVxuLyoqXG4gKiBOZXR0ZUZvcm1zIC0gc2ltcGxlIGZvcm0gdmFsaWRhdGlvbi5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiB0aGUgTmV0dGUgRnJhbWV3b3JrIChodHRwczovL25ldHRlLm9yZylcbiAqIENvcHlyaWdodCAoYykgMjAwNCBEYXZpZCBHcnVkbCAoaHR0cHM6Ly9kYXZpZGdydWRsLmNvbSlcbiAqL1xuXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICBpZiAoIWdsb2JhbC5KU09OKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZhY3RvcnkoZ2xvYmFsKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICgodHlwZW9mIG1vZHVsZSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG1vZHVsZSkpID09PSAnb2JqZWN0JyAmJiBfdHlwZW9mKG1vZHVsZS5leHBvcnRzKSA9PT0gJ29iamVjdCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoZ2xvYmFsKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgaW5pdCA9ICFnbG9iYWwuTmV0dGUgfHwgIWdsb2JhbC5OZXR0ZS5ub0luaXQ7XG4gICAgZ2xvYmFsLk5ldHRlID0gZmFjdG9yeShnbG9iYWwpO1xuICAgIGlmIChpbml0KSB7XG4gICAgICBnbG9iYWwuTmV0dGUuaW5pdE9uTG9hZCgpO1xuICAgIH1cbiAgfVxufSkodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiAod2luZG93KSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgTmV0dGUgPSB7fTtcbiAgTmV0dGUuZm9ybUVycm9ycyA9IFtdO1xuICBOZXR0ZS52ZXJzaW9uID0gJzIuNCc7XG5cbiAgLyoqXG4gICAqIEF0dGFjaGVzIGEgaGFuZGxlciB0byBhbiBldmVudCBmb3IgdGhlIGVsZW1lbnQuXG4gICAqL1xuICBOZXR0ZS5hZGRFdmVudCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvbiwgY2FsbGJhY2spIHtcbiAgICBpZiAoZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIob24sIGNhbGxiYWNrKTtcbiAgICB9IGVsc2UgaWYgKG9uID09PSAnRE9NQ29udGVudExvYWRlZCcpIHtcbiAgICAgIGVsZW1lbnQuYXR0YWNoRXZlbnQoJ29ucmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCdvbicgKyBvbiwgZ2V0SGFuZGxlcihjYWxsYmFjaykpO1xuICAgIH1cbiAgfTtcbiAgZnVuY3Rpb24gZ2V0SGFuZGxlcihjYWxsYmFjaykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpcywgZSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiBmb3JtIGVsZW1lbnQuXG4gICAqL1xuICBOZXR0ZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgdmFyIGk7XG4gICAgaWYgKCFlbGVtKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2UgaWYgKCFlbGVtLnRhZ05hbWUpIHtcbiAgICAgIC8vIFJhZGlvTm9kZUxpc3QsIEhUTUxDb2xsZWN0aW9uLCBhcnJheVxuICAgICAgcmV0dXJuIGVsZW1bMF0gPyBOZXR0ZS5nZXRWYWx1ZShlbGVtWzBdKSA6IG51bGw7XG4gICAgfSBlbHNlIGlmIChlbGVtLnR5cGUgPT09ICdyYWRpbycpIHtcbiAgICAgIHZhciBlbGVtZW50cyA9IGVsZW0uZm9ybS5lbGVtZW50czsgLy8gcHJldmVudHMgcHJvYmxlbSB3aXRoIG5hbWUgJ2l0ZW0nIG9yICduYW1lZEl0ZW0nXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGVsZW1lbnRzW2ldLm5hbWUgPT09IGVsZW0ubmFtZSAmJiBlbGVtZW50c1tpXS5jaGVja2VkKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnRzW2ldLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2UgaWYgKGVsZW0udHlwZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICByZXR1cm4gZWxlbS5maWxlcyB8fCBlbGVtLnZhbHVlO1xuICAgIH0gZWxzZSBpZiAoZWxlbS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzZWxlY3QnKSB7XG4gICAgICB2YXIgaW5kZXggPSBlbGVtLnNlbGVjdGVkSW5kZXgsXG4gICAgICAgIG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXG4gICAgICAgIHZhbHVlcyA9IFtdO1xuICAgICAgaWYgKGVsZW0udHlwZSA9PT0gJ3NlbGVjdC1vbmUnKSB7XG4gICAgICAgIHJldHVybiBpbmRleCA8IDAgPyBudWxsIDogb3B0aW9uc1tpbmRleF0udmFsdWU7XG4gICAgICB9XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAob3B0aW9uc1tpXS5zZWxlY3RlZCkge1xuICAgICAgICAgIHZhbHVlcy5wdXNoKG9wdGlvbnNbaV0udmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH0gZWxzZSBpZiAoZWxlbS5uYW1lICYmIGVsZW0ubmFtZS5tYXRjaCgvXFxbXFxdJC8pKSB7XG4gICAgICAvLyBtdWx0aXBsZSBlbGVtZW50cyBbXVxuICAgICAgdmFyIGVsZW1lbnRzID0gZWxlbS5mb3JtLmVsZW1lbnRzW2VsZW0ubmFtZV0udGFnTmFtZSA/IFtlbGVtXSA6IGVsZW0uZm9ybS5lbGVtZW50c1tlbGVtLm5hbWVdLFxuICAgICAgICB2YWx1ZXMgPSBbXTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZWxlbWVudHNbaV0udHlwZSAhPT0gJ2NoZWNrYm94JyB8fCBlbGVtZW50c1tpXS5jaGVja2VkKSB7XG4gICAgICAgICAgdmFsdWVzLnB1c2goZWxlbWVudHNbaV0udmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH0gZWxzZSBpZiAoZWxlbS50eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgICByZXR1cm4gZWxlbS5jaGVja2VkO1xuICAgIH0gZWxzZSBpZiAoZWxlbS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd0ZXh0YXJlYScpIHtcbiAgICAgIHJldHVybiBlbGVtLnZhbHVlLnJlcGxhY2UoJ1xccicsICcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGVsZW0udmFsdWUucmVwbGFjZSgnXFxyJywgJycpLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGVmZmVjdGl2ZSB2YWx1ZSBvZiBmb3JtIGVsZW1lbnQuXG4gICAqL1xuICBOZXR0ZS5nZXRFZmZlY3RpdmVWYWx1ZSA9IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgdmFyIHZhbCA9IE5ldHRlLmdldFZhbHVlKGVsZW0pO1xuICAgIGlmIChlbGVtLmdldEF0dHJpYnV0ZSkge1xuICAgICAgaWYgKHZhbCA9PT0gZWxlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmV0dGUtZW1wdHktdmFsdWUnKSkge1xuICAgICAgICB2YWwgPSAnJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbiAgfTtcblxuICAvKipcbiAgICogVmFsaWRhdGVzIGZvcm0gZWxlbWVudCBhZ2FpbnN0IGdpdmVuIHJ1bGVzLlxuICAgKi9cbiAgTmV0dGUudmFsaWRhdGVDb250cm9sID0gZnVuY3Rpb24gKGVsZW0sIHJ1bGVzLCBvbmx5Q2hlY2ssIHZhbHVlLCBlbXB0eU9wdGlvbmFsKSB7XG4gICAgZWxlbSA9IGVsZW0udGFnTmFtZSA/IGVsZW0gOiBlbGVtWzBdOyAvLyBSYWRpb05vZGVMaXN0XG4gICAgcnVsZXMgPSBydWxlcyB8fCBOZXR0ZS5wYXJzZUpTT04oZWxlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmV0dGUtcnVsZXMnKSk7XG4gICAgdmFsdWUgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkID8ge1xuICAgICAgdmFsdWU6IE5ldHRlLmdldEVmZmVjdGl2ZVZhbHVlKGVsZW0pXG4gICAgfSA6IHZhbHVlO1xuICAgIGZvciAodmFyIGlkID0gMCwgbGVuID0gcnVsZXMubGVuZ3RoOyBpZCA8IGxlbjsgaWQrKykge1xuICAgICAgdmFyIHJ1bGUgPSBydWxlc1tpZF0sXG4gICAgICAgIG9wID0gcnVsZS5vcC5tYXRjaCgvKH4pPyhbXj9dKykvKSxcbiAgICAgICAgY3VyRWxlbSA9IHJ1bGUuY29udHJvbCA/IGVsZW0uZm9ybS5lbGVtZW50cy5uYW1lZEl0ZW0ocnVsZS5jb250cm9sKSA6IGVsZW07XG4gICAgICBydWxlLm5lZyA9IG9wWzFdO1xuICAgICAgcnVsZS5vcCA9IG9wWzJdO1xuICAgICAgcnVsZS5jb25kaXRpb24gPSAhIXJ1bGUucnVsZXM7XG4gICAgICBpZiAoIWN1ckVsZW0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2UgaWYgKHJ1bGUub3AgPT09ICdvcHRpb25hbCcpIHtcbiAgICAgICAgZW1wdHlPcHRpb25hbCA9ICFOZXR0ZS52YWxpZGF0ZVJ1bGUoZWxlbSwgJzpmaWxsZWQnLCBudWxsLCB2YWx1ZSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfSBlbHNlIGlmIChlbXB0eU9wdGlvbmFsICYmICFydWxlLmNvbmRpdGlvbiAmJiBydWxlLm9wICE9PSAnOmZpbGxlZCcpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjdXJFbGVtID0gY3VyRWxlbS50YWdOYW1lID8gY3VyRWxlbSA6IGN1ckVsZW1bMF07IC8vIFJhZGlvTm9kZUxpc3RcbiAgICAgIHZhciBjdXJWYWx1ZSA9IGVsZW0gPT09IGN1ckVsZW0gPyB2YWx1ZSA6IHtcbiAgICAgICAgICB2YWx1ZTogTmV0dGUuZ2V0RWZmZWN0aXZlVmFsdWUoY3VyRWxlbSlcbiAgICAgICAgfSxcbiAgICAgICAgc3VjY2VzcyA9IE5ldHRlLnZhbGlkYXRlUnVsZShjdXJFbGVtLCBydWxlLm9wLCBydWxlLmFyZywgY3VyVmFsdWUpO1xuICAgICAgaWYgKHN1Y2Nlc3MgPT09IG51bGwpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2UgaWYgKHJ1bGUubmVnKSB7XG4gICAgICAgIHN1Y2Nlc3MgPSAhc3VjY2VzcztcbiAgICAgIH1cbiAgICAgIGlmIChydWxlLmNvbmRpdGlvbiAmJiBzdWNjZXNzKSB7XG4gICAgICAgIGlmICghTmV0dGUudmFsaWRhdGVDb250cm9sKGVsZW0sIHJ1bGUucnVsZXMsIG9ubHlDaGVjaywgdmFsdWUsIHJ1bGUub3AgPT09ICc6YmxhbmsnID8gZmFsc2UgOiBlbXB0eU9wdGlvbmFsKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghcnVsZS5jb25kaXRpb24gJiYgIXN1Y2Nlc3MpIHtcbiAgICAgICAgaWYgKE5ldHRlLmlzRGlzYWJsZWQoY3VyRWxlbSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9ubHlDaGVjaykge1xuICAgICAgICAgIHZhciBhcnIgPSBOZXR0ZS5pc0FycmF5KHJ1bGUuYXJnKSA/IHJ1bGUuYXJnIDogW3J1bGUuYXJnXSxcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBydWxlLm1zZy5yZXBsYWNlKC8lKHZhbHVlfFxcZCspL2csIGZ1bmN0aW9uIChmb28sIG0pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIE5ldHRlLmdldFZhbHVlKG0gPT09ICd2YWx1ZScgPyBjdXJFbGVtIDogZWxlbS5mb3JtLmVsZW1lbnRzLm5hbWVkSXRlbShhcnJbbV0uY29udHJvbCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgTmV0dGUuYWRkRXJyb3IoY3VyRWxlbSwgbWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZWxlbS50eXBlID09PSAnbnVtYmVyJyAmJiAhZWxlbS52YWxpZGl0eS52YWxpZCkge1xuICAgICAgaWYgKCFvbmx5Q2hlY2spIHtcbiAgICAgICAgTmV0dGUuYWRkRXJyb3IoZWxlbSwgJ1BsZWFzZSBlbnRlciBhIHZhbGlkIHZhbHVlLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogVmFsaWRhdGVzIHdob2xlIGZvcm0uXG4gICAqL1xuICBOZXR0ZS52YWxpZGF0ZUZvcm0gPSBmdW5jdGlvbiAoc2VuZGVyLCBvbmx5Q2hlY2spIHtcbiAgICB2YXIgZm9ybSA9IHNlbmRlci5mb3JtIHx8IHNlbmRlcixcbiAgICAgIHNjb3BlID0gZmFsc2U7XG4gICAgTmV0dGUuZm9ybUVycm9ycyA9IFtdO1xuICAgIGlmIChmb3JtWyduZXR0ZS1zdWJtaXR0ZWRCeSddICYmIGZvcm1bJ25ldHRlLXN1Ym1pdHRlZEJ5J10uZ2V0QXR0cmlidXRlKCdmb3Jtbm92YWxpZGF0ZScpICE9PSBudWxsKSB7XG4gICAgICB2YXIgc2NvcGVBcnIgPSBOZXR0ZS5wYXJzZUpTT04oZm9ybVsnbmV0dGUtc3VibWl0dGVkQnknXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmV0dGUtdmFsaWRhdGlvbi1zY29wZScpKTtcbiAgICAgIGlmIChzY29wZUFyci5sZW5ndGgpIHtcbiAgICAgICAgc2NvcGUgPSBuZXcgUmVnRXhwKCdeKCcgKyBzY29wZUFyci5qb2luKCctfCcpICsgJy0pJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBOZXR0ZS5zaG93Rm9ybUVycm9ycyhmb3JtLCBbXSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgcmFkaW9zID0ge30sXG4gICAgICBpLFxuICAgICAgZWxlbTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgZm9ybS5lbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgZWxlbSA9IGZvcm0uZWxlbWVudHNbaV07XG4gICAgICBpZiAoZWxlbS50YWdOYW1lICYmICEoZWxlbS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgaW4ge1xuICAgICAgICBpbnB1dDogMSxcbiAgICAgICAgc2VsZWN0OiAxLFxuICAgICAgICB0ZXh0YXJlYTogMSxcbiAgICAgICAgYnV0dG9uOiAxXG4gICAgICB9KSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSBpZiAoZWxlbS50eXBlID09PSAncmFkaW8nKSB7XG4gICAgICAgIGlmIChyYWRpb3NbZWxlbS5uYW1lXSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJhZGlvc1tlbGVtLm5hbWVdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChzY29wZSAmJiAhZWxlbS5uYW1lLnJlcGxhY2UoL11cXFt8XFxbfF18JC9nLCAnLScpLm1hdGNoKHNjb3BlKSB8fCBOZXR0ZS5pc0Rpc2FibGVkKGVsZW0pKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKCFOZXR0ZS52YWxpZGF0ZUNvbnRyb2woZWxlbSwgbnVsbCwgb25seUNoZWNrKSAmJiAhTmV0dGUuZm9ybUVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgc3VjY2VzcyA9ICFOZXR0ZS5mb3JtRXJyb3JzLmxlbmd0aDtcbiAgICBOZXR0ZS5zaG93Rm9ybUVycm9ycyhmb3JtLCBOZXR0ZS5mb3JtRXJyb3JzKTtcbiAgICByZXR1cm4gc3VjY2VzcztcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgaW5wdXQgaXMgZGlzYWJsZWQuXG4gICAqL1xuICBOZXR0ZS5pc0Rpc2FibGVkID0gZnVuY3Rpb24gKGVsZW0pIHtcbiAgICBpZiAoZWxlbS50eXBlID09PSAncmFkaW8nKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgZWxlbWVudHMgPSBlbGVtLmZvcm0uZWxlbWVudHM7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZWxlbWVudHNbaV0ubmFtZSA9PT0gZWxlbS5uYW1lICYmICFlbGVtZW50c1tpXS5kaXNhYmxlZCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBlbGVtLmRpc2FibGVkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGRzIGVycm9yIG1lc3NhZ2UgdG8gdGhlIHF1ZXVlLlxuICAgKi9cbiAgTmV0dGUuYWRkRXJyb3IgPSBmdW5jdGlvbiAoZWxlbSwgbWVzc2FnZSkge1xuICAgIE5ldHRlLmZvcm1FcnJvcnMucHVzaCh7XG4gICAgICBlbGVtZW50OiBlbGVtLFxuICAgICAgbWVzc2FnZTogbWVzc2FnZVxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNwbGF5IGVycm9yIG1lc3NhZ2VzLlxuICAgKi9cbiAgTmV0dGUuc2hvd0Zvcm1FcnJvcnMgPSBmdW5jdGlvbiAoZm9ybSwgZXJyb3JzKSB7XG4gICAgdmFyIG1lc3NhZ2VzID0gW10sXG4gICAgICBmb2N1c0VsZW07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlcnJvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBlbGVtID0gZXJyb3JzW2ldLmVsZW1lbnQsXG4gICAgICAgIG1lc3NhZ2UgPSBlcnJvcnNbaV0ubWVzc2FnZTtcbiAgICAgIGlmICghTmV0dGUuaW5BcnJheShtZXNzYWdlcywgbWVzc2FnZSkpIHtcbiAgICAgICAgbWVzc2FnZXMucHVzaChtZXNzYWdlKTtcbiAgICAgICAgaWYgKCFmb2N1c0VsZW0gJiYgZWxlbS5mb2N1cykge1xuICAgICAgICAgIGZvY3VzRWxlbSA9IGVsZW07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG1lc3NhZ2VzLmxlbmd0aCkge1xuICAgICAgYWxlcnQobWVzc2FnZXMuam9pbignXFxuJykpO1xuICAgICAgaWYgKGZvY3VzRWxlbSkge1xuICAgICAgICBmb2N1c0VsZW0uZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEV4cGFuZCBydWxlIGFyZ3VtZW50LlxuICAgKi9cbiAgTmV0dGUuZXhwYW5kUnVsZUFyZ3VtZW50ID0gZnVuY3Rpb24gKGZvcm0sIGFyZykge1xuICAgIGlmIChhcmcgJiYgYXJnLmNvbnRyb2wpIHtcbiAgICAgIHZhciBjb250cm9sID0gZm9ybS5lbGVtZW50cy5uYW1lZEl0ZW0oYXJnLmNvbnRyb2wpLFxuICAgICAgICB2YWx1ZSA9IHtcbiAgICAgICAgICB2YWx1ZTogTmV0dGUuZ2V0RWZmZWN0aXZlVmFsdWUoY29udHJvbClcbiAgICAgICAgfTtcbiAgICAgIE5ldHRlLnZhbGlkYXRlQ29udHJvbChjb250cm9sLCBudWxsLCB0cnVlLCB2YWx1ZSk7XG4gICAgICBhcmcgPSB2YWx1ZS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGFyZztcbiAgfTtcblxuICAvKipcbiAgICogVmFsaWRhdGVzIHNpbmdsZSBydWxlLlxuICAgKi9cbiAgTmV0dGUudmFsaWRhdGVSdWxlID0gZnVuY3Rpb24gKGVsZW0sIG9wLCBhcmcsIHZhbHVlKSB7XG4gICAgdmFsdWUgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkID8ge1xuICAgICAgdmFsdWU6IE5ldHRlLmdldEVmZmVjdGl2ZVZhbHVlKGVsZW0pXG4gICAgfSA6IHZhbHVlO1xuICAgIGlmIChvcC5jaGFyQXQoMCkgPT09ICc6Jykge1xuICAgICAgb3AgPSBvcC5zdWJzdHIoMSk7XG4gICAgfVxuICAgIG9wID0gb3AucmVwbGFjZSgnOjonLCAnXycpO1xuICAgIG9wID0gb3AucmVwbGFjZSgvXFxcXC9nLCAnJyk7XG4gICAgdmFyIGFyciA9IE5ldHRlLmlzQXJyYXkoYXJnKSA/IGFyZy5zbGljZSgwKSA6IFthcmddO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFycltpXSA9IE5ldHRlLmV4cGFuZFJ1bGVBcmd1bWVudChlbGVtLmZvcm0sIGFycltpXSk7XG4gICAgfVxuICAgIHJldHVybiBOZXR0ZS52YWxpZGF0b3JzW29wXSA/IE5ldHRlLnZhbGlkYXRvcnNbb3BdKGVsZW0sIE5ldHRlLmlzQXJyYXkoYXJnKSA/IGFyciA6IGFyclswXSwgdmFsdWUudmFsdWUsIHZhbHVlKSA6IG51bGw7XG4gIH07XG4gIE5ldHRlLnZhbGlkYXRvcnMgPSB7XG4gICAgZmlsbGVkOiBmdW5jdGlvbiBmaWxsZWQoZWxlbSwgYXJnLCB2YWwpIHtcbiAgICAgIGlmIChlbGVtLnR5cGUgPT09ICdudW1iZXInICYmIGVsZW0udmFsaWRpdHkuYmFkSW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsICE9PSAnJyAmJiB2YWwgIT09IGZhbHNlICYmIHZhbCAhPT0gbnVsbCAmJiAoIU5ldHRlLmlzQXJyYXkodmFsKSB8fCAhIXZhbC5sZW5ndGgpICYmICghd2luZG93LkZpbGVMaXN0IHx8ICEodmFsIGluc3RhbmNlb2Ygd2luZG93LkZpbGVMaXN0KSB8fCB2YWwubGVuZ3RoKTtcbiAgICB9LFxuICAgIGJsYW5rOiBmdW5jdGlvbiBibGFuayhlbGVtLCBhcmcsIHZhbCkge1xuICAgICAgcmV0dXJuICFOZXR0ZS52YWxpZGF0b3JzLmZpbGxlZChlbGVtLCBhcmcsIHZhbCk7XG4gICAgfSxcbiAgICB2YWxpZDogZnVuY3Rpb24gdmFsaWQoZWxlbSwgYXJnLCB2YWwpIHtcbiAgICAgIHJldHVybiBOZXR0ZS52YWxpZGF0ZUNvbnRyb2woZWxlbSwgbnVsbCwgdHJ1ZSk7XG4gICAgfSxcbiAgICBlcXVhbDogZnVuY3Rpb24gZXF1YWwoZWxlbSwgYXJnLCB2YWwpIHtcbiAgICAgIGlmIChhcmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHRvU3RyaW5nKHZhbCkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICByZXR1cm4gJycgKyB2YWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHZhbCA9PT0gdHJ1ZSA/ICcxJyA6ICcnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YWwgPSBOZXR0ZS5pc0FycmF5KHZhbCkgPyB2YWwgOiBbdmFsXTtcbiAgICAgIGFyZyA9IE5ldHRlLmlzQXJyYXkoYXJnKSA/IGFyZyA6IFthcmddO1xuICAgICAgbG9vcDogZm9yICh2YXIgaTEgPSAwLCBsZW4xID0gdmFsLmxlbmd0aDsgaTEgPCBsZW4xOyBpMSsrKSB7XG4gICAgICAgIGZvciAodmFyIGkyID0gMCwgbGVuMiA9IGFyZy5sZW5ndGg7IGkyIDwgbGVuMjsgaTIrKykge1xuICAgICAgICAgIGlmICh0b1N0cmluZyh2YWxbaTFdKSA9PT0gdG9TdHJpbmcoYXJnW2kyXSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlIGxvb3A7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgbm90RXF1YWw6IGZ1bmN0aW9uIG5vdEVxdWFsKGVsZW0sIGFyZywgdmFsKSB7XG4gICAgICByZXR1cm4gYXJnID09PSB1bmRlZmluZWQgPyBudWxsIDogIU5ldHRlLnZhbGlkYXRvcnMuZXF1YWwoZWxlbSwgYXJnLCB2YWwpO1xuICAgIH0sXG4gICAgbWluTGVuZ3RoOiBmdW5jdGlvbiBtaW5MZW5ndGgoZWxlbSwgYXJnLCB2YWwpIHtcbiAgICAgIGlmIChlbGVtLnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChlbGVtLnZhbGlkaXR5LnRvb1Nob3J0KSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW0udmFsaWRpdHkuYmFkSW5wdXQpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbC5sZW5ndGggPj0gYXJnO1xuICAgIH0sXG4gICAgbWF4TGVuZ3RoOiBmdW5jdGlvbiBtYXhMZW5ndGgoZWxlbSwgYXJnLCB2YWwpIHtcbiAgICAgIGlmIChlbGVtLnR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChlbGVtLnZhbGlkaXR5LnRvb0xvbmcpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbS52YWxpZGl0eS5iYWRJbnB1dCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsLmxlbmd0aCA8PSBhcmc7XG4gICAgfSxcbiAgICBsZW5ndGg6IGZ1bmN0aW9uIGxlbmd0aChlbGVtLCBhcmcsIHZhbCkge1xuICAgICAgaWYgKGVsZW0udHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKGVsZW0udmFsaWRpdHkudG9vU2hvcnQgfHwgZWxlbS52YWxpZGl0eS50b29Mb25nKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW0udmFsaWRpdHkuYmFkSW5wdXQpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXJnID0gTmV0dGUuaXNBcnJheShhcmcpID8gYXJnIDogW2FyZywgYXJnXTtcbiAgICAgIHJldHVybiAoYXJnWzBdID09PSBudWxsIHx8IHZhbC5sZW5ndGggPj0gYXJnWzBdKSAmJiAoYXJnWzFdID09PSBudWxsIHx8IHZhbC5sZW5ndGggPD0gYXJnWzFdKTtcbiAgICB9LFxuICAgIGVtYWlsOiBmdW5jdGlvbiBlbWFpbChlbGVtLCBhcmcsIHZhbCkge1xuICAgICAgcmV0dXJuIC9eKFwiKFsgISMtW1xcXS1+XXxcXFxcWyAtfl0pK1wifFstYS16MC05ISMkJSYnKitcXC89P15fYHt8fX5dKyhcXC5bLWEtejAtOSEjJCUmJyorXFwvPT9eX2B7fH1+XSspKilAKFswLTlhLXpcXHUwMEMwLVxcdTAyRkZcXHUwMzcwLVxcdTFFRkZdKFstMC05YS16XFx1MDBDMC1cXHUwMkZGXFx1MDM3MC1cXHUxRUZGXXswLDYxfVswLTlhLXpcXHUwMEMwLVxcdTAyRkZcXHUwMzcwLVxcdTFFRkZdKT9cXC4pK1thLXpcXHUwMEMwLVxcdTAyRkZcXHUwMzcwLVxcdTFFRkZdKFstMC05YS16XFx1MDBDMC1cXHUwMkZGXFx1MDM3MC1cXHUxRUZGXXswLDE3fVthLXpcXHUwMEMwLVxcdTAyRkZcXHUwMzcwLVxcdTFFRkZdKT8kL2kudGVzdCh2YWwpO1xuICAgIH0sXG4gICAgdXJsOiBmdW5jdGlvbiB1cmwoZWxlbSwgYXJnLCB2YWwsIHZhbHVlKSB7XG4gICAgICBpZiAoIS9eW2EtelxcZCsuLV0rOi8udGVzdCh2YWwpKSB7XG4gICAgICAgIHZhbCA9ICdodHRwOi8vJyArIHZhbDtcbiAgICAgIH1cbiAgICAgIGlmICgvXmh0dHBzPzpcXC9cXC8oKChbLV8wLTlhLXpcXHUwMEMwLVxcdTAyRkZcXHUwMzcwLVxcdTFFRkZdK1xcLikqWzAtOWEtelxcdTAwQzAtXFx1MDJGRlxcdTAzNzAtXFx1MUVGRl0oWy0wLTlhLXpcXHUwMEMwLVxcdTAyRkZcXHUwMzcwLVxcdTFFRkZdezAsNjF9WzAtOWEtelxcdTAwQzAtXFx1MDJGRlxcdTAzNzAtXFx1MUVGRl0pP1xcLik/W2EtelxcdTAwQzAtXFx1MDJGRlxcdTAzNzAtXFx1MUVGRl0oWy0wLTlhLXpcXHUwMEMwLVxcdTAyRkZcXHUwMzcwLVxcdTFFRkZdezAsMTd9W2EtelxcdTAwQzAtXFx1MDJGRlxcdTAzNzAtXFx1MUVGRl0pP3xcXGR7MSwzfVxcLlxcZHsxLDN9XFwuXFxkezEsM31cXC5cXGR7MSwzfXxcXFtbMC05YS1mOl17MywzOX1cXF0pKDpcXGR7MSw1fSk/KFxcL1xcUyopPyQvaS50ZXN0KHZhbCkpIHtcbiAgICAgICAgdmFsdWUudmFsdWUgPSB2YWw7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgcmVnZXhwOiBmdW5jdGlvbiByZWdleHAoZWxlbSwgYXJnLCB2YWwpIHtcbiAgICAgIHZhciBwYXJ0cyA9IHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnID8gYXJnLm1hdGNoKC9eXFwvKC4qKVxcLyhbaW11XSopJC8pIDogZmFsc2U7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gcGFydHMgJiYgbmV3IFJlZ0V4cChwYXJ0c1sxXSwgcGFydHNbMl0ucmVwbGFjZSgndScsICcnKSkudGVzdCh2YWwpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9LFxuICAgIHBhdHRlcm46IGZ1bmN0aW9uIHBhdHRlcm4oZWxlbSwgYXJnLCB2YWwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyA/IG5ldyBSZWdFeHAoJ14oPzonICsgYXJnICsgJykkJykudGVzdCh2YWwpIDogbnVsbDtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfSxcbiAgICBpbnRlZ2VyOiBmdW5jdGlvbiBpbnRlZ2VyKGVsZW0sIGFyZywgdmFsKSB7XG4gICAgICBpZiAoZWxlbS50eXBlID09PSAnbnVtYmVyJyAmJiBlbGVtLnZhbGlkaXR5LmJhZElucHV0KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAvXi0/WzAtOV0rJC8udGVzdCh2YWwpO1xuICAgIH0sXG4gICAgJ2Zsb2F0JzogZnVuY3Rpb24gZmxvYXQoZWxlbSwgYXJnLCB2YWwsIHZhbHVlKSB7XG4gICAgICBpZiAoZWxlbS50eXBlID09PSAnbnVtYmVyJyAmJiBlbGVtLnZhbGlkaXR5LmJhZElucHV0KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhbCA9IHZhbC5yZXBsYWNlKCcgJywgJycpLnJlcGxhY2UoJywnLCAnLicpO1xuICAgICAgaWYgKC9eLT9bMC05XSpbLixdP1swLTldKyQvLnRlc3QodmFsKSkge1xuICAgICAgICB2YWx1ZS52YWx1ZSA9IHZhbDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBtaW46IGZ1bmN0aW9uIG1pbihlbGVtLCBhcmcsIHZhbCkge1xuICAgICAgaWYgKGVsZW0udHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKGVsZW0udmFsaWRpdHkucmFuZ2VVbmRlcmZsb3cpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbS52YWxpZGl0eS5iYWRJbnB1dCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJnID09PSBudWxsIHx8IHBhcnNlRmxvYXQodmFsKSA+PSBhcmc7XG4gICAgfSxcbiAgICBtYXg6IGZ1bmN0aW9uIG1heChlbGVtLCBhcmcsIHZhbCkge1xuICAgICAgaWYgKGVsZW0udHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKGVsZW0udmFsaWRpdHkucmFuZ2VPdmVyZmxvdykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtLnZhbGlkaXR5LmJhZElucHV0KSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcmcgPT09IG51bGwgfHwgcGFyc2VGbG9hdCh2YWwpIDw9IGFyZztcbiAgICB9LFxuICAgIHJhbmdlOiBmdW5jdGlvbiByYW5nZShlbGVtLCBhcmcsIHZhbCkge1xuICAgICAgaWYgKGVsZW0udHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKGVsZW0udmFsaWRpdHkucmFuZ2VVbmRlcmZsb3cgfHwgZWxlbS52YWxpZGl0eS5yYW5nZU92ZXJmbG93KSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW0udmFsaWRpdHkuYmFkSW5wdXQpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIE5ldHRlLmlzQXJyYXkoYXJnKSA/IChhcmdbMF0gPT09IG51bGwgfHwgcGFyc2VGbG9hdCh2YWwpID49IGFyZ1swXSkgJiYgKGFyZ1sxXSA9PT0gbnVsbCB8fCBwYXJzZUZsb2F0KHZhbCkgPD0gYXJnWzFdKSA6IG51bGw7XG4gICAgfSxcbiAgICBzdWJtaXR0ZWQ6IGZ1bmN0aW9uIHN1Ym1pdHRlZChlbGVtLCBhcmcsIHZhbCkge1xuICAgICAgcmV0dXJuIGVsZW0uZm9ybVsnbmV0dGUtc3VibWl0dGVkQnknXSA9PT0gZWxlbTtcbiAgICB9LFxuICAgIGZpbGVTaXplOiBmdW5jdGlvbiBmaWxlU2l6ZShlbGVtLCBhcmcsIHZhbCkge1xuICAgICAgaWYgKHdpbmRvdy5GaWxlTGlzdCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICh2YWxbaV0uc2l6ZSA+IGFyZykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBpbWFnZTogZnVuY3Rpb24gaW1hZ2UoZWxlbSwgYXJnLCB2YWwpIHtcbiAgICAgIGlmICh3aW5kb3cuRmlsZUxpc3QgJiYgdmFsIGluc3RhbmNlb2Ygd2luZG93LkZpbGVMaXN0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHR5cGUgPSB2YWxbaV0udHlwZTtcbiAgICAgICAgICBpZiAodHlwZSAmJiB0eXBlICE9PSAnaW1hZ2UvZ2lmJyAmJiB0eXBlICE9PSAnaW1hZ2UvcG5nJyAmJiB0eXBlICE9PSAnaW1hZ2UvanBlZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUHJvY2VzcyBhbGwgdG9nZ2xlcyBpbiBmb3JtLlxuICAgKi9cbiAgTmV0dGUudG9nZ2xlRm9ybSA9IGZ1bmN0aW9uIChmb3JtLCBlbGVtKSB7XG4gICAgdmFyIGk7XG4gICAgTmV0dGUudG9nZ2xlcyA9IHt9O1xuICAgIGZvciAoaSA9IDA7IGkgPCBmb3JtLmVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoZm9ybS5lbGVtZW50c1tpXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgaW4ge1xuICAgICAgICBpbnB1dDogMSxcbiAgICAgICAgc2VsZWN0OiAxLFxuICAgICAgICB0ZXh0YXJlYTogMSxcbiAgICAgICAgYnV0dG9uOiAxXG4gICAgICB9KSB7XG4gICAgICAgIE5ldHRlLnRvZ2dsZUNvbnRyb2woZm9ybS5lbGVtZW50c1tpXSwgbnVsbCwgbnVsbCwgIWVsZW0pO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGkgaW4gTmV0dGUudG9nZ2xlcykge1xuICAgICAgTmV0dGUudG9nZ2xlKGksIE5ldHRlLnRvZ2dsZXNbaV0sIGVsZW0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUHJvY2VzcyB0b2dnbGVzIG9uIGZvcm0gZWxlbWVudC5cbiAgICovXG4gIE5ldHRlLnRvZ2dsZUNvbnRyb2wgPSBmdW5jdGlvbiAoZWxlbSwgcnVsZXMsIHN1Y2Nlc3MsIGZpcnN0dGltZSwgdmFsdWUpIHtcbiAgICBydWxlcyA9IHJ1bGVzIHx8IE5ldHRlLnBhcnNlSlNPTihlbGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1uZXR0ZS1ydWxlcycpKTtcbiAgICB2YWx1ZSA9IHZhbHVlID09PSB1bmRlZmluZWQgPyB7XG4gICAgICB2YWx1ZTogTmV0dGUuZ2V0RWZmZWN0aXZlVmFsdWUoZWxlbSlcbiAgICB9IDogdmFsdWU7XG4gICAgdmFyIGhhcyA9IGZhbHNlLFxuICAgICAgaGFuZGxlZCA9IFtdLFxuICAgICAgaGFuZGxlciA9IGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICAgIE5ldHRlLnRvZ2dsZUZvcm0oZWxlbS5mb3JtLCBlbGVtKTtcbiAgICAgIH0sXG4gICAgICBjdXJTdWNjZXNzO1xuICAgIGZvciAodmFyIGlkID0gMCwgbGVuID0gcnVsZXMubGVuZ3RoOyBpZCA8IGxlbjsgaWQrKykge1xuICAgICAgdmFyIHJ1bGUgPSBydWxlc1tpZF0sXG4gICAgICAgIG9wID0gcnVsZS5vcC5tYXRjaCgvKH4pPyhbXj9dKykvKSxcbiAgICAgICAgY3VyRWxlbSA9IHJ1bGUuY29udHJvbCA/IGVsZW0uZm9ybS5lbGVtZW50cy5uYW1lZEl0ZW0ocnVsZS5jb250cm9sKSA6IGVsZW07XG4gICAgICBpZiAoIWN1ckVsZW0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjdXJTdWNjZXNzID0gc3VjY2VzcztcbiAgICAgIGlmIChzdWNjZXNzICE9PSBmYWxzZSkge1xuICAgICAgICBydWxlLm5lZyA9IG9wWzFdO1xuICAgICAgICBydWxlLm9wID0gb3BbMl07XG4gICAgICAgIHZhciBjdXJWYWx1ZSA9IGVsZW0gPT09IGN1ckVsZW0gPyB2YWx1ZSA6IHtcbiAgICAgICAgICB2YWx1ZTogTmV0dGUuZ2V0RWZmZWN0aXZlVmFsdWUoY3VyRWxlbSlcbiAgICAgICAgfTtcbiAgICAgICAgY3VyU3VjY2VzcyA9IE5ldHRlLnZhbGlkYXRlUnVsZShjdXJFbGVtLCBydWxlLm9wLCBydWxlLmFyZywgY3VyVmFsdWUpO1xuICAgICAgICBpZiAoY3VyU3VjY2VzcyA9PT0gbnVsbCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHJ1bGUubmVnKSB7XG4gICAgICAgICAgY3VyU3VjY2VzcyA9ICFjdXJTdWNjZXNzO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcnVsZS5ydWxlcykge1xuICAgICAgICAgIHN1Y2Nlc3MgPSBjdXJTdWNjZXNzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocnVsZS5ydWxlcyAmJiBOZXR0ZS50b2dnbGVDb250cm9sKGVsZW0sIHJ1bGUucnVsZXMsIGN1clN1Y2Nlc3MsIGZpcnN0dGltZSwgdmFsdWUpIHx8IHJ1bGUudG9nZ2xlKSB7XG4gICAgICAgIGhhcyA9IHRydWU7XG4gICAgICAgIGlmIChmaXJzdHRpbWUpIHtcbiAgICAgICAgICB2YXIgb2xkSUUgPSAhZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcixcbiAgICAgICAgICAgIC8vIElFIDwgOVxuICAgICAgICAgICAgbmFtZSA9IGN1ckVsZW0udGFnTmFtZSA/IGN1ckVsZW0ubmFtZSA6IGN1ckVsZW1bMF0ubmFtZSxcbiAgICAgICAgICAgIGVscyA9IGN1ckVsZW0udGFnTmFtZSA/IGN1ckVsZW0uZm9ybS5lbGVtZW50cyA6IGN1ckVsZW07XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlbHNbaV0ubmFtZSA9PT0gbmFtZSAmJiAhTmV0dGUuaW5BcnJheShoYW5kbGVkLCBlbHNbaV0pKSB7XG4gICAgICAgICAgICAgIE5ldHRlLmFkZEV2ZW50KGVsc1tpXSwgb2xkSUUgJiYgZWxzW2ldLnR5cGUgaW4ge1xuICAgICAgICAgICAgICAgIGNoZWNrYm94OiAxLFxuICAgICAgICAgICAgICAgIHJhZGlvOiAxXG4gICAgICAgICAgICAgIH0gPyAnY2xpY2snIDogJ2NoYW5nZScsIGhhbmRsZXIpO1xuICAgICAgICAgICAgICBoYW5kbGVkLnB1c2goZWxzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaWQyIGluIHJ1bGUudG9nZ2xlIHx8IFtdKSB7XG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChydWxlLnRvZ2dsZSwgaWQyKSkge1xuICAgICAgICAgICAgTmV0dGUudG9nZ2xlc1tpZDJdID0gTmV0dGUudG9nZ2xlc1tpZDJdIHx8IChydWxlLnRvZ2dsZVtpZDJdID8gY3VyU3VjY2VzcyA6ICFjdXJTdWNjZXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhhcztcbiAgfTtcbiAgTmV0dGUucGFyc2VKU09OID0gZnVuY3Rpb24gKHMpIHtcbiAgICByZXR1cm4gKHMgfHwgJycpLnN1YnN0cigwLCAzKSA9PT0gJ3tvcCcgPyBldmFsKCdbJyArIHMgKyAnXScpIC8vIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBOZXR0ZSAyLjAueFxuICAgIDogSlNPTi5wYXJzZShzIHx8ICdbXScpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyBvciBoaWRlcyBIVE1MIGVsZW1lbnQuXG4gICAqL1xuICBOZXR0ZS50b2dnbGUgPSBmdW5jdGlvbiAoaWQsIHZpc2libGUsIHNyY0VsZW1lbnQpIHtcbiAgICB2YXIgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICBpZiAoZWxlbSkge1xuICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gdmlzaWJsZSA/ICcnIDogJ25vbmUnO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2V0dXAgaGFuZGxlcnMuXG4gICAqL1xuICBOZXR0ZS5pbml0Rm9ybSA9IGZ1bmN0aW9uIChmb3JtKSB7XG4gICAgTmV0dGUudG9nZ2xlRm9ybShmb3JtKTtcbiAgICBpZiAoZm9ybS5ub1ZhbGlkYXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvcm0ubm9WYWxpZGF0ZSA9IHRydWU7XG4gICAgTmV0dGUuYWRkRXZlbnQoZm9ybSwgJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoIU5ldHRlLnZhbGlkYXRlRm9ybShmb3JtKSkge1xuICAgICAgICBpZiAoZSAmJiBlLnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5ldmVudCkge1xuICAgICAgICAgIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgICAgZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTmV0dGUuaW5pdE9uTG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBOZXR0ZS5hZGRFdmVudChkb2N1bWVudCwgJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvY3VtZW50LmZvcm1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBmb3JtID0gZG9jdW1lbnQuZm9ybXNbaV07XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZm9ybS5lbGVtZW50cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGlmIChmb3JtLmVsZW1lbnRzW2pdLmdldEF0dHJpYnV0ZSgnZGF0YS1uZXR0ZS1ydWxlcycpKSB7XG4gICAgICAgICAgICBOZXR0ZS5pbml0Rm9ybShmb3JtKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgTmV0dGUuYWRkRXZlbnQoZG9jdW1lbnQuYm9keSwgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcbiAgICAgICAgd2hpbGUgKHRhcmdldCkge1xuICAgICAgICAgIGlmICh0YXJnZXQuZm9ybSAmJiB0YXJnZXQudHlwZSBpbiB7XG4gICAgICAgICAgICBzdWJtaXQ6IDEsXG4gICAgICAgICAgICBpbWFnZTogMVxuICAgICAgICAgIH0pIHtcbiAgICAgICAgICAgIHRhcmdldC5mb3JtWyduZXR0ZS1zdWJtaXR0ZWRCeSddID0gdGFyZ2V0O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBhcmd1bWVudCBpcyBhbiBhcnJheS5cbiAgICovXG4gIE5ldHRlLmlzQXJyYXkgPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmcpID09PSAnW29iamVjdCBBcnJheV0nO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZWFyY2ggZm9yIGEgc3BlY2lmaWVkIHZhbHVlIHdpdGhpbiBhbiBhcnJheS5cbiAgICovXG4gIE5ldHRlLmluQXJyYXkgPSBmdW5jdGlvbiAoYXJyLCB2YWwpIHtcbiAgICBpZiAoW10uaW5kZXhPZikge1xuICAgICAgcmV0dXJuIGFyci5pbmRleE9mKHZhbCkgPiAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFycltpXSA9PT0gdmFsKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIHN0cmluZyB0byB3ZWIgc2FmZSBjaGFyYWN0ZXJzIFthLXowLTktXSB0ZXh0LlxuICAgKi9cbiAgTmV0dGUud2ViYWxpemUgPSBmdW5jdGlvbiAocykge1xuICAgIHMgPSBzLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIHJlcyA9ICcnLFxuICAgICAgaSxcbiAgICAgIGNoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjaCA9IE5ldHRlLndlYmFsaXplVGFibGVbcy5jaGFyQXQoaSldO1xuICAgICAgcmVzICs9IGNoID8gY2ggOiBzLmNoYXJBdChpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5yZXBsYWNlKC9bXmEtejAtOV0rL2csICctJykucmVwbGFjZSgvXi18LSQvZywgJycpO1xuICB9O1xuICBOZXR0ZS53ZWJhbGl6ZVRhYmxlID0ge1xuICAgIMOhOiAnYScsXG4gICAgw6Q6ICdhJyxcbiAgICDEjTogJ2MnLFxuICAgIMSPOiAnZCcsXG4gICAgw6k6ICdlJyxcbiAgICDEmzogJ2UnLFxuICAgIMOtOiAnaScsXG4gICAgxL46ICdsJyxcbiAgICDFiDogJ24nLFxuICAgIMOzOiAnbycsXG4gICAgw7Q6ICdvJyxcbiAgICDFmTogJ3InLFxuICAgIMWhOiAncycsXG4gICAgxaU6ICd0JyxcbiAgICDDujogJ3UnLFxuICAgIMWvOiAndScsXG4gICAgw706ICd5JyxcbiAgICDFvjogJ3onXG4gIH07XG5cbiAgLy8g6L6T5YWl5pe25pi+56S66ZSZ6K+v5L+h5oGvXG4gIGpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCQpIHtcbiAgICAvLyDmmL7npLrplJnor6/kv6Hmga9cbiAgICBmdW5jdGlvbiBzaG93RXJyb3JzKGVycm9ycywgZm9jdXMpIHtcbiAgICAgIGVycm9ycy5mb3JFYWNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSkge1xuICAgICAgICAgICQoZXJyb3IuZWxlbWVudCkucGFyZW50cygnLnJzLWNvbnRyb2wtaW5wdXQnKS5hZGRDbGFzcygncnMtaGFzLWVycm9yJykuZmluZCgnLnJzLWVycm9yLW1zZycpLnJlbW92ZSgpO1xuICAgICAgICAgICQoZXJyb3IuZWxlbWVudCkucGFyZW50cygnLnJzLWNvbnRyb2wtaW5wdXQnKS5hcHBlbmQoJCgnPHNwYW4gY2xhc3M9cnMtZXJyb3ItbXNnPicpLnRleHQoZXJyb3IubWVzc2FnZSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb2N1cyAmJiBlcnJvci5lbGVtZW50LmZvY3VzKSB7XG4gICAgICAgICAgZXJyb3IuZWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgIGZvY3VzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIOenu+mZpOmUmeivr+S/oeaBr1xuICAgIGZ1bmN0aW9uIHJlbW92ZUVycm9ycyhlbGVtKSB7XG4gICAgICBpZiAoJChlbGVtKS5pcygnZm9ybScpKSB7XG4gICAgICAgICQoJy5ycy1oYXMtZXJyb3InLCBlbGVtKS5yZW1vdmVDbGFzcygncnMtaGFzLWVycm9yJyk7XG4gICAgICAgICQoJy5ycy1lcnJvci1tc2cnLCBlbGVtKS5yZW1vdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoZWxlbSkucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ3JzLWhhcy1lcnJvcicpLmZpbmQoJy5ycy1lcnJvci1tc2cnKS5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDmmL7npLrooajljZXplJnor6/kv6Hmga9cbiAgICBOZXR0ZS5zaG93Rm9ybUVycm9ycyA9IGZ1bmN0aW9uIChmb3JtLCBlcnJvcnMpIHtcbiAgICAgIHJlbW92ZUVycm9ycyhmb3JtKTtcbiAgICAgIHNob3dFcnJvcnMoZXJyb3JzLCB0cnVlKTtcbiAgICB9O1xuICAgIHZhciBpbnB1dCA9ICQoJzppbnB1dCcpO1xuICAgIGlucHV0LmtleXByZXNzKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJlbW92ZUVycm9ycyh0aGlzKTtcbiAgICB9KTtcbiAgICBpbnB1dC5ibHVyKGZ1bmN0aW9uICgpIHtcbiAgICAgIE5ldHRlLmZvcm1FcnJvcnMgPSBbXTtcbiAgICAgIE5ldHRlLnZhbGlkYXRlQ29udHJvbCh0aGlzKTtcbiAgICAgIHNob3dFcnJvcnMoTmV0dGUuZm9ybUVycm9ycyk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gTmV0dGU7XG59KTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./assets/scripts/modules/nette-forms.js\n");

/***/ }),

/***/ "jquery":
/*!*************************!*\
  !*** external "jQuery" ***!
  \*************************/
/***/ (function(module) {

"use strict";
module.exports = jQuery;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./assets/scripts/modules/nette-forms.js");
/******/ 	
/******/ })()
;