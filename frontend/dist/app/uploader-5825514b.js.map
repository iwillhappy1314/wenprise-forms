{"version":3,"sources":["webpack:///./assets/scripts/modules/ajax-uploader.js","webpack:///./node_modules/.pnpm/dm-file-uploader@1.0.2/node_modules/dm-file-uploader/src/js/jquery.dm-uploader.js","webpack:///./node_modules/.pnpm/@wpackio+entrypoint@4.4.1/node_modules/@wpackio/entrypoint/lib/index.js","webpack:///external \"jQuery\""],"names":["$","close_icon","jQuery","fn","wprsAjaxUploader","options","this","data","el","defaults","url","find","type","dataType","maxFileSize","auto","queue","multiple","onBeforeUpload","empty","onDragEnter","addClass","onDragLeave","removeClass","onUploadSuccess","id","name","is_multiple","button","thumb","title","filter","value","remove","append","show","hide","onUploadError","xhr","status","errorThrown","html","wprsUploaderL10n","error","onUploadComplete","onUploadCanceled","canceled","onUploadProgress","percent","css","onFileTypeError","file","file_type_error","onFileSizeError","file_size_error","onFileExtError","file_ext_error","settings","extend","dmUploader","on","uploader","closest","attr","parent","each","thumbnails","children","length","e","preventDefault","wprs_wp_media_uploader","wprs_wp_media_target_input","next","wp","media","frames","file_frame","choose_image","text","insert_image","target_input","state","get","toJSON","forEach","attachment","el_preview","el_value","wp_uploader","console","log","open","factory","pluginName","FileStatus","dnd","hookDocument","document","URL","method","extraData","headers","fieldName","allowedTypes","extFilter","onInit","onComplete","onFallbackMode","onNewFile","onDocumentDragEnter","onDocumentDragLeave","DmUploaderFile","widget","jqXHR","Math","random","toString","substr","prototype","upload","canUpload","queueRunning","processQueue","fd","FormData","customData","call","element","exKey","exVal","activeFiles","ajax","cache","contentType","processData","forceSync","getXhr","success","onSuccess","errMsg","onError","complete","xhrobj","ajaxSettings","addEventListener","event","position","loaded","total","totalSize","lengthComputable","ceil","cancel","abort","myStatus","DmUploader","checkSupport","init","window","RegExp","test","navigator","userAgent","prop","queuePos","draggingOver","draggingOverDoc","input","is","evt","files","target","addFiles","val","initDnD","dataTransfer","originalEvent","push","off","releaseEvents","validateFile","size","match","ext","toLowerCase","split","pop","inArray","nFiles","i","restartQueue","findById","r","cancelAll","queueWasRunning","startAll","methods","start","reset","destroy","removeData","args","arguments","plugin","apply","Array","slice","path","replace","concat","module","exports"],"mappings":"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","file":"app/uploader-5825514b.js","sourcesContent":["import 'dm-file-uploader';\n\n(function($) {\n    var close_icon = '<svg class=\"icon\" viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\"><path d=\"M49.6 158.4l104-108.8 358.4 352 356.8-352 105.6 105.6-352 356.8 352 355.2-102.4 107.2L512 620.8 155.2 974.4l-105.6-105.6L406.4 512z\" p-id=\"3640\" fill=\"#ffffff\"></path></svg>',\n\n        file_icon = '<svg class=\"icon\" style=\"\" viewBox=\"0 0 1024 1024\" xmlns=\"http://www.w3.org/2000/svg\" width=\"128\" height=\"128\"><defs><style type=\"text/css\"></style></defs><path d=\"M768 426.666667H341.333333a17.066667 17.066667 0 1 0 0 34.133333h426.666667a17.066667 17.066667 0 1 0 0-34.133333zM341.333333 324.266667h170.666667a17.066667 17.066667 0 1 0 0-34.133334H341.333333a17.066667 17.066667 0 1 0 0 34.133334zM768 563.2H341.333333a17.066667 17.066667 0 1 0 0 34.133333h426.666667a17.066667 17.066667 0 1 0 0-34.133333zM768 699.733333H341.333333a17.066667 17.066667 0 1 0 0 34.133334h426.666667a17.066667 17.066667 0 1 0 0-34.133334zM768 836.266667H341.333333a17.066667 17.066667 0 1 0 0 34.133333h426.666667a17.066667 17.066667 0 1 0 0-34.133333z\" p-id=\"2458\" fill=\"#666666\"></path><path d=\"M836.266667 248.9344V0H102.4v938.666667h85.333333v85.333333h733.866667V334.267733l-85.333333-85.333333z m-153.6-105.335467l153.6 153.6L863.3344 324.266667H682.666667V143.598933zM136.533333 904.533333V34.133333h665.6v180.667734L672.6656 85.333333H187.733333v819.2H136.533333z m85.333334 85.333334V119.466667h426.666666v238.933333h238.933334v631.466667H221.866667z\" p-id=\"2459\" fill=\"#666666\"></path></svg>';\n\n    $.fn.wprsAjaxUploader = function() {\n        var options = this.data('settings'),\n            el = this,\n\n            defaults = {\n                url             : el.find('.rs-uploader__shadow').data('url'),\n                type            : 'POST',\n                dataType        : 'json',\n                maxFileSize     : 2000000,\n                auto            : true,\n                queue           : false,\n                multiple        : (el.data('multiple') === true),\n                onBeforeUpload  : function() {\n                    el.find('.js-uploader-message').empty();\n                },\n                onDragEnter     : function() {\n                    el.addClass('active');\n                },\n                onDragLeave     : function() {\n                    el.removeClass('active');\n                },\n                onUploadSuccess : function(id, data) {\n                    var name = el.data('name'),\n                        is_multiple = (el.data('multiple') === true),\n\n                        // @formatter:off\n                        button = '<button type=\"button\" class=\"rs-uploader__close\" data-value=' + data.id + '>' + close_icon + '</button>',\n                        thumb = '<img src=\"' + data.thumb + '\" alt=\"Thumbnail\">';\n\n                    if (!data.thumb) {\n                        thumb = file_icon + data.title;\n                    }\n\n                    el.\n                        find('input:text').\n                        filter(function() { return this.value === ''; }).\n                        remove();\n\n                    if (!is_multiple) {\n                        el.find('.rs-uploader__text').hide();\n                        el.find('.rs-uploader__button').hide();\n\n                        el.\n                            find('.rs-uploader__value').\n                            empty().\n                            append('<input type=\"hidden\" name=\"' + name + '\" value=\"' + data.id + '\">');\n\n                        el.\n                            find('.rs-uploader__preview').\n                            empty().\n                            show().\n                            append('<div class=\"rs-uploader__thumbnail\">' + button + thumb + '</div>');\n                    } else {\n\n                        el.\n                            find('.rs-uploader__value').\n                            append('<input type=\"hidden\" name=\"' + name + '\" value=\"' + data.id + '\">');\n\n                        el.\n                            find('.rs-uploader__preview').\n                            show().\n                            append('<div class=\"rs-uploader__thumbnail\">' + button + thumb + '</div>');\n                    }\n\n                },\n                onUploadError   : function(id, xhr, status, errorThrown) {\n                    el.find('.js-uploader-message').html(wprsUploaderL10n.error);\n                },\n                onUploadComplete: function(id) {\n                    el.find('.js-progress').remove();\n                },\n                onUploadCanceled: function(id) {\n                    el.find('.js-uploader-message').html(wprsUploaderL10n.canceled);\n                },\n                onUploadProgress: function(id, percent) {\n                    el.find('.js-uploader-message').html($('<div class=\"js-progress\">').css('width', percent + '%'));\n                },\n                onFileTypeError : function(file) {\n                    el.find('.js-uploader-message').html(wprsUploaderL10n.file_type_error);\n                },\n                onFileSizeError : function(file) {\n                    el.find('.js-uploader-message').html(wprsUploaderL10n.file_size_error);\n                },\n                onFileExtError  : function(file) {\n                    el.find('.js-uploader-message').html(wprsUploaderL10n.file_ext_error);\n                },\n            };\n\n        var settings = $.extend({}, defaults, options);\n\n        /**\n         * 初始化文件上传组件\n         */\n        el.dmUploader(settings);\n\n        /**\n         * 删除缩略图\n         */\n        $('body').on('click', '.rs-uploader__close', function() {\n\n            var value = $(this).data('value'),\n                uploader = $(this).closest('.js-uploader'),\n                is_multiple = (uploader.data('multiple') === true);\n\n            // 移除值\n            if (!is_multiple) {\n                uploader.find('.rs-uploader__value input').attr('value', '');\n\n                uploader.show();\n                uploader.find('.rs-uploader__text').show();\n                uploader.find('.rs-uploader__button').show();\n            } else {\n                uploader.find('input[value=' + value + ']').remove();\n            }\n\n            // 移除缩略图\n            $(this).parent().remove();\n\n        });\n\n        /**\n         * 单文件上传时，如果已有文件，移除上传组件\n         */\n        $('input[name=js-input-shadow]').each(function() {\n\n            var uploader = $(this).closest('.js-uploader'),\n                is_multiple = (uploader.data('multiple') === true),\n                thumbnails = uploader.find('.rs-uploader__preview').children().length;\n\n            if (!is_multiple && thumbnails > 0) {\n                uploader.find('.rs-uploader__text').hide();\n                $(this).parent().hide();\n            }\n\n        });\n    };\n\n    /**\n     * WordPress Uploader\n     */\n    $('.rs-wp-uploader__button').on('click', function(e) {\n        e.preventDefault();\n\n        var wprs_wp_media_uploader,\n            wprs_wp_media_target_input = $(this).next().attr('id'),\n            uploader = $(this).closest('.rs-wp-uploader'),\n            name = uploader.data('name'),\n            is_multiple = (uploader.data('multiple') === true);\n\n        if (wprs_wp_media_uploader) {\n            wprs_wp_media_uploader.open();\n            return;\n        }\n\n        wprs_wp_media_uploader = wp.media.frames.file_frame = wp.media({\n            title   : wprsUploaderL10n.choose_image,\n            button  : {\n                text: wprsUploaderL10n.insert_image,\n            },\n            multiple: is_multiple,\n        });\n\n        wprs_wp_media_uploader.on('select', function() {\n            var target_input = $('#' + wprs_wp_media_target_input).parent(),\n                attachments = wprs_wp_media_uploader.state().get('selection').toJSON();\n\n            attachments.forEach(function(attachment){\n                var button = '<button type=\"button\" class=\"rs-uploader__close rs-wp-uploader__close\" data-value=' + attachment.id + '>' + close_icon + '</button>',\n                    thumb = '<div class=\"rs-uploader__thumbnail\">' + button + '<img src=\"' + attachment.url + '\" alt=\"Thumbnail\"></div>',\n                    el_preview = target_input.find('.rs-uploader__preview'),\n                    el_value = target_input.find('.rs-uploader__value');\n\n                target_input.find('input:text').remove();\n\n                if(is_multiple){\n                    el_value.append('<input type=\"hidden\" name=\"' + name + '\" value=\"' + attachment.id + '\">');\n\n                    el_preview.append(thumb).show();\n                } else{\n                    el_value.html('<input type=\"hidden\" name=\"' + name + '\" value=\"' + attachment.id + '\">');\n\n                    el_preview.html(thumb).show();\n                }\n            });\n        });\n\n        /**\n         * 删除缩略图\n         */\n        $('.rs-form--wp-uploader').on('click', 'button.rs-wp-uploader__close', function(el) {\n            var value = $(this).data('value'),\n                wp_uploader = $('body').find('.rs-wp-uploader__field');\n\n            console.log(wp_uploader.find('input[value=' + value + ']'));\n\n            // 移除值\n            wp_uploader.find('input[value=' + value + ']').remove();\n\n            // 移除缩略图\n            $(this).parent().remove();\n        });\n\n        wprs_wp_media_uploader.open();\n    });\n\n})(jQuery);","/*\n * dmUploader - jQuery Ajax File Uploader Widget\n * https://github.com/danielm/uploader\n *\n * Copyright Daniel Morales <daniel85mg@gmail.com>\n * Released under the MIT license.\n * https://github.com/danielm/uploader/blob/master/LICENSE.txt\n *\n * @preserve\n */ /* global define, define, window, document, FormData */(function(factory){\"use strict\";if(typeof define===\"function\"&&define.amd){// AMD. Register as an anonymous module.\ndefine([\"jquery\"],factory);}else if(typeof exports!==\"undefined\"){module.exports=factory(require(\"jquery\"));}else{// Browser globals\nfactory(window.jQuery);}})(function($){\"use strict\";var pluginName=\"dmUploader\";var FileStatus={PENDING:0,UPLOADING:1,COMPLETED:2,FAILED:3,CANCELLED:4//(by the user)\n};// These are the plugin defaults values\nvar defaults={auto:true,queue:true,dnd:true,hookDocument:true,multiple:true,url:document.URL,method:\"POST\",extraData:{},headers:{},dataType:null,fieldName:\"file\",maxFileSize:0,allowedTypes:\"*\",extFilter:null,onInit:function onInit(){},onComplete:function onComplete(){},onFallbackMode:function onFallbackMode(){},onNewFile:function onNewFile(){},//params: id, file\nonBeforeUpload:function onBeforeUpload(){},//params: id\nonUploadProgress:function onUploadProgress(){},//params: id, percent\nonUploadSuccess:function onUploadSuccess(){},//params: id, data\nonUploadCanceled:function onUploadCanceled(){},//params: id\nonUploadError:function onUploadError(){},//params: id, xhr, status, message\nonUploadComplete:function onUploadComplete(){},//params: id\nonFileTypeError:function onFileTypeError(){},//params: file\nonFileSizeError:function onFileSizeError(){},//params: file\nonFileExtError:function onFileExtError(){},//params: file\nonDragEnter:function onDragEnter(){},onDragLeave:function onDragLeave(){},onDocumentDragEnter:function onDocumentDragEnter(){},onDocumentDragLeave:function onDocumentDragLeave(){}};var DmUploaderFile=function DmUploaderFile(file,widget){this.data=file;this.widget=widget;this.jqXHR=null;this.status=FileStatus.PENDING;// The file id doesnt have to bo that special.... or not?\nthis.id=Math.random().toString(36).substr(2);};DmUploaderFile.prototype.upload=function(){var file=this;if(!file.canUpload()){if(file.widget.queueRunning&&file.status!==FileStatus.UPLOADING){file.widget.processQueue();}return false;}// Form Data\nvar fd=new FormData();fd.append(file.widget.settings.fieldName,file.data);// Append extra Form Data\nvar customData=file.widget.settings.extraData;if(typeof customData===\"function\"){customData=customData.call(file.widget.element,file.id);}$.each(customData,function(exKey,exVal){fd.append(exKey,exVal);});file.status=FileStatus.UPLOADING;file.widget.activeFiles++;file.widget.settings.onBeforeUpload.call(file.widget.element,file.id);// Ajax Submit\nfile.jqXHR=$.ajax({url:file.widget.settings.url,type:file.widget.settings.method,dataType:file.widget.settings.dataType,data:fd,headers:file.widget.settings.headers,cache:false,contentType:false,processData:false,forceSync:false,xhr:function xhr(){return file.getXhr();},success:function success(data){file.onSuccess(data);},error:function error(xhr,status,errMsg){file.onError(xhr,status,errMsg);},complete:function complete(){file.onComplete();}});return true;};DmUploaderFile.prototype.onSuccess=function(data){this.status=FileStatus.COMPLETED;this.widget.settings.onUploadSuccess.call(this.widget.element,this.id,data);};DmUploaderFile.prototype.onError=function(xhr,status,errMsg){// If the status is: cancelled (by the user) don't invoke the error callback\nif(this.status!==FileStatus.CANCELLED){this.status=FileStatus.FAILED;this.widget.settings.onUploadError.call(this.widget.element,this.id,xhr,status,errMsg);}};DmUploaderFile.prototype.onComplete=function(){this.widget.activeFiles--;if(this.status!==FileStatus.CANCELLED){this.widget.settings.onUploadComplete.call(this.widget.element,this.id);}if(this.widget.queueRunning){this.widget.processQueue();}else if(this.widget.settings.queue&&this.widget.activeFiles===0){this.widget.settings.onComplete.call(this.element);}};DmUploaderFile.prototype.getXhr=function(){var file=this;var xhrobj=$.ajaxSettings.xhr();if(xhrobj.upload){xhrobj.upload.addEventListener(\"progress\",function(event){var percent=0;var position=event.loaded||event.position;var total=event.total||event.totalSize;if(event.lengthComputable){percent=Math.ceil(position/total*100);}file.widget.settings.onUploadProgress.call(file.widget.element,file.id,percent);},false);}return xhrobj;};DmUploaderFile.prototype.cancel=function(abort){// The abort flag is to track if we are calling this function directly (using the cancel Method, by id)\n// or the call comes from the 'gobal' method aka cancelAll.\n// THis mean that we don't want to trigger the cancel event on file that isn't uploading, UNLESS directly doing it\n// ... and yes, it could be done prettier. Review (?)\nabort=typeof abort===\"undefined\"?false:abort;var myStatus=this.status;if(myStatus===FileStatus.UPLOADING||abort&&myStatus===FileStatus.PENDING){this.status=FileStatus.CANCELLED;}else{return false;}this.widget.settings.onUploadCanceled.call(this.widget.element,this.id);if(myStatus===FileStatus.UPLOADING){this.jqXHR.abort();}return true;};DmUploaderFile.prototype.canUpload=function(){return this.status===FileStatus.PENDING||this.status===FileStatus.FAILED;};var DmUploader=function DmUploader(element,options){this.element=$(element);this.settings=$.extend({},defaults,options);if(!this.checkSupport()){$.error(\"Browser not supported by jQuery.dmUploader\");this.settings.onFallbackMode.call(this.element);return false;}this.init();return this;};DmUploader.prototype.checkSupport=function(){// This one is mandatory for all modes\nif(typeof window.FormData===\"undefined\"){return false;}// Test based on: Modernizr/feature-detects/forms/fileinput.js\nvar exp=new RegExp(\"/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|\"+\"(Windows Phone (OS 7|8.0))|(XBLWP)|\"+\"(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|\"+\"(Kindle\\/(1.0|2.0|2.5|3.0))/\");if(exp.test(window.navigator.userAgent)){return false;}return!$(\"<input type=\\\"file\\\" />\").prop(\"disabled\");};DmUploader.prototype.init=function(){var widget=this;// Queue vars\nthis.queue=[];this.queuePos=-1;this.queueRunning=false;this.activeFiles=0;this.draggingOver=0;this.draggingOverDoc=0;var input=widget.element.is(\"input[type=file]\")?widget.element:widget.element.find(\"input[type=file]\");//-- Is the input our main element itself??\nif(input.length>0){input.prop(\"multiple\",this.settings.multiple);// Or does it has the input as a child\ninput.on(\"change.\"+pluginName,function(evt){var files=evt.target&&evt.target.files;if(!files||!files.length){return;}widget.addFiles(files);$(this).val(\"\");});}if(this.settings.dnd){this.initDnD();}if(input.length===0&&!this.settings.dnd){// Trigger an error because if this happens the plugin wont do anything.\n$.error(\"Markup error found by jQuery.dmUploader\");return null;}// We good to go, tell them!\nthis.settings.onInit.call(this.element);return this;};DmUploader.prototype.initDnD=function(){var widget=this;// -- Now our own Drop\nwidget.element.on(\"drop.\"+pluginName,function(evt){evt.preventDefault();if(widget.draggingOver>0){widget.draggingOver=0;widget.settings.onDragLeave.call(widget.element);}var dataTransfer=evt.originalEvent&&evt.originalEvent.dataTransfer;if(!dataTransfer||!dataTransfer.files||!dataTransfer.files.length){return;}// Take only the first file if not acepting multiple, this is kinda ugly. Needs Review ?\nvar files=[];if(widget.settings.multiple){files=dataTransfer.files;}else{files.push(dataTransfer.files[0]);}widget.addFiles(files);});//-- These two events/callbacks are onlt to maybe do some fancy visual stuff\nwidget.element.on(\"dragenter.\"+pluginName,function(evt){evt.preventDefault();if(widget.draggingOver===0){widget.settings.onDragEnter.call(widget.element);}widget.draggingOver++;});widget.element.on(\"dragleave.\"+pluginName,function(evt){evt.preventDefault();widget.draggingOver--;if(widget.draggingOver===0){widget.settings.onDragLeave.call(widget.element);}});if(!widget.settings.hookDocument){return;}// Adding some off/namepacing to prevent some weird cases when people use multiple instances\n$(document).off(\"drop.\"+pluginName).on(\"drop.\"+pluginName,function(evt){evt.preventDefault();if(widget.draggingOverDoc>0){widget.draggingOverDoc=0;widget.settings.onDocumentDragLeave.call(widget.element);}});$(document).off(\"dragenter.\"+pluginName).on(\"dragenter.\"+pluginName,function(evt){evt.preventDefault();if(widget.draggingOverDoc===0){widget.settings.onDocumentDragEnter.call(widget.element);}widget.draggingOverDoc++;});$(document).off(\"dragleave.\"+pluginName).on(\"dragleave.\"+pluginName,function(evt){evt.preventDefault();widget.draggingOverDoc--;if(widget.draggingOverDoc===0){widget.settings.onDocumentDragLeave.call(widget.element);}});$(document).off(\"dragover.\"+pluginName).on(\"dragover.\"+pluginName,function(evt){evt.preventDefault();});};DmUploader.prototype.releaseEvents=function(){// Leave everyone ALONE ;_;\nthis.element.off(\".\"+pluginName);this.element.find(\"input[type=file]\").off(\".\"+pluginName);if(this.settings.hookDocument){$(document).off(\".\"+pluginName);}};DmUploader.prototype.validateFile=function(file){// Check file size\nif(this.settings.maxFileSize>0&&file.size>this.settings.maxFileSize){this.settings.onFileSizeError.call(this.element,file);return false;}// Check file type\nif(this.settings.allowedTypes!==\"*\"&&!file.type.match(this.settings.allowedTypes)){this.settings.onFileTypeError.call(this.element,file);return false;}// Check file extension\nif(this.settings.extFilter!==null){var ext=file.name.toLowerCase().split(\".\").pop();if($.inArray(ext,this.settings.extFilter)<0){this.settings.onFileExtError.call(this.element,file);return false;}}return new DmUploaderFile(file,this);};DmUploader.prototype.addFiles=function(files){var nFiles=0;for(var i=0;i<files.length;i++){var file=this.validateFile(files[i]);if(!file){continue;}// If the callback returns false file will not be processed. This may allow some customization\nvar can_continue=this.settings.onNewFile.call(this.element,file.id,file.data);if(can_continue===false){continue;}// If we are using automatic uploading, and not a file queue: go for the upload\nif(this.settings.auto&&!this.settings.queue){file.upload();}this.queue.push(file);nFiles++;}// No files were added\nif(nFiles===0){return this;}// Are we auto-uploading files?\nif(this.settings.auto&&this.settings.queue&&!this.queueRunning){this.processQueue();}return this;};DmUploader.prototype.processQueue=function(){this.queuePos++;if(this.queuePos>=this.queue.length){if(this.activeFiles===0){this.settings.onComplete.call(this.element);}// Wait until new files are droped\nthis.queuePos=this.queue.length-1;this.queueRunning=false;return false;}this.queueRunning=true;// Start next file\nreturn this.queue[this.queuePos].upload();};DmUploader.prototype.restartQueue=function(){this.queuePos=-1;this.queueRunning=false;this.processQueue();};DmUploader.prototype.findById=function(id){var r=false;for(var i=0;i<this.queue.length;i++){if(this.queue[i].id===id){r=this.queue[i];break;}}return r;};DmUploader.prototype.cancelAll=function(){var queueWasRunning=this.queueRunning;this.queueRunning=false;// cancel 'em all\nfor(var i=0;i<this.queue.length;i++){this.queue[i].cancel();}if(queueWasRunning){this.settings.onComplete.call(this.element);}};DmUploader.prototype.startAll=function(){if(this.settings.queue){// Resume queue\nthis.restartQueue();}else{// or upload them all\nfor(var i=0;i<this.queue.length;i++){this.queue[i].upload();}}};// Public API methods\nDmUploader.prototype.methods={start:function start(id){if(this.queueRunning){// Do not allow to manually upload Files when a queue is running\nreturn false;}var file=false;if(typeof id!==\"undefined\"){file=this.findById(id);if(!file){// File not found in stack\n$.error(\"File not found in jQuery.dmUploader\");return false;}}// Trying to Start an upload by ID\nif(file){if(file.status===FileStatus.CANCELLED){file.status=FileStatus.PENDING;}return file.upload();}// With no id provided...\nthis.startAll();return true;},cancel:function cancel(id){var file=false;if(typeof id!==\"undefined\"){file=this.findById(id);if(!file){// File not found in stack\n$.error(\"File not found in jQuery.dmUploader\");return false;}}if(file){return file.cancel(true);}// With no id provided...\nthis.cancelAll();return true;},reset:function reset(){this.cancelAll();this.queue=[];this.queuePos=-1;this.activeFiles=0;return true;},destroy:function destroy(){this.cancelAll();this.releaseEvents();this.element.removeData(pluginName);}};$.fn.dmUploader=function(options){var args=arguments;if(typeof options===\"string\"){this.each(function(){var plugin=$.data(this,pluginName);if(plugin instanceof DmUploader){if(typeof plugin.methods[options]===\"function\"){plugin.methods[options].apply(plugin,Array.prototype.slice.call(args,1));}else{$.error(\"Method \"+options+\" does not exist in jQuery.dmUploader\");}}else{$.error(\"Unknown plugin data found by jQuery.dmUploader\");}});}else{return this.each(function(){if(!$.data(this,pluginName)){$.data(this,pluginName,new DmUploader(this,options));}});}};});","\"use strict\";/* eslint-disable @typescript-eslint/camelcase */ /* eslint-disable no-underscore-dangle */ // eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n/* global __webpack_public_path__ */ // eslint-disable-next-line spaced-comment\n///<reference types=\"webpack-env\" />\n// We expect __webpack_public_path__ to be present, thanks to webpack\n// We are not using DOM in the typescript library, so let's just hack our way\n// through window\n// tslint:disable-next-line:no-any\n// We would override __webpack_public_path__ only if __WPACKIO__ webpack plugin is set\nif(__WPACKIO__){var path=(__WPACKIO__.appName+__WPACKIO__.outputPath).replace(/[^a-zA-Z0-9_-]/g,'');// eslint-disable-next-line no-global-assign\n__webpack_public_path__=window[\"__wpackIo\".concat(path)];}","module.exports = jQuery;"],"sourceRoot":""}